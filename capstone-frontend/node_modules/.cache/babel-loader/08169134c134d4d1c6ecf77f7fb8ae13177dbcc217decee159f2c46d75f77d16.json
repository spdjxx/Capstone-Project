{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUpModal=_ref=>{let{onClose}=_ref;const[userType,setUserType]=useState(\"\");// Track user type\nconst[classKey,setClassKey]=useState(\"\");// Track class key\nconst[firstName,setFirstName]=useState(\"\");const[lastName,setLastName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const navigate=useNavigate();useEffect(()=>{document.getElementById(\"modal-backdrop\").classList.add(\"show\");},[]);const handleClose=()=>{document.getElementById(\"modal-backdrop\").classList.remove(\"show\");onClose();};const handleUserTypeChange=type=>{setUserType(type);};const handleClassKeyChange=event=>{setClassKey(event.target.value);};const handleSignUp=async event=>{event.preventDefault();const userInfo={firstName,lastName,email,password,classKey,userType};try{const response=await fetch(\"http://localhost:3001/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userInfo)});if(response.ok){const data=await response.json();console.log(\"User created:\",data);handleClose();// Close modal\n}else{console.error(\"Error creating user\");}}catch(error){console.error(\"Error:\",error);}if(userType===\"teacher\"){navigate(\"/\");}else if(userType===\"parent\"){navigate(\"/parents\");}handleClose();};return/*#__PURE__*/_jsx(\"div\",{id:\"modal-backdrop\",className:\"modal-backdrop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,className:\"close-button\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignUp,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"firstName\",value:firstName,onChange:event=>setFirstName(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"lastName\",value:lastName,onChange:event=>setLastName(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",value:email,onChange:event=>setEmail(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:event=>setPassword(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"classKey\",className:\"form-label\",children:\"Class Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"classKey\",value:classKey,onChange:e=>setClassKey(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleUserTypeChange(\"teacher\"),children:\"I'm a Teacher\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleUserTypeChange(\"parent\"),children:\"I'm a Parent\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Sign Up\"})]})]})});};export default SignUpModal;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","SignUpModal","_ref","onClose","userType","setUserType","classKey","setClassKey","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","navigate","document","getElementById","classList","add","handleClose","remove","handleUserTypeChange","type","handleClassKeyChange","event","target","value","handleSignUp","preventDefault","userInfo","response","fetch","method","headers","body","JSON","stringify","ok","data","json","console","log","error","id","className","children","onClick","onSubmit","htmlFor","onChange","e"],"sources":["/Users/shaud/Desktop/c6-mycode/cs/capstone/src/SignUpModal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst SignUpModal = ({ onClose }) => {\n    const [userType, setUserType] = useState(\"\"); // Track user type\n    const [classKey, setClassKey] = useState(\"\"); // Track class key\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        document.getElementById(\"modal-backdrop\").classList.add(\"show\");\n    }, []);\n\n    const handleClose = () => {\n        document.getElementById(\"modal-backdrop\").classList.remove(\"show\");\n        onClose();\n    };\n\n    const handleUserTypeChange = (type) => {\n        setUserType(type);\n    };\n\n    const handleClassKeyChange = (event) => {\n        setClassKey(event.target.value);\n    };\n\n    const handleSignUp = async (event) => {\n        event.preventDefault();\n\n        const userInfo = {\n            firstName,\n            lastName,\n            email,\n            password,\n            classKey,\n            userType,\n        };\n\n        try {\n            const response = await fetch(\"http://localhost:3001/signup\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(userInfo),\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                console.log(\"User created:\", data);\n                handleClose(); // Close modal\n            } else {\n                console.error(\"Error creating user\");\n            }\n        } catch (error) {\n            console.error(\"Error:\", error);\n        }\n\n        if (userType === \"teacher\") {\n            navigate(\"/\");\n        } else if (userType === \"parent\") {\n            navigate(\"/parents\");\n        }\n\n        handleClose();\n    };\n\n    return (\n        <div id=\"modal-backdrop\" className=\"modal-backdrop\">\n            <div className=\"modal-content\">\n                <button onClick={handleClose} className=\"close-button\">\n                    &times;\n                </button>\n                <h2>Sign Up</h2>\n                <form onSubmit={handleSignUp}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"firstName\" className=\"form-label\">\n                            First Name\n                        </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"firstName\"\n                            value={firstName}\n                            onChange={(event) =>\n                                setFirstName(event.target.value)\n                            }\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"lastName\" className=\"form-label\">\n                            Last Name\n                        </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"lastName\"\n                            value={lastName}\n                            onChange={(event) =>\n                                setLastName(event.target.value)\n                            }\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"email\" className=\"form-label\">\n                            Email Address\n                        </label>\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            id=\"email\"\n                            value={email}\n                            onChange={(event) => setEmail(event.target.value)}\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"password\" className=\"form-label\">\n                            Password\n                        </label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            value={password}\n                            onChange={(event) =>\n                                setPassword(event.target.value)\n                            }\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"classKey\" className=\"form-label\">\n                            Class Key\n                        </label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"classKey\"\n                            value={classKey}\n                            onChange={(e) => setClassKey(e.target.value)}\n                        />\n                    </div>\n                    <div>\n                        <button\n                            type=\"button\"\n                            onClick={() => handleUserTypeChange(\"teacher\")}\n                        >\n                            I'm a Teacher\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={() => handleUserTypeChange(\"parent\")}\n                        >\n                            I'm a Parent\n                        </button>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        Sign Up\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default SignUpModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}