{"ast":null,"code":"import { AuthContext, AuthenticateWithRedirectCallback, ClerkLoaded, ClerkLoading, IsomorphicClerkContext, Protect, RedirectToCreateOrganization, RedirectToOrganizationProfile, RedirectToSignIn, RedirectToSignUp, RedirectToUserProfile, SignedIn, SignedOut, customLinkWrongProps, customMenuItemsIgnoredComponent, customPageWrongProps, customPagesIgnoredComponent, errorThrower, multipleChildrenInButtonComponent, multipleClerkProvidersError, organizationProfileLinkRenderedError, organizationProfilePageRenderedError, setErrorThrowerOptions, unsupportedNonBrowserDomainOrProxyUrlFunction, useAuth, useClerk, useEmailLink, useOrganization, useOrganizationList, useSession, useSessionList, useSignIn, useSignUp, useUser, userButtonIgnoredComponent, userButtonMenuActionRenderedError, userButtonMenuItemLinkWrongProps, userButtonMenuItemsActionWrongsProps, userButtonMenuItemsRenderedError, userButtonMenuLinkRenderedError, userProfileLinkRenderedError, userProfilePageRenderedError, withClerk } from \"./chunk-V4YNA4MP.mjs\";\nimport { __privateAdd, __privateGet, __privateMethod, __privateSet } from \"./chunk-OANWQR3B.mjs\";\n\n// src/polyfills.ts\nif (typeof window !== \"undefined\" && !window.global) {\n  window.global = typeof global === \"undefined\" ? window : global;\n}\n\n// src/index.ts\nimport { setClerkJsLoadingErrorPackageName } from \"@clerk/shared/loadClerkJsScript\";\n\n// src/components/uiComponents.tsx\nimport { logErrorInDevMode as logErrorInDevMode3, without } from \"@clerk/shared\";\nimport { isDeeplyEqual } from \"@clerk/shared/react\";\nimport React7, { createElement } from \"react\";\n\n// src/utils/childrenUtils.tsx\nimport React from \"react\";\nvar assertSingleChild = children => name => {\n  try {\n    return React.Children.only(children);\n  } catch (e) {\n    return errorThrower.throw(multipleChildrenInButtonComponent(name));\n  }\n};\nvar normalizeWithDefaultValue = (children, defaultText) => {\n  if (!children) {\n    children = defaultText;\n  }\n  if (typeof children === \"string\") {\n    children = /* @__PURE__ */React.createElement(\"button\", null, children);\n  }\n  return children;\n};\nvar safeExecute = cb => function () {\n  if (cb && typeof cb === \"function\") {\n    return cb(...arguments);\n  }\n};\n\n// src/utils/isConstructor.ts\nfunction isConstructor(f) {\n  return typeof f === \"function\";\n}\n\n// src/utils/useMaxAllowedInstancesGuard.tsx\nimport React2 from \"react\";\nvar counts = /* @__PURE__ */new Map();\nfunction useMaxAllowedInstancesGuard(name, error) {\n  let maxCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  React2.useEffect(() => {\n    const count = counts.get(name) || 0;\n    if (count == maxCount) {\n      return errorThrower.throw(error);\n    }\n    counts.set(name, count + 1);\n    return () => {\n      counts.set(name, (counts.get(name) || 1) - 1);\n    };\n  }, []);\n}\nfunction withMaxAllowedInstancesGuard(WrappedComponent, name, error) {\n  const displayName = WrappedComponent.displayName || WrappedComponent.name || name || \"Component\";\n  const Hoc = props => {\n    useMaxAllowedInstancesGuard(name, error);\n    return /* @__PURE__ */React2.createElement(WrappedComponent, {\n      ...props\n    });\n  };\n  Hoc.displayName = `withMaxAllowedInstancesGuard(${displayName})`;\n  return Hoc;\n}\n\n// src/utils/useCustomElementPortal.tsx\nimport React3, { useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nvar useCustomElementPortal = elements => {\n  const initialState = Array(elements.length).fill(null);\n  const [nodes, setNodes] = useState(initialState);\n  return elements.map((el, index) => ({\n    id: el.id,\n    mount: node => setNodes(prevState => prevState.map((n, i) => i === index ? node : n)),\n    unmount: () => setNodes(prevState => prevState.map((n, i) => i === index ? null : n)),\n    portal: () => /* @__PURE__ */React3.createElement(React3.Fragment, null, nodes[index] ? createPortal(el.component, nodes[index]) : null)\n  }));\n};\n\n// src/utils/useCustomPages.tsx\nimport { logErrorInDevMode } from \"@clerk/shared\";\nimport React5 from \"react\";\n\n// src/utils/componentValidation.ts\nimport React4 from \"react\";\nvar isThatComponent = (v, component) => {\n  return !!v && React4.isValidElement(v) && (v == null ? void 0 : v.type) === component;\n};\n\n// src/utils/useCustomPages.tsx\nvar useUserProfileCustomPages = children => {\n  const reorderItemsLabels = [\"account\", \"security\"];\n  return useCustomPages({\n    children,\n    reorderItemsLabels,\n    LinkComponent: UserProfileLink,\n    PageComponent: UserProfilePage,\n    MenuItemsComponent: MenuItems,\n    componentName: \"UserProfile\"\n  });\n};\nvar useOrganizationProfileCustomPages = children => {\n  const reorderItemsLabels = [\"general\", \"members\"];\n  return useCustomPages({\n    children,\n    reorderItemsLabels,\n    LinkComponent: OrganizationProfileLink,\n    PageComponent: OrganizationProfilePage,\n    componentName: \"OrganizationProfile\"\n  });\n};\nvar useCustomPages = _ref => {\n  let {\n    children,\n    LinkComponent,\n    PageComponent,\n    MenuItemsComponent,\n    reorderItemsLabels,\n    componentName\n  } = _ref;\n  const validChildren = [];\n  React5.Children.forEach(children, child => {\n    if (!isThatComponent(child, PageComponent) && !isThatComponent(child, LinkComponent) && !isThatComponent(child, MenuItemsComponent)) {\n      if (child) {\n        logErrorInDevMode(customPagesIgnoredComponent(componentName));\n      }\n      return;\n    }\n    const {\n      props\n    } = child;\n    const {\n      children: children2,\n      label,\n      url,\n      labelIcon\n    } = props;\n    if (isThatComponent(child, PageComponent)) {\n      if (isReorderItem(props, reorderItemsLabels)) {\n        validChildren.push({\n          label\n        });\n      } else if (isCustomPage(props)) {\n        validChildren.push({\n          label,\n          labelIcon,\n          children: children2,\n          url\n        });\n      } else {\n        logErrorInDevMode(customPageWrongProps(componentName));\n        return;\n      }\n    }\n    if (isThatComponent(child, LinkComponent)) {\n      if (isExternalLink(props)) {\n        validChildren.push({\n          label,\n          labelIcon,\n          url\n        });\n      } else {\n        logErrorInDevMode(customLinkWrongProps(componentName));\n        return;\n      }\n    }\n  });\n  const customPageContents = [];\n  const customPageLabelIcons = [];\n  const customLinkLabelIcons = [];\n  validChildren.forEach((cp, index) => {\n    if (isCustomPage(cp)) {\n      customPageContents.push({\n        component: cp.children,\n        id: index\n      });\n      customPageLabelIcons.push({\n        component: cp.labelIcon,\n        id: index\n      });\n      return;\n    }\n    if (isExternalLink(cp)) {\n      customLinkLabelIcons.push({\n        component: cp.labelIcon,\n        id: index\n      });\n    }\n  });\n  const customPageContentsPortals = useCustomElementPortal(customPageContents);\n  const customPageLabelIconsPortals = useCustomElementPortal(customPageLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n  const customPages = [];\n  const customPagesPortals = [];\n  validChildren.forEach((cp, index) => {\n    if (isReorderItem(cp, reorderItemsLabels)) {\n      customPages.push({\n        label: cp.label\n      });\n      return;\n    }\n    if (isCustomPage(cp)) {\n      const {\n        portal: contentPortal,\n        mount,\n        unmount\n      } = customPageContentsPortals.find(p => p.id === index);\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon\n      } = customPageLabelIconsPortals.find(p => p.id === index);\n      customPages.push({\n        label: cp.label,\n        url: cp.url,\n        mount,\n        unmount,\n        mountIcon,\n        unmountIcon\n      });\n      customPagesPortals.push(contentPortal);\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n    if (isExternalLink(cp)) {\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon\n      } = customLinkLabelIconsPortals.find(p => p.id === index);\n      customPages.push({\n        label: cp.label,\n        url: cp.url,\n        mountIcon,\n        unmountIcon\n      });\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n  });\n  return {\n    customPages,\n    customPagesPortals\n  };\n};\nvar isReorderItem = (childProps, validItems) => {\n  const {\n    children,\n    label,\n    url,\n    labelIcon\n  } = childProps;\n  return !children && !url && !labelIcon && validItems.some(v => v === label);\n};\nvar isCustomPage = childProps => {\n  const {\n    children,\n    label,\n    url,\n    labelIcon\n  } = childProps;\n  return !!children && !!url && !!labelIcon && !!label;\n};\nvar isExternalLink = childProps => {\n  const {\n    children,\n    label,\n    url,\n    labelIcon\n  } = childProps;\n  return !children && !!url && !!labelIcon && !!label;\n};\n\n// src/utils/useCustomMenuItems.tsx\nimport { logErrorInDevMode as logErrorInDevMode2 } from \"@clerk/shared\";\nimport React6 from \"react\";\nvar useUserButtonCustomMenuItems = children => {\n  const reorderItemsLabels = [\"manageAccount\", \"signOut\"];\n  return useCustomMenuItems({\n    children,\n    reorderItemsLabels,\n    MenuItemsComponent: MenuItems,\n    MenuActionComponent: MenuAction,\n    MenuLinkComponent: MenuLink,\n    UserProfileLinkComponent: UserProfileLink,\n    UserProfilePageComponent: UserProfilePage\n  });\n};\nvar useCustomMenuItems = _ref2 => {\n  let {\n    children,\n    MenuItemsComponent,\n    MenuActionComponent,\n    MenuLinkComponent,\n    UserProfileLinkComponent,\n    UserProfilePageComponent,\n    reorderItemsLabels\n  } = _ref2;\n  const validChildren = [];\n  const customMenuItems = [];\n  const customMenuItemsPortals = [];\n  React6.Children.forEach(children, child => {\n    if (!isThatComponent(child, MenuItemsComponent) && !isThatComponent(child, UserProfileLinkComponent) && !isThatComponent(child, UserProfilePageComponent)) {\n      if (child) {\n        logErrorInDevMode2(userButtonIgnoredComponent);\n      }\n      return;\n    }\n    if (isThatComponent(child, UserProfileLinkComponent) || isThatComponent(child, UserProfilePageComponent)) {\n      return;\n    }\n    const {\n      props\n    } = child;\n    React6.Children.forEach(props.children, child2 => {\n      if (!isThatComponent(child2, MenuActionComponent) && !isThatComponent(child2, MenuLinkComponent)) {\n        if (child2) {\n          logErrorInDevMode2(customMenuItemsIgnoredComponent);\n        }\n        return;\n      }\n      const {\n        props: props2\n      } = child2;\n      const {\n        label,\n        labelIcon,\n        href,\n        onClick,\n        open\n      } = props2;\n      if (isThatComponent(child2, MenuActionComponent)) {\n        if (isReorderItem2(props2, reorderItemsLabels)) {\n          validChildren.push({\n            label\n          });\n        } else if (isCustomMenuItem(props2)) {\n          const baseItem = {\n            label,\n            labelIcon\n          };\n          if (onClick !== void 0) {\n            validChildren.push({\n              ...baseItem,\n              onClick\n            });\n          } else if (open !== void 0) {\n            validChildren.push({\n              ...baseItem,\n              open: open.startsWith(\"/\") ? open : `/${open}`\n            });\n          } else {\n            logErrorInDevMode2(\"Custom menu item must have either onClick or open property\");\n            return;\n          }\n        } else {\n          logErrorInDevMode2(userButtonMenuItemsActionWrongsProps);\n          return;\n        }\n      }\n      if (isThatComponent(child2, MenuLinkComponent)) {\n        if (isExternalLink2(props2)) {\n          validChildren.push({\n            label,\n            labelIcon,\n            href\n          });\n        } else {\n          logErrorInDevMode2(userButtonMenuItemLinkWrongProps);\n          return;\n        }\n      }\n    });\n  });\n  const customMenuItemLabelIcons = [];\n  const customLinkLabelIcons = [];\n  validChildren.forEach((mi, index) => {\n    if (isCustomMenuItem(mi)) {\n      customMenuItemLabelIcons.push({\n        component: mi.labelIcon,\n        id: index\n      });\n    }\n    if (isExternalLink2(mi)) {\n      customLinkLabelIcons.push({\n        component: mi.labelIcon,\n        id: index\n      });\n    }\n  });\n  const customMenuItemLabelIconsPortals = useCustomElementPortal(customMenuItemLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n  validChildren.forEach((mi, index) => {\n    if (isReorderItem2(mi, reorderItemsLabels)) {\n      customMenuItems.push({\n        label: mi.label\n      });\n    }\n    if (isCustomMenuItem(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon\n      } = customMenuItemLabelIconsPortals.find(p => p.id === index);\n      const menuItem = {\n        label: mi.label,\n        mountIcon,\n        unmountIcon\n      };\n      if (\"onClick\" in mi) {\n        menuItem.onClick = mi.onClick;\n      } else if (\"open\" in mi) {\n        menuItem.open = mi.open;\n      }\n      customMenuItems.push(menuItem);\n      customMenuItemsPortals.push(iconPortal);\n    }\n    if (isExternalLink2(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon\n      } = customLinkLabelIconsPortals.find(p => p.id === index);\n      customMenuItems.push({\n        label: mi.label,\n        href: mi.href,\n        mountIcon,\n        unmountIcon\n      });\n      customMenuItemsPortals.push(iconPortal);\n    }\n  });\n  return {\n    customMenuItems,\n    customMenuItemsPortals\n  };\n};\nvar isReorderItem2 = (childProps, validItems) => {\n  const {\n    children,\n    label,\n    onClick,\n    labelIcon\n  } = childProps;\n  return !children && !onClick && !labelIcon && validItems.some(v => v === label);\n};\nvar isCustomMenuItem = childProps => {\n  const {\n    label,\n    labelIcon,\n    onClick,\n    open\n  } = childProps;\n  return !!labelIcon && !!label && (typeof onClick === \"function\" || typeof open === \"string\");\n};\nvar isExternalLink2 = childProps => {\n  const {\n    label,\n    href,\n    labelIcon\n  } = childProps;\n  return !!href && !!labelIcon && !!label;\n};\n\n// src/components/uiComponents.tsx\nvar isMountProps = props => {\n  return \"mount\" in props;\n};\nvar isOpenProps = props => {\n  return \"open\" in props;\n};\nvar Portal = class extends React7.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.portalRef = React7.createRef();\n  }\n  componentDidUpdate(_prevProps) {\n    var _a, _b, _c, _d;\n    if (!isMountProps(_prevProps) || !isMountProps(this.props)) {\n      return;\n    }\n    const prevProps = without(_prevProps.props, \"customPages\", \"customMenuItems\", \"children\");\n    const newProps = without(this.props.props, \"customPages\", \"customMenuItems\", \"children\");\n    const customPagesChanged = ((_a = prevProps.customPages) == null ? void 0 : _a.length) !== ((_b = newProps.customPages) == null ? void 0 : _b.length);\n    const customMenuItemsChanged = ((_c = prevProps.customMenuItems) == null ? void 0 : _c.length) !== ((_d = newProps.customMenuItems) == null ? void 0 : _d.length);\n    if (!isDeeplyEqual(prevProps, newProps) || customPagesChanged || customMenuItemsChanged) {\n      this.props.updateProps({\n        node: this.portalRef.current,\n        props: this.props.props\n      });\n    }\n  }\n  componentDidMount() {\n    if (this.portalRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.mount(this.portalRef.current, this.props.props);\n      }\n      if (isOpenProps(this.props)) {\n        this.props.open(this.props.props);\n      }\n    }\n  }\n  componentWillUnmount() {\n    if (this.portalRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.unmount(this.portalRef.current);\n      }\n      if (isOpenProps(this.props)) {\n        this.props.close();\n      }\n    }\n  }\n  render() {\n    var _a, _b, _c, _d;\n    return /* @__PURE__ */React7.createElement(React7.Fragment, null, /* @__PURE__ */React7.createElement(\"div\", {\n      ref: this.portalRef\n    }), isMountProps(this.props) && ((_b = (_a = this.props) == null ? void 0 : _a.customPagesPortals) == null ? void 0 : _b.map((portal, index) => createElement(portal, {\n      key: index\n    }))), isMountProps(this.props) && ((_d = (_c = this.props) == null ? void 0 : _c.customMenuItemsPortals) == null ? void 0 : _d.map((portal, index) => createElement(portal, {\n      key: index\n    }))));\n  }\n};\nvar SignIn = withClerk(_ref3 => {\n  let {\n    clerk,\n    ...props\n  } = _ref3;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountSignIn,\n    unmount: clerk.unmountSignIn,\n    updateProps: clerk.__unstable__updateProps,\n    props\n  });\n}, \"SignIn\");\nvar SignUp = withClerk(_ref4 => {\n  let {\n    clerk,\n    ...props\n  } = _ref4;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountSignUp,\n    unmount: clerk.unmountSignUp,\n    updateProps: clerk.__unstable__updateProps,\n    props\n  });\n}, \"SignUp\");\nfunction UserProfilePage(_ref5) {\n  let {\n    children\n  } = _ref5;\n  logErrorInDevMode3(userProfilePageRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nfunction UserProfileLink(_ref6) {\n  let {\n    children\n  } = _ref6;\n  logErrorInDevMode3(userProfileLinkRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nvar _UserProfile = withClerk(_ref7 => {\n  let {\n    clerk,\n    ...props\n  } = _ref7;\n  const {\n    customPages,\n    customPagesPortals\n  } = useUserProfileCustomPages(props.children);\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountUserProfile,\n    unmount: clerk.unmountUserProfile,\n    updateProps: clerk.__unstable__updateProps,\n    props: {\n      ...props,\n      customPages\n    },\n    customPagesPortals\n  });\n}, \"UserProfile\");\nvar UserProfile = Object.assign(_UserProfile, {\n  Page: UserProfilePage,\n  Link: UserProfileLink\n});\nvar _UserButton = withClerk(_ref8 => {\n  let {\n    clerk,\n    ...props\n  } = _ref8;\n  const {\n    customPages,\n    customPagesPortals\n  } = useUserProfileCustomPages(props.children);\n  const userProfileProps = Object.assign(props.userProfileProps || {}, {\n    customPages\n  });\n  const {\n    customMenuItems,\n    customMenuItemsPortals\n  } = useUserButtonCustomMenuItems(props.children);\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountUserButton,\n    unmount: clerk.unmountUserButton,\n    updateProps: clerk.__unstable__updateProps,\n    props: {\n      ...props,\n      userProfileProps,\n      customMenuItems\n    },\n    customPagesPortals,\n    customMenuItemsPortals\n  });\n}, \"UserButton\");\nfunction MenuItems(_ref9) {\n  let {\n    children\n  } = _ref9;\n  logErrorInDevMode3(userButtonMenuItemsRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nfunction MenuAction(_ref10) {\n  let {\n    children\n  } = _ref10;\n  logErrorInDevMode3(userButtonMenuActionRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nfunction MenuLink(_ref11) {\n  let {\n    children\n  } = _ref11;\n  logErrorInDevMode3(userButtonMenuLinkRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nvar UserButton = Object.assign(_UserButton, {\n  UserProfilePage,\n  UserProfileLink,\n  MenuItems,\n  Action: MenuAction,\n  Link: MenuLink\n});\nvar __experimental_UserVerification = withClerk(_ref12 => {\n  let {\n    clerk,\n    ...props\n  } = _ref12;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.__experimental_mountUserVerification,\n    unmount: clerk.__experimental_unmountUserVerification,\n    updateProps: clerk.__unstable__updateProps,\n    props\n  });\n}, \"__experimental_UserVerification\");\nfunction OrganizationProfilePage(_ref13) {\n  let {\n    children\n  } = _ref13;\n  logErrorInDevMode3(organizationProfilePageRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nfunction OrganizationProfileLink(_ref14) {\n  let {\n    children\n  } = _ref14;\n  logErrorInDevMode3(organizationProfileLinkRenderedError);\n  return /* @__PURE__ */React7.createElement(React7.Fragment, null, children);\n}\nvar _OrganizationProfile = withClerk(_ref15 => {\n  let {\n    clerk,\n    ...props\n  } = _ref15;\n  const {\n    customPages,\n    customPagesPortals\n  } = useOrganizationProfileCustomPages(props.children);\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountOrganizationProfile,\n    unmount: clerk.unmountOrganizationProfile,\n    updateProps: clerk.__unstable__updateProps,\n    props: {\n      ...props,\n      customPages\n    },\n    customPagesPortals\n  });\n}, \"OrganizationProfile\");\nvar OrganizationProfile = Object.assign(_OrganizationProfile, {\n  Page: OrganizationProfilePage,\n  Link: OrganizationProfileLink\n});\nvar CreateOrganization = withClerk(_ref16 => {\n  let {\n    clerk,\n    ...props\n  } = _ref16;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountCreateOrganization,\n    unmount: clerk.unmountCreateOrganization,\n    updateProps: clerk.__unstable__updateProps,\n    props\n  });\n}, \"CreateOrganization\");\nvar _OrganizationSwitcher = withClerk(_ref17 => {\n  let {\n    clerk,\n    ...props\n  } = _ref17;\n  const {\n    customPages,\n    customPagesPortals\n  } = useOrganizationProfileCustomPages(props.children);\n  const organizationProfileProps = Object.assign(props.organizationProfileProps || {}, {\n    customPages\n  });\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountOrganizationSwitcher,\n    unmount: clerk.unmountOrganizationSwitcher,\n    updateProps: clerk.__unstable__updateProps,\n    props: {\n      ...props,\n      organizationProfileProps\n    },\n    customPagesPortals\n  });\n}, \"OrganizationSwitcher\");\nvar OrganizationSwitcher = Object.assign(_OrganizationSwitcher, {\n  OrganizationProfilePage,\n  OrganizationProfileLink\n});\nvar OrganizationList = withClerk(_ref18 => {\n  let {\n    clerk,\n    ...props\n  } = _ref18;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    mount: clerk.mountOrganizationList,\n    unmount: clerk.unmountOrganizationList,\n    updateProps: clerk.__unstable__updateProps,\n    props\n  });\n}, \"OrganizationList\");\nvar GoogleOneTap = withClerk(_ref19 => {\n  let {\n    clerk,\n    ...props\n  } = _ref19;\n  return /* @__PURE__ */React7.createElement(Portal, {\n    open: clerk.openGoogleOneTap,\n    close: clerk.closeGoogleOneTap,\n    props\n  });\n}, \"GoogleOneTap\");\n\n// src/components/SignInButton.tsx\nimport React8 from \"react\";\nvar SignInButton = withClerk(_ref20 => {\n  let {\n    clerk,\n    children,\n    ...props\n  } = _ref20;\n  const {\n    signUpFallbackRedirectUrl,\n    forceRedirectUrl,\n    fallbackRedirectUrl,\n    signUpForceRedirectUrl,\n    mode,\n    ...rest\n  } = props;\n  children = normalizeWithDefaultValue(children, \"Sign in\");\n  const child = assertSingleChild(children)(\"SignInButton\");\n  const clickHandler = () => {\n    const opts = {\n      forceRedirectUrl,\n      fallbackRedirectUrl,\n      signUpFallbackRedirectUrl,\n      signUpForceRedirectUrl\n    };\n    if (mode === \"modal\") {\n      return clerk.openSignIn(opts);\n    }\n    return clerk.redirectToSignIn({\n      ...opts,\n      signInFallbackRedirectUrl: fallbackRedirectUrl,\n      signInForceRedirectUrl: forceRedirectUrl\n    });\n  };\n  const wrappedChildClickHandler = async e => {\n    if (child && typeof child === \"object\" && \"props\" in child) {\n      await safeExecute(child.props.onClick)(e);\n    }\n    return clickHandler();\n  };\n  const childProps = {\n    ...rest,\n    onClick: wrappedChildClickHandler\n  };\n  return React8.cloneElement(child, childProps);\n}, \"SignInButton\");\n\n// src/components/SignUpButton.tsx\nimport React9 from \"react\";\nvar SignUpButton = withClerk(_ref21 => {\n  let {\n    clerk,\n    children,\n    ...props\n  } = _ref21;\n  const {\n    fallbackRedirectUrl,\n    forceRedirectUrl,\n    signInFallbackRedirectUrl,\n    signInForceRedirectUrl,\n    mode,\n    unsafeMetadata,\n    ...rest\n  } = props;\n  children = normalizeWithDefaultValue(children, \"Sign up\");\n  const child = assertSingleChild(children)(\"SignUpButton\");\n  const clickHandler = () => {\n    const opts = {\n      fallbackRedirectUrl,\n      forceRedirectUrl,\n      signInFallbackRedirectUrl,\n      signInForceRedirectUrl,\n      unsafeMetadata\n    };\n    if (mode === \"modal\") {\n      return clerk.openSignUp(opts);\n    }\n    return clerk.redirectToSignUp({\n      ...opts,\n      signUpFallbackRedirectUrl: fallbackRedirectUrl,\n      signUpForceRedirectUrl: forceRedirectUrl\n    });\n  };\n  const wrappedChildClickHandler = async e => {\n    if (child && typeof child === \"object\" && \"props\" in child) {\n      await safeExecute(child.props.onClick)(e);\n    }\n    return clickHandler();\n  };\n  const childProps = {\n    ...rest,\n    onClick: wrappedChildClickHandler\n  };\n  return React9.cloneElement(child, childProps);\n}, \"SignUpButton\");\n\n// src/components/SignOutButton.tsx\nimport React10 from \"react\";\nvar SignOutButton = withClerk(_ref22 => {\n  let {\n    clerk,\n    children,\n    ...props\n  } = _ref22;\n  const {\n    redirectUrl = \"/\",\n    signOutOptions,\n    ...rest\n  } = props;\n  children = normalizeWithDefaultValue(children, \"Sign out\");\n  const child = assertSingleChild(children)(\"SignOutButton\");\n  const clickHandler = () => clerk.signOut({\n    redirectUrl\n  });\n  const wrappedChildClickHandler = async e => {\n    await safeExecute(child.props.onClick)(e);\n    return clickHandler();\n  };\n  const childProps = {\n    ...rest,\n    onClick: wrappedChildClickHandler\n  };\n  return React10.cloneElement(child, childProps);\n}, \"SignOutButton\");\n\n// src/components/SignInWithMetamaskButton.tsx\nimport React11 from \"react\";\nvar SignInWithMetamaskButton = withClerk(_ref23 => {\n  let {\n    clerk,\n    children,\n    ...props\n  } = _ref23;\n  const {\n    redirectUrl,\n    ...rest\n  } = props;\n  children = normalizeWithDefaultValue(children, \"Sign in with Metamask\");\n  const child = assertSingleChild(children)(\"SignInWithMetamaskButton\");\n  const clickHandler = async () => {\n    async function authenticate() {\n      await clerk.authenticateWithMetamask({\n        redirectUrl: redirectUrl || void 0\n      });\n    }\n    void authenticate();\n  };\n  const wrappedChildClickHandler = async e => {\n    await safeExecute(child.props.onClick)(e);\n    return clickHandler();\n  };\n  const childProps = {\n    ...rest,\n    onClick: wrappedChildClickHandler\n  };\n  return React11.cloneElement(child, childProps);\n}, \"SignInWithMetamask\");\n\n// src/contexts/ClerkProvider.tsx\nimport { isPublishableKey } from \"@clerk/shared/keys\";\nimport React13 from \"react\";\n\n// src/contexts/ClerkContextProvider.tsx\nimport { ClientContext, OrganizationProvider, SessionContext, UserContext } from \"@clerk/shared/react\";\nimport React12 from \"react\";\n\n// src/isomorphicClerk.ts\nimport { inBrowser } from \"@clerk/shared/browser\";\nimport { handleValueOrFn } from \"@clerk/shared/handleValueOrFn\";\nimport { loadClerkJsScript } from \"@clerk/shared/loadClerkJsScript\";\nvar SDK_METADATA = {\n  name: \"@clerk/clerk-react\",\n  version: \"5.7.0\",\n  environment: process.env.NODE_ENV\n};\nvar _loaded, _domain, _proxyUrl, _publishableKey, _instance, _IsomorphicClerk_instances, waitForClerkJS_fn;\nvar _IsomorphicClerk = class _IsomorphicClerk {\n  constructor(options) {\n    var _this = this;\n    __privateAdd(this, _IsomorphicClerk_instances);\n    this.clerkjs = null;\n    this.preopenOneTap = null;\n    this.preopenUserVerification = null;\n    this.preopenSignIn = null;\n    this.preopenSignUp = null;\n    this.preopenUserProfile = null;\n    this.preopenOrganizationProfile = null;\n    this.preopenCreateOrganization = null;\n    this.premountSignInNodes = /* @__PURE__ */new Map();\n    this.premountSignUpNodes = /* @__PURE__ */new Map();\n    this.premountUserProfileNodes = /* @__PURE__ */new Map();\n    this.premountUserButtonNodes = /* @__PURE__ */new Map();\n    this.premountOrganizationProfileNodes = /* @__PURE__ */new Map();\n    this.premountCreateOrganizationNodes = /* @__PURE__ */new Map();\n    this.premountOrganizationSwitcherNodes = /* @__PURE__ */new Map();\n    this.premountOrganizationListNodes = /* @__PURE__ */new Map();\n    this.premountUserVerificationNodes = /* @__PURE__ */new Map();\n    this.premountMethodCalls = /* @__PURE__ */new Map();\n    // A separate Map of `addListener` method calls to handle multiple listeners.\n    this.premountAddListenerCalls = /* @__PURE__ */new Map();\n    this.loadedListeners = [];\n    __privateAdd(this, _loaded, false);\n    __privateAdd(this, _domain);\n    __privateAdd(this, _proxyUrl);\n    __privateAdd(this, _publishableKey);\n    this.buildSignInUrl = opts => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildSignInUrl(opts)) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildSignInUrl\", callback);\n      }\n    };\n    this.buildSignUpUrl = opts => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildSignUpUrl(opts)) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildSignUpUrl\", callback);\n      }\n    };\n    this.buildAfterSignInUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignInUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildAfterSignInUrl\", callback);\n      }\n    };\n    this.buildAfterSignUpUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignUpUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildAfterSignUpUrl\", callback);\n      }\n    };\n    this.buildAfterSignOutUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterSignOutUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildAfterSignOutUrl\", callback);\n      }\n    };\n    this.buildAfterMultiSessionSingleSignOutUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildAfterMultiSessionSingleSignOutUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildAfterMultiSessionSingleSignOutUrl\", callback);\n      }\n    };\n    this.buildUserProfileUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildUserProfileUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildUserProfileUrl\", callback);\n      }\n    };\n    this.buildCreateOrganizationUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildCreateOrganizationUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildCreateOrganizationUrl\", callback);\n      }\n    };\n    this.buildOrganizationProfileUrl = () => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildOrganizationProfileUrl()) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildOrganizationProfileUrl\", callback);\n      }\n    };\n    this.buildUrlWithAuth = to => {\n      const callback = () => {\n        var _a;\n        return ((_a = this.clerkjs) == null ? void 0 : _a.buildUrlWithAuth(to)) || \"\";\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"buildUrlWithAuth\", callback);\n      }\n    };\n    this.handleUnauthenticated = () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.handleUnauthenticated();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        void callback();\n      } else {\n        this.premountMethodCalls.set(\"handleUnauthenticated\", callback);\n      }\n    };\n    this.addOnLoaded = cb => {\n      this.loadedListeners.push(cb);\n      if (this.loaded) {\n        this.emitLoaded();\n      }\n    };\n    this.emitLoaded = () => {\n      this.loadedListeners.forEach(cb => cb());\n      this.loadedListeners = [];\n    };\n    this.hydrateClerkJS = clerkjs => {\n      if (!clerkjs) {\n        throw new Error(\"Failed to hydrate latest Clerk JS\");\n      }\n      this.clerkjs = clerkjs;\n      this.premountMethodCalls.forEach(cb => cb());\n      this.premountAddListenerCalls.forEach((listenerHandlers, listener) => {\n        listenerHandlers.nativeUnsubscribe = clerkjs.addListener(listener);\n      });\n      if (this.preopenSignIn !== null) {\n        clerkjs.openSignIn(this.preopenSignIn);\n      }\n      if (this.preopenSignUp !== null) {\n        clerkjs.openSignUp(this.preopenSignUp);\n      }\n      if (this.preopenUserProfile !== null) {\n        clerkjs.openUserProfile(this.preopenUserProfile);\n      }\n      if (this.preopenUserVerification !== null) {\n        clerkjs.__experimental_openUserVerification(this.preopenUserVerification);\n      }\n      if (this.preopenOneTap !== null) {\n        clerkjs.openGoogleOneTap(this.preopenOneTap);\n      }\n      if (this.preopenOrganizationProfile !== null) {\n        clerkjs.openOrganizationProfile(this.preopenOrganizationProfile);\n      }\n      if (this.preopenCreateOrganization !== null) {\n        clerkjs.openCreateOrganization(this.preopenCreateOrganization);\n      }\n      this.premountSignInNodes.forEach((props, node) => {\n        clerkjs.mountSignIn(node, props);\n      });\n      this.premountSignUpNodes.forEach((props, node) => {\n        clerkjs.mountSignUp(node, props);\n      });\n      this.premountUserProfileNodes.forEach((props, node) => {\n        clerkjs.mountUserProfile(node, props);\n      });\n      this.premountUserVerificationNodes.forEach((props, node) => {\n        clerkjs.__experimental_mountUserVerification(node, props);\n      });\n      this.premountUserButtonNodes.forEach((props, node) => {\n        clerkjs.mountUserButton(node, props);\n      });\n      this.premountOrganizationListNodes.forEach((props, node) => {\n        clerkjs.mountOrganizationList(node, props);\n      });\n      __privateSet(this, _loaded, true);\n      this.emitLoaded();\n      return this.clerkjs;\n    };\n    this.__unstable__updateProps = async props => {\n      const clerkjs = await __privateMethod(this, _IsomorphicClerk_instances, waitForClerkJS_fn).call(this);\n      if (clerkjs && \"__unstable__updateProps\" in clerkjs) {\n        return clerkjs.__unstable__updateProps(props);\n      }\n    };\n    /**\n     * `setActive` can be used to set the active session and/or organization.\n     */\n    this.setActive = _ref24 => {\n      let {\n        session,\n        organization,\n        beforeEmit\n      } = _ref24;\n      if (this.clerkjs) {\n        return this.clerkjs.setActive({\n          session,\n          organization,\n          beforeEmit\n        });\n      } else {\n        return Promise.reject();\n      }\n    };\n    this.openSignIn = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openSignIn(props);\n      } else {\n        this.preopenSignIn = props;\n      }\n    };\n    this.closeSignIn = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeSignIn();\n      } else {\n        this.preopenSignIn = null;\n      }\n    };\n    this.__experimental_openUserVerification = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.__experimental_openUserVerification(props);\n      } else {\n        this.preopenUserVerification = props;\n      }\n    };\n    this.__experimental_closeUserVerification = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.__experimental_closeUserVerification();\n      } else {\n        this.preopenUserVerification = null;\n      }\n    };\n    this.openGoogleOneTap = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openGoogleOneTap(props);\n      } else {\n        this.preopenOneTap = props;\n      }\n    };\n    this.closeGoogleOneTap = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeGoogleOneTap();\n      } else {\n        this.preopenOneTap = null;\n      }\n    };\n    this.openUserProfile = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openUserProfile(props);\n      } else {\n        this.preopenUserProfile = props;\n      }\n    };\n    this.closeUserProfile = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeUserProfile();\n      } else {\n        this.preopenUserProfile = null;\n      }\n    };\n    this.openOrganizationProfile = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openOrganizationProfile(props);\n      } else {\n        this.preopenOrganizationProfile = props;\n      }\n    };\n    this.closeOrganizationProfile = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeOrganizationProfile();\n      } else {\n        this.preopenOrganizationProfile = null;\n      }\n    };\n    this.openCreateOrganization = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openCreateOrganization(props);\n      } else {\n        this.preopenCreateOrganization = props;\n      }\n    };\n    this.closeCreateOrganization = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeCreateOrganization();\n      } else {\n        this.preopenCreateOrganization = null;\n      }\n    };\n    this.openSignUp = props => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.openSignUp(props);\n      } else {\n        this.preopenSignUp = props;\n      }\n    };\n    this.closeSignUp = () => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.closeSignUp();\n      } else {\n        this.preopenSignUp = null;\n      }\n    };\n    this.mountSignIn = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountSignIn(node, props);\n      } else {\n        this.premountSignInNodes.set(node, props);\n      }\n    };\n    this.unmountSignIn = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountSignIn(node);\n      } else {\n        this.premountSignInNodes.delete(node);\n      }\n    };\n    this.__experimental_mountUserVerification = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.__experimental_mountUserVerification(node, props);\n      } else {\n        this.premountUserVerificationNodes.set(node, props);\n      }\n    };\n    this.__experimental_unmountUserVerification = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.__experimental_unmountUserVerification(node);\n      } else {\n        this.premountUserVerificationNodes.delete(node);\n      }\n    };\n    this.mountSignUp = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountSignUp(node, props);\n      } else {\n        this.premountSignUpNodes.set(node, props);\n      }\n    };\n    this.unmountSignUp = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountSignUp(node);\n      } else {\n        this.premountSignUpNodes.delete(node);\n      }\n    };\n    this.mountUserProfile = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountUserProfile(node, props);\n      } else {\n        this.premountUserProfileNodes.set(node, props);\n      }\n    };\n    this.unmountUserProfile = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountUserProfile(node);\n      } else {\n        this.premountUserProfileNodes.delete(node);\n      }\n    };\n    this.mountOrganizationProfile = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountOrganizationProfile(node, props);\n      } else {\n        this.premountOrganizationProfileNodes.set(node, props);\n      }\n    };\n    this.unmountOrganizationProfile = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountOrganizationProfile(node);\n      } else {\n        this.premountOrganizationProfileNodes.delete(node);\n      }\n    };\n    this.mountCreateOrganization = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountCreateOrganization(node, props);\n      } else {\n        this.premountCreateOrganizationNodes.set(node, props);\n      }\n    };\n    this.unmountCreateOrganization = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountCreateOrganization(node);\n      } else {\n        this.premountCreateOrganizationNodes.delete(node);\n      }\n    };\n    this.mountOrganizationSwitcher = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountOrganizationSwitcher(node, props);\n      } else {\n        this.premountOrganizationSwitcherNodes.set(node, props);\n      }\n    };\n    this.unmountOrganizationSwitcher = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountOrganizationSwitcher(node);\n      } else {\n        this.premountOrganizationSwitcherNodes.delete(node);\n      }\n    };\n    this.mountOrganizationList = (node, props) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountOrganizationList(node, props);\n      } else {\n        this.premountOrganizationListNodes.set(node, props);\n      }\n    };\n    this.unmountOrganizationList = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountOrganizationList(node);\n      } else {\n        this.premountOrganizationListNodes.delete(node);\n      }\n    };\n    this.mountUserButton = (node, userButtonProps) => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.mountUserButton(node, userButtonProps);\n      } else {\n        this.premountUserButtonNodes.set(node, userButtonProps);\n      }\n    };\n    this.unmountUserButton = node => {\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        this.clerkjs.unmountUserButton(node);\n      } else {\n        this.premountUserButtonNodes.delete(node);\n      }\n    };\n    this.addListener = listener => {\n      if (this.clerkjs) {\n        return this.clerkjs.addListener(listener);\n      } else {\n        const unsubscribe = () => {\n          var _a;\n          const listenerHandlers = this.premountAddListenerCalls.get(listener);\n          if (listenerHandlers) {\n            (_a = listenerHandlers.nativeUnsubscribe) == null ? void 0 : _a.call(listenerHandlers);\n            this.premountAddListenerCalls.delete(listener);\n          }\n        };\n        this.premountAddListenerCalls.set(listener, {\n          unsubscribe,\n          nativeUnsubscribe: void 0\n        });\n        return unsubscribe;\n      }\n    };\n    this.navigate = to => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.navigate(to);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        void callback();\n      } else {\n        this.premountMethodCalls.set(\"navigate\", callback);\n      }\n    };\n    this.redirectWithAuth = async function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const callback = () => {\n        var _a;\n        return (_a = _this.clerkjs) == null ? void 0 : _a.redirectWithAuth(...args);\n      };\n      if (_this.clerkjs && __privateGet(_this, _loaded)) {\n        return callback();\n      } else {\n        _this.premountMethodCalls.set(\"redirectWithAuth\", callback);\n        return;\n      }\n    };\n    this.redirectToSignIn = async opts => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToSignIn(opts);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToSignIn\", callback);\n        return;\n      }\n    };\n    this.redirectToSignUp = async opts => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToSignUp(opts);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToSignUp\", callback);\n        return;\n      }\n    };\n    this.redirectToUserProfile = async () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToUserProfile();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToUserProfile\", callback);\n        return;\n      }\n    };\n    this.redirectToAfterSignUp = () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignUp();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToAfterSignUp\", callback);\n      }\n    };\n    this.redirectToAfterSignIn = () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignIn();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToAfterSignIn\", callback);\n      }\n    };\n    this.redirectToAfterSignOut = () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToAfterSignOut();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToAfterSignOut\", callback);\n      }\n    };\n    this.redirectToOrganizationProfile = async () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToOrganizationProfile();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToOrganizationProfile\", callback);\n        return;\n      }\n    };\n    this.redirectToCreateOrganization = async () => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.redirectToCreateOrganization();\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"redirectToCreateOrganization\", callback);\n        return;\n      }\n    };\n    this.handleRedirectCallback = params => {\n      var _a;\n      const callback = () => {\n        var _a2;\n        return (_a2 = this.clerkjs) == null ? void 0 : _a2.handleRedirectCallback(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        void ((_a = callback()) == null ? void 0 : _a.catch(() => {}));\n      } else {\n        this.premountMethodCalls.set(\"handleRedirectCallback\", callback);\n      }\n    };\n    this.handleGoogleOneTapCallback = (signInOrUp, params) => {\n      var _a;\n      const callback = () => {\n        var _a2;\n        return (_a2 = this.clerkjs) == null ? void 0 : _a2.handleGoogleOneTapCallback(signInOrUp, params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        void ((_a = callback()) == null ? void 0 : _a.catch(() => {}));\n      } else {\n        this.premountMethodCalls.set(\"handleGoogleOneTapCallback\", callback);\n      }\n    };\n    this.handleEmailLinkVerification = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.handleEmailLinkVerification(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"handleEmailLinkVerification\", callback);\n      }\n    };\n    this.authenticateWithMetamask = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithMetamask(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"authenticateWithMetamask\", callback);\n      }\n    };\n    this.authenticateWithCoinbase = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithCoinbase(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"authenticateWithCoinbase\", callback);\n      }\n    };\n    this.authenticateWithCoinbaseWallet = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithCoinbaseWallet(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"authenticateWithCoinbaseWallet\", callback);\n      }\n    };\n    this.authenticateWithWeb3 = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.authenticateWithWeb3(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"authenticateWithWeb3\", callback);\n      }\n    };\n    this.authenticateWithGoogleOneTap = async params => {\n      const clerkjs = await __privateMethod(this, _IsomorphicClerk_instances, waitForClerkJS_fn).call(this);\n      return clerkjs.authenticateWithGoogleOneTap(params);\n    };\n    this.createOrganization = async params => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.createOrganization(params);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"createOrganization\", callback);\n      }\n    };\n    this.getOrganization = async organizationId => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.getOrganization(organizationId);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"getOrganization\", callback);\n      }\n    };\n    this.signOut = async (signOutCallbackOrOptions, options) => {\n      const callback = () => {\n        var _a;\n        return (_a = this.clerkjs) == null ? void 0 : _a.signOut(signOutCallbackOrOptions, options);\n      };\n      if (this.clerkjs && __privateGet(this, _loaded)) {\n        return callback();\n      } else {\n        this.premountMethodCalls.set(\"signOut\", callback);\n      }\n    };\n    const {\n      Clerk = null,\n      publishableKey\n    } = options || {};\n    __privateSet(this, _publishableKey, publishableKey);\n    __privateSet(this, _proxyUrl, options == null ? void 0 : options.proxyUrl);\n    __privateSet(this, _domain, options == null ? void 0 : options.domain);\n    this.options = options;\n    this.Clerk = Clerk;\n    this.mode = inBrowser() ? \"browser\" : \"server\";\n    if (!this.options.sdkMetadata) {\n      this.options.sdkMetadata = SDK_METADATA;\n    }\n    void this.loadClerkJS();\n  }\n  get publishableKey() {\n    return __privateGet(this, _publishableKey);\n  }\n  get loaded() {\n    return __privateGet(this, _loaded);\n  }\n  static getOrCreateInstance(options) {\n    if (!inBrowser() || !__privateGet(this, _instance) || options.Clerk && __privateGet(this, _instance).Clerk !== options.Clerk) {\n      __privateSet(this, _instance, new _IsomorphicClerk(options));\n    }\n    return __privateGet(this, _instance);\n  }\n  static clearInstance() {\n    __privateSet(this, _instance, null);\n  }\n  get domain() {\n    if (typeof window !== \"undefined\" && window.location) {\n      return handleValueOrFn(__privateGet(this, _domain), new URL(window.location.href), \"\");\n    }\n    if (typeof __privateGet(this, _domain) === \"function\") {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return __privateGet(this, _domain) || \"\";\n  }\n  get proxyUrl() {\n    if (typeof window !== \"undefined\" && window.location) {\n      return handleValueOrFn(__privateGet(this, _proxyUrl), new URL(window.location.href), \"\");\n    }\n    if (typeof __privateGet(this, _proxyUrl) === \"function\") {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return __privateGet(this, _proxyUrl) || \"\";\n  }\n  get sdkMetadata() {\n    var _a;\n    return ((_a = this.clerkjs) == null ? void 0 : _a.sdkMetadata) || this.options.sdkMetadata || void 0;\n  }\n  get instanceType() {\n    var _a;\n    return (_a = this.clerkjs) == null ? void 0 : _a.instanceType;\n  }\n  get frontendApi() {\n    var _a;\n    return ((_a = this.clerkjs) == null ? void 0 : _a.frontendApi) || \"\";\n  }\n  get isStandardBrowser() {\n    var _a;\n    return ((_a = this.clerkjs) == null ? void 0 : _a.isStandardBrowser) || this.options.standardBrowser || false;\n  }\n  get isSatellite() {\n    if (typeof window !== \"undefined\" && window.location) {\n      return handleValueOrFn(this.options.isSatellite, new URL(window.location.href), false);\n    }\n    if (typeof this.options.isSatellite === \"function\") {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return false;\n  }\n  async loadClerkJS() {\n    var _a;\n    if (this.mode !== \"browser\" || __privateGet(this, _loaded)) {\n      return;\n    }\n    if (typeof window !== \"undefined\") {\n      window.__clerk_publishable_key = __privateGet(this, _publishableKey);\n      window.__clerk_proxy_url = this.proxyUrl;\n      window.__clerk_domain = this.domain;\n    }\n    try {\n      if (this.Clerk) {\n        let c;\n        if (isConstructor(this.Clerk)) {\n          c = new this.Clerk(__privateGet(this, _publishableKey), {\n            proxyUrl: this.proxyUrl,\n            domain: this.domain\n          });\n          await c.load(this.options);\n        } else {\n          c = this.Clerk;\n          if (!c.loaded) {\n            await c.load(this.options);\n          }\n        }\n        global.Clerk = c;\n      } else {\n        if (!global.Clerk) {\n          await loadClerkJsScript({\n            ...this.options,\n            publishableKey: __privateGet(this, _publishableKey),\n            proxyUrl: this.proxyUrl,\n            domain: this.domain,\n            nonce: this.options.nonce\n          });\n        }\n        if (!global.Clerk) {\n          throw new Error(\"Failed to download latest ClerkJS. Contact support@clerk.com.\");\n        }\n        await global.Clerk.load(this.options);\n      }\n      if ((_a = global.Clerk) == null ? void 0 : _a.loaded) {\n        return this.hydrateClerkJS(global.Clerk);\n      }\n      return;\n    } catch (err) {\n      const error = err;\n      if (process.env.NODE_ENV === \"production\") {\n        console.error(error.stack || error.message || error);\n      } else {\n        throw err;\n      }\n      return;\n    }\n  }\n  get version() {\n    var _a;\n    return (_a = this.clerkjs) == null ? void 0 : _a.version;\n  }\n  get client() {\n    if (this.clerkjs) {\n      return this.clerkjs.client;\n    } else {\n      return void 0;\n    }\n  }\n  get session() {\n    if (this.clerkjs) {\n      return this.clerkjs.session;\n    } else {\n      return void 0;\n    }\n  }\n  get user() {\n    if (this.clerkjs) {\n      return this.clerkjs.user;\n    } else {\n      return void 0;\n    }\n  }\n  get organization() {\n    if (this.clerkjs) {\n      return this.clerkjs.organization;\n    } else {\n      return void 0;\n    }\n  }\n  get telemetry() {\n    if (this.clerkjs) {\n      return this.clerkjs.telemetry;\n    } else {\n      return void 0;\n    }\n  }\n  get __unstable__environment() {\n    if (this.clerkjs) {\n      return this.clerkjs.__unstable__environment;\n    } else {\n      return void 0;\n    }\n  }\n  __unstable__setEnvironment() {\n    if (this.clerkjs && \"__unstable__setEnvironment\" in this.clerkjs) {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.clerkjs.__unstable__setEnvironment(args);\n    } else {\n      return void 0;\n    }\n  }\n};\n_loaded = new WeakMap();\n_domain = new WeakMap();\n_proxyUrl = new WeakMap();\n_publishableKey = new WeakMap();\n_instance = new WeakMap();\n_IsomorphicClerk_instances = new WeakSet();\nwaitForClerkJS_fn = function () {\n  return new Promise(resolve => {\n    this.addOnLoaded(() => resolve(this.clerkjs));\n  });\n};\n__privateAdd(_IsomorphicClerk, _instance);\nvar IsomorphicClerk = _IsomorphicClerk;\n\n// src/utils/deriveState.ts\nvar deriveState = (clerkLoaded, state, initialState) => {\n  if (!clerkLoaded && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\nvar deriveFromSsrInitialState = initialState => {\n  const userId = initialState.userId;\n  const user = initialState.user;\n  const sessionId = initialState.sessionId;\n  const session = initialState.session;\n  const organization = initialState.organization;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole;\n  const orgPermissions = initialState.orgPermissions;\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor\n  };\n};\nvar deriveFromClientSideState = state => {\n  var _a;\n  const userId = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const actor = session == null ? void 0 : session.actor;\n  const organization = state.organization;\n  const orgId = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization == null ? void 0 : organization.slug;\n  const membership = organization ? (_a = user == null ? void 0 : user.organizationMemberships) == null ? void 0 : _a.find(om => om.organization.id === orgId) : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor\n  };\n};\n\n// src/contexts/ClerkContextProvider.tsx\nfunction ClerkContextProvider(props) {\n  const {\n    isomorphicClerkOptions,\n    initialState,\n    children\n  } = props;\n  const {\n    isomorphicClerk: clerk,\n    loaded: clerkLoaded\n  } = useLoadedIsomorphicClerk(isomorphicClerkOptions);\n  const [state, setState] = React12.useState({\n    client: clerk.client,\n    session: clerk.session,\n    user: clerk.user,\n    organization: clerk.organization\n  });\n  React12.useEffect(() => {\n    return clerk.addListener(e => setState({\n      ...e\n    }));\n  }, []);\n  const derivedState = deriveState(clerkLoaded, state, initialState);\n  const clerkCtx = React12.useMemo(() => ({\n    value: clerk\n  }), [clerkLoaded]);\n  const clientCtx = React12.useMemo(() => ({\n    value: state.client\n  }), [state.client]);\n  const {\n    sessionId,\n    session,\n    userId,\n    user,\n    orgId,\n    actor,\n    organization,\n    orgRole,\n    orgSlug,\n    orgPermissions\n  } = derivedState;\n  const authCtx = React12.useMemo(() => {\n    const value = {\n      sessionId,\n      userId,\n      actor,\n      orgId,\n      orgRole,\n      orgSlug,\n      orgPermissions\n    };\n    return {\n      value\n    };\n  }, [sessionId, userId, actor, orgId, orgRole, orgSlug]);\n  const userCtx = React12.useMemo(() => ({\n    value: user\n  }), [userId, user]);\n  const sessionCtx = React12.useMemo(() => ({\n    value: session\n  }), [sessionId, session]);\n  const organizationCtx = React12.useMemo(() => {\n    const value = {\n      organization\n    };\n    return {\n      value\n    };\n  }, [orgId, organization]);\n  return (\n    // @ts-expect-error value passed is of type IsomorphicClerk where the context expects LoadedClerk\n    /* @__PURE__ */\n    React12.createElement(IsomorphicClerkContext.Provider, {\n      value: clerkCtx\n    }, /* @__PURE__ */React12.createElement(ClientContext.Provider, {\n      value: clientCtx\n    }, /* @__PURE__ */React12.createElement(SessionContext.Provider, {\n      value: sessionCtx\n    }, /* @__PURE__ */React12.createElement(OrganizationProvider, {\n      ...organizationCtx.value\n    }, /* @__PURE__ */React12.createElement(AuthContext.Provider, {\n      value: authCtx\n    }, /* @__PURE__ */React12.createElement(UserContext.Provider, {\n      value: userCtx\n    }, children))))))\n  );\n}\nvar useLoadedIsomorphicClerk = options => {\n  const [loaded, setLoaded] = React12.useState(false);\n  const isomorphicClerk = React12.useMemo(() => IsomorphicClerk.getOrCreateInstance(options), []);\n  React12.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({\n      appearance: options.appearance\n    });\n  }, [options.appearance]);\n  React12.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({\n      options\n    });\n  }, [options.localization]);\n  React12.useEffect(() => {\n    isomorphicClerk.addOnLoaded(() => setLoaded(true));\n  }, []);\n  React12.useEffect(() => {\n    return () => {\n      IsomorphicClerk.clearInstance();\n    };\n  }, []);\n  return {\n    isomorphicClerk,\n    loaded\n  };\n};\n\n// src/contexts/ClerkProvider.tsx\nfunction ClerkProviderBase(props) {\n  const {\n    initialState,\n    children,\n    ...restIsomorphicClerkOptions\n  } = props;\n  const {\n    publishableKey = \"\",\n    Clerk: userInitialisedClerk\n  } = restIsomorphicClerkOptions;\n  if (!userInitialisedClerk) {\n    if (!publishableKey) {\n      errorThrower.throwMissingPublishableKeyError();\n    } else if (publishableKey && !isPublishableKey(publishableKey)) {\n      errorThrower.throwInvalidPublishableKeyError({\n        key: publishableKey\n      });\n    }\n  }\n  return /* @__PURE__ */React13.createElement(ClerkContextProvider, {\n    initialState,\n    isomorphicClerkOptions: restIsomorphicClerkOptions\n  }, children);\n}\nvar ClerkProvider = withMaxAllowedInstancesGuard(ClerkProviderBase, \"ClerkProvider\", multipleClerkProvidersError);\nClerkProvider.displayName = \"ClerkProvider\";\n\n// src/index.ts\nsetErrorThrowerOptions({\n  packageName: \"@clerk/clerk-react\"\n});\nsetClerkJsLoadingErrorPackageName(\"@clerk/clerk-react\");\nexport { AuthenticateWithRedirectCallback, ClerkLoaded, ClerkLoading, ClerkProvider, CreateOrganization, GoogleOneTap, OrganizationList, OrganizationProfile, OrganizationSwitcher, Protect, RedirectToCreateOrganization, RedirectToOrganizationProfile, RedirectToSignIn, RedirectToSignUp, RedirectToUserProfile, SignIn, SignInButton, SignInWithMetamaskButton, SignOutButton, SignUp, SignUpButton, SignedIn, SignedOut, UserButton, UserProfile, __experimental_UserVerification, useAuth, useClerk, useEmailLink, useOrganization, useOrganizationList, useSession, useSessionList, useSignIn, useSignUp, useUser };","map":{"version":3,"names":["window","global","setClerkJsLoadingErrorPackageName","logErrorInDevMode","logErrorInDevMode3","without","isDeeplyEqual","React7","createElement","React","assertSingleChild","children","name","Children","only","e","errorThrower","throw","multipleChildrenInButtonComponent","normalizeWithDefaultValue","defaultText","safeExecute","cb","arguments","isConstructor","f","React2","counts","Map","useMaxAllowedInstancesGuard","error","maxCount","length","undefined","useEffect","count","get","set","withMaxAllowedInstancesGuard","WrappedComponent","displayName","Hoc","props","React3","useState","createPortal","useCustomElementPortal","elements","initialState","Array","fill","nodes","setNodes","map","el","index","id","mount","node","prevState","n","i","unmount","portal","Fragment","component","React5","React4","isThatComponent","v","isValidElement","type","useUserProfileCustomPages","reorderItemsLabels","useCustomPages","LinkComponent","UserProfileLink","PageComponent","UserProfilePage","MenuItemsComponent","MenuItems","componentName","useOrganizationProfileCustomPages","OrganizationProfileLink","OrganizationProfilePage","_ref","validChildren","forEach","child","customPagesIgnoredComponent","children2","label","url","labelIcon","isReorderItem","push","isCustomPage","customPageWrongProps","isExternalLink","customLinkWrongProps","customPageContents","customPageLabelIcons","customLinkLabelIcons","cp","customPageContentsPortals","customPageLabelIconsPortals","customLinkLabelIconsPortals","customPages","customPagesPortals","contentPortal","find","p","labelPortal","mountIcon","unmountIcon","childProps","validItems","some","logErrorInDevMode2","React6","useUserButtonCustomMenuItems","useCustomMenuItems","MenuActionComponent","MenuAction","MenuLinkComponent","MenuLink","UserProfileLinkComponent","UserProfilePageComponent","_ref2","customMenuItems","customMenuItemsPortals","userButtonIgnoredComponent","child2","customMenuItemsIgnoredComponent","props2","href","onClick","open","isReorderItem2","isCustomMenuItem","baseItem","startsWith","userButtonMenuItemsActionWrongsProps","isExternalLink2","userButtonMenuItemLinkWrongProps","customMenuItemLabelIcons","mi","customMenuItemLabelIconsPortals","iconPortal","menuItem","isMountProps","isOpenProps","Portal","PureComponent","constructor","portalRef","createRef","componentDidUpdate","_prevProps","_a","_b","_c","_d","prevProps","newProps","customPagesChanged","customMenuItemsChanged","updateProps","current","componentDidMount","componentWillUnmount","close","render","ref","key","SignIn","withClerk","_ref3","clerk","mountSignIn","unmountSignIn","__unstable__updateProps","SignUp","_ref4","mountSignUp","unmountSignUp","_ref5","userProfilePageRenderedError","_ref6","userProfileLinkRenderedError","_UserProfile","_ref7","mountUserProfile","unmountUserProfile","UserProfile","Object","assign","Page","Link","_UserButton","_ref8","userProfileProps","mountUserButton","unmountUserButton","_ref9","userButtonMenuItemsRenderedError","_ref10","userButtonMenuActionRenderedError","_ref11","userButtonMenuLinkRenderedError","UserButton","Action","__experimental_UserVerification","_ref12","__experimental_mountUserVerification","__experimental_unmountUserVerification","_ref13","organizationProfilePageRenderedError","_ref14","organizationProfileLinkRenderedError","_OrganizationProfile","_ref15","mountOrganizationProfile","unmountOrganizationProfile","OrganizationProfile","CreateOrganization","_ref16","mountCreateOrganization","unmountCreateOrganization","_OrganizationSwitcher","_ref17","organizationProfileProps","mountOrganizationSwitcher","unmountOrganizationSwitcher","OrganizationSwitcher","OrganizationList","_ref18","mountOrganizationList","unmountOrganizationList","GoogleOneTap","_ref19","openGoogleOneTap","closeGoogleOneTap","React8","SignInButton","_ref20","signUpFallbackRedirectUrl","forceRedirectUrl","fallbackRedirectUrl","signUpForceRedirectUrl","mode","rest","clickHandler","opts","openSignIn","redirectToSignIn","signInFallbackRedirectUrl","signInForceRedirectUrl","wrappedChildClickHandler","cloneElement","React9","SignUpButton","_ref21","unsafeMetadata","openSignUp","redirectToSignUp","React10","SignOutButton","_ref22","redirectUrl","signOutOptions","signOut","React11","SignInWithMetamaskButton","_ref23","authenticate","authenticateWithMetamask","isPublishableKey","React13","ClientContext","OrganizationProvider","SessionContext","UserContext","React12","inBrowser","handleValueOrFn","loadClerkJsScript","SDK_METADATA","version","environment","process","env","NODE_ENV","_loaded","_domain","_proxyUrl","_publishableKey","_instance","_IsomorphicClerk_instances","waitForClerkJS_fn","_IsomorphicClerk","options","_this","__privateAdd","clerkjs","preopenOneTap","preopenUserVerification","preopenSignIn","preopenSignUp","preopenUserProfile","preopenOrganizationProfile","preopenCreateOrganization","premountSignInNodes","premountSignUpNodes","premountUserProfileNodes","premountUserButtonNodes","premountOrganizationProfileNodes","premountCreateOrganizationNodes","premountOrganizationSwitcherNodes","premountOrganizationListNodes","premountUserVerificationNodes","premountMethodCalls","premountAddListenerCalls","loadedListeners","buildSignInUrl","callback","__privateGet","buildSignUpUrl","buildAfterSignInUrl","buildAfterSignUpUrl","buildAfterSignOutUrl","buildAfterMultiSessionSingleSignOutUrl","buildUserProfileUrl","buildCreateOrganizationUrl","buildOrganizationProfileUrl","buildUrlWithAuth","to","handleUnauthenticated","addOnLoaded","loaded","emitLoaded","hydrateClerkJS","Error","listenerHandlers","listener","nativeUnsubscribe","addListener","openUserProfile","__experimental_openUserVerification","openOrganizationProfile","openCreateOrganization","__privateSet","__privateMethod","call","setActive","_ref24","session","organization","beforeEmit","Promise","reject","closeSignIn","__experimental_closeUserVerification","closeUserProfile","closeOrganizationProfile","closeCreateOrganization","closeSignUp","delete","userButtonProps","unsubscribe","navigate","redirectWithAuth","_len","args","_key","redirectToUserProfile","redirectToAfterSignUp","redirectToAfterSignIn","redirectToAfterSignOut","redirectToOrganizationProfile","redirectToCreateOrganization","handleRedirectCallback","params","_a2","catch","handleGoogleOneTapCallback","signInOrUp","handleEmailLinkVerification","authenticateWithCoinbase","authenticateWithCoinbaseWallet","authenticateWithWeb3","authenticateWithGoogleOneTap","createOrganization","getOrganization","organizationId","signOutCallbackOrOptions","Clerk","publishableKey","proxyUrl","domain","sdkMetadata","loadClerkJS","getOrCreateInstance","clearInstance","location","URL","unsupportedNonBrowserDomainOrProxyUrlFunction","instanceType","frontendApi","isStandardBrowser","standardBrowser","isSatellite","__clerk_publishable_key","__clerk_proxy_url","__clerk_domain","c","load","nonce","err","console","stack","message","client","user","telemetry","__unstable__environment","__unstable__setEnvironment","_len2","_key2","WeakMap","WeakSet","resolve","IsomorphicClerk","deriveState","clerkLoaded","state","deriveFromSsrInitialState","deriveFromClientSideState","userId","sessionId","orgId","orgRole","orgPermissions","orgSlug","actor","slug","membership","organizationMemberships","om","permissions","role","ClerkContextProvider","isomorphicClerkOptions","isomorphicClerk","useLoadedIsomorphicClerk","setState","derivedState","clerkCtx","useMemo","value","clientCtx","authCtx","userCtx","sessionCtx","organizationCtx","IsomorphicClerkContext","Provider","AuthContext","setLoaded","appearance","localization","ClerkProviderBase","restIsomorphicClerkOptions","userInitialisedClerk","throwMissingPublishableKeyError","throwInvalidPublishableKeyError","ClerkProvider","multipleClerkProvidersError","setErrorThrowerOptions","packageName"],"sources":["/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/polyfills.ts","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/index.ts","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/components/uiComponents.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/childrenUtils.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/isConstructor.ts","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/useMaxAllowedInstancesGuard.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/useCustomElementPortal.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/useCustomPages.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/componentValidation.ts","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/useCustomMenuItems.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/components/SignInButton.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/components/SignUpButton.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/components/SignOutButton.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/components/SignInWithMetamaskButton.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/contexts/ClerkProvider.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/contexts/ClerkContextProvider.tsx","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/isomorphicClerk.ts","/Users/shaud/Desktop/c6-mycode/cs/capstone/node_modules/@clerk/clerk-react/src/utils/deriveState.ts"],"sourcesContent":["/**\n * Vite does not define `global` by default\n * One workaround is to use the `define` config prop\n * https://vitejs.dev/config/#define\n * We are solving this in the SDK level to reduce setup steps.\n */\nif (typeof window !== 'undefined' && !window.global) {\n  window.global = typeof global === 'undefined' ? window : global;\n}\n\nexport {};\n","import './polyfills';\n\nimport { setClerkJsLoadingErrorPackageName } from '@clerk/shared/loadClerkJsScript';\n\nimport { setErrorThrowerOptions } from './errors/errorThrower';\n\nexport * from './components';\nexport * from './contexts';\n\nexport * from './hooks';\nexport { useEmailLink } from './hooks/useEmailLink';\nexport type { BrowserClerk, ClerkProp, HeadlessBrowserClerk, ClerkProviderProps } from './types';\n\nsetErrorThrowerOptions({ packageName: PACKAGE_NAME });\nsetClerkJsLoadingErrorPackageName(PACKAGE_NAME);\n","import { logErrorInDevMode, without } from '@clerk/shared';\nimport { isDeeplyEqual } from '@clerk/shared/react';\nimport type {\n  __experimental_UserVerificationProps,\n  CreateOrganizationProps,\n  GoogleOneTapProps,\n  OrganizationListProps,\n  OrganizationProfileProps,\n  OrganizationSwitcherProps,\n  SignInProps,\n  SignUpProps,\n  UserButtonProps,\n  UserProfileProps,\n  Without,\n} from '@clerk/types';\nimport type { PropsWithChildren } from 'react';\nimport React, { createElement } from 'react';\n\nimport {\n  organizationProfileLinkRenderedError,\n  organizationProfilePageRenderedError,\n  userButtonMenuActionRenderedError,\n  userButtonMenuItemsRenderedError,\n  userButtonMenuLinkRenderedError,\n  userProfileLinkRenderedError,\n  userProfilePageRenderedError,\n} from '../errors/messages';\nimport type {\n  MountProps,\n  OpenProps,\n  OrganizationProfileLinkProps,\n  OrganizationProfilePageProps,\n  UserButtonActionProps,\n  UserButtonLinkProps,\n  UserProfileLinkProps,\n  UserProfilePageProps,\n  WithClerkProp,\n} from '../types';\nimport { useOrganizationProfileCustomPages, useUserButtonCustomMenuItems, useUserProfileCustomPages } from '../utils';\nimport { withClerk } from './withClerk';\n\ntype UserProfileExportType = typeof _UserProfile & {\n  Page: typeof UserProfilePage;\n  Link: typeof UserProfileLink;\n};\n\ntype UserButtonExportType = typeof _UserButton & {\n  UserProfilePage: typeof UserProfilePage;\n  UserProfileLink: typeof UserProfileLink;\n  MenuItems: typeof MenuItems;\n  Action: typeof MenuAction;\n  Link: typeof MenuLink;\n};\n\ntype UserButtonPropsWithoutCustomPages = Without<UserButtonProps, 'userProfileProps'> & {\n  userProfileProps?: Pick<UserProfileProps, 'additionalOAuthScopes' | 'appearance'>;\n};\n\ntype OrganizationProfileExportType = typeof _OrganizationProfile & {\n  Page: typeof OrganizationProfilePage;\n  Link: typeof OrganizationProfileLink;\n};\n\ntype OrganizationSwitcherExportType = typeof _OrganizationSwitcher & {\n  OrganizationProfilePage: typeof OrganizationProfilePage;\n  OrganizationProfileLink: typeof OrganizationProfileLink;\n};\n\ntype OrganizationSwitcherPropsWithoutCustomPages = Without<OrganizationSwitcherProps, 'organizationProfileProps'> & {\n  organizationProfileProps?: Pick<OrganizationProfileProps, 'appearance'>;\n};\n\n// README: <Portal/> should be a class pure component in order for mount and unmount\n// lifecycle props to be invoked correctly. Replacing the class component with a\n// functional component wrapped with a React.memo is not identical to the original\n// class implementation due to React intricacies such as the useEffects cleanup\n// seems to run AFTER unmount, while componentWillUnmount runs BEFORE.\n\n// More information can be found at https://clerk.slack.com/archives/C015S0BGH8R/p1624891993016300\n\n// The function Portal implementation is commented out for future reference.\n\n// const Portal = React.memo(({ props, mount, unmount }: MountProps) => {\n//   const portalRef = React.createRef<HTMLDivElement>();\n\n//   useEffect(() => {\n//     if (portalRef.current) {\n//       mount(portalRef.current, props);\n//     }\n//     return () => {\n//       if (portalRef.current) {\n//         unmount(portalRef.current);\n//       }\n//     };\n//   }, []);\n\n//   return <div ref={portalRef} />;\n// });\n\n// Portal.displayName = 'ClerkPortal';\n\nconst isMountProps = (props: any): props is MountProps => {\n  return 'mount' in props;\n};\n\nconst isOpenProps = (props: any): props is OpenProps => {\n  return 'open' in props;\n};\n\nclass Portal extends React.PureComponent<MountProps | OpenProps> {\n  private portalRef = React.createRef<HTMLDivElement>();\n\n  componentDidUpdate(_prevProps: Readonly<MountProps | OpenProps>) {\n    if (!isMountProps(_prevProps) || !isMountProps(this.props)) {\n      return;\n    }\n\n    // Remove children and customPages from props before comparing\n    // children might hold circular references which deepEqual can't handle\n    // and the implementation of customPages or customMenuItems relies on props getting new references\n    const prevProps = without(_prevProps.props, 'customPages', 'customMenuItems', 'children');\n    const newProps = without(this.props.props, 'customPages', 'customMenuItems', 'children');\n    // instead, we simply use the length of customPages to determine if it changed or not\n    const customPagesChanged = prevProps.customPages?.length !== newProps.customPages?.length;\n    const customMenuItemsChanged = prevProps.customMenuItems?.length !== newProps.customMenuItems?.length;\n    if (!isDeeplyEqual(prevProps, newProps) || customPagesChanged || customMenuItemsChanged) {\n      this.props.updateProps({ node: this.portalRef.current, props: this.props.props });\n    }\n  }\n\n  componentDidMount() {\n    if (this.portalRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.mount(this.portalRef.current, this.props.props);\n      }\n\n      if (isOpenProps(this.props)) {\n        this.props.open(this.props.props);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.portalRef.current) {\n      if (isMountProps(this.props)) {\n        this.props.unmount(this.portalRef.current);\n      }\n      if (isOpenProps(this.props)) {\n        this.props.close();\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div ref={this.portalRef} />\n        {isMountProps(this.props) &&\n          this.props?.customPagesPortals?.map((portal, index) => createElement(portal, { key: index }))}\n        {isMountProps(this.props) &&\n          this.props?.customMenuItemsPortals?.map((portal, index) => createElement(portal, { key: index }))}\n      </>\n    );\n  }\n}\n\nexport const SignIn = withClerk(({ clerk, ...props }: WithClerkProp<SignInProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountSignIn}\n      unmount={clerk.unmountSignIn}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'SignIn');\n\nexport const SignUp = withClerk(({ clerk, ...props }: WithClerkProp<SignUpProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountSignUp}\n      unmount={clerk.unmountSignUp}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'SignUp');\n\nexport function UserProfilePage({ children }: PropsWithChildren<UserProfilePageProps>) {\n  logErrorInDevMode(userProfilePageRenderedError);\n  return <>{children}</>;\n}\n\nexport function UserProfileLink({ children }: PropsWithChildren<UserProfileLinkProps>) {\n  logErrorInDevMode(userProfileLinkRenderedError);\n  return <>{children}</>;\n}\n\nconst _UserProfile = withClerk(\n  ({ clerk, ...props }: WithClerkProp<PropsWithChildren<Without<UserProfileProps, 'customPages'>>>) => {\n    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children);\n    return (\n      <Portal\n        mount={clerk.mountUserProfile}\n        unmount={clerk.unmountUserProfile}\n        updateProps={(clerk as any).__unstable__updateProps}\n        props={{ ...props, customPages }}\n        customPagesPortals={customPagesPortals}\n      />\n    );\n  },\n  'UserProfile',\n);\n\nexport const UserProfile: UserProfileExportType = Object.assign(_UserProfile, {\n  Page: UserProfilePage,\n  Link: UserProfileLink,\n});\n\nconst _UserButton = withClerk(\n  ({ clerk, ...props }: WithClerkProp<PropsWithChildren<UserButtonPropsWithoutCustomPages>>) => {\n    const { customPages, customPagesPortals } = useUserProfileCustomPages(props.children);\n    const userProfileProps = Object.assign(props.userProfileProps || {}, { customPages });\n    const { customMenuItems, customMenuItemsPortals } = useUserButtonCustomMenuItems(props.children);\n\n    return (\n      <Portal\n        mount={clerk.mountUserButton}\n        unmount={clerk.unmountUserButton}\n        updateProps={(clerk as any).__unstable__updateProps}\n        props={{ ...props, userProfileProps, customMenuItems }}\n        customPagesPortals={customPagesPortals}\n        customMenuItemsPortals={customMenuItemsPortals}\n      />\n    );\n  },\n  'UserButton',\n);\n\nexport function MenuItems({ children }: PropsWithChildren) {\n  logErrorInDevMode(userButtonMenuItemsRenderedError);\n  return <>{children}</>;\n}\n\nexport function MenuAction({ children }: PropsWithChildren<UserButtonActionProps>) {\n  logErrorInDevMode(userButtonMenuActionRenderedError);\n  return <>{children}</>;\n}\n\nexport function MenuLink({ children }: PropsWithChildren<UserButtonLinkProps>) {\n  logErrorInDevMode(userButtonMenuLinkRenderedError);\n  return <>{children}</>;\n}\n\nexport const UserButton: UserButtonExportType = Object.assign(_UserButton, {\n  UserProfilePage,\n  UserProfileLink,\n  MenuItems,\n  Action: MenuAction,\n  Link: MenuLink,\n});\n\nexport const __experimental_UserVerification = withClerk(\n  ({ clerk, ...props }: WithClerkProp<PropsWithChildren<__experimental_UserVerificationProps>>) => {\n    return (\n      <Portal\n        mount={clerk.__experimental_mountUserVerification}\n        unmount={clerk.__experimental_unmountUserVerification}\n        updateProps={(clerk as any).__unstable__updateProps}\n        props={props}\n      />\n    );\n  },\n  '__experimental_UserVerification',\n);\n\nexport function OrganizationProfilePage({ children }: PropsWithChildren<OrganizationProfilePageProps>) {\n  logErrorInDevMode(organizationProfilePageRenderedError);\n  return <>{children}</>;\n}\n\nexport function OrganizationProfileLink({ children }: PropsWithChildren<OrganizationProfileLinkProps>) {\n  logErrorInDevMode(organizationProfileLinkRenderedError);\n  return <>{children}</>;\n}\n\nconst _OrganizationProfile = withClerk(\n  ({ clerk, ...props }: WithClerkProp<PropsWithChildren<Without<OrganizationProfileProps, 'customPages'>>>) => {\n    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children);\n    return (\n      <Portal\n        mount={clerk.mountOrganizationProfile}\n        unmount={clerk.unmountOrganizationProfile}\n        updateProps={(clerk as any).__unstable__updateProps}\n        props={{ ...props, customPages }}\n        customPagesPortals={customPagesPortals}\n      />\n    );\n  },\n  'OrganizationProfile',\n);\n\nexport const OrganizationProfile: OrganizationProfileExportType = Object.assign(_OrganizationProfile, {\n  Page: OrganizationProfilePage,\n  Link: OrganizationProfileLink,\n});\n\nexport const CreateOrganization = withClerk(({ clerk, ...props }: WithClerkProp<CreateOrganizationProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountCreateOrganization}\n      unmount={clerk.unmountCreateOrganization}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'CreateOrganization');\n\nconst _OrganizationSwitcher = withClerk(\n  ({ clerk, ...props }: WithClerkProp<PropsWithChildren<OrganizationSwitcherPropsWithoutCustomPages>>) => {\n    const { customPages, customPagesPortals } = useOrganizationProfileCustomPages(props.children);\n    const organizationProfileProps = Object.assign(props.organizationProfileProps || {}, { customPages });\n\n    return (\n      <Portal\n        mount={clerk.mountOrganizationSwitcher}\n        unmount={clerk.unmountOrganizationSwitcher}\n        updateProps={(clerk as any).__unstable__updateProps}\n        props={{ ...props, organizationProfileProps }}\n        customPagesPortals={customPagesPortals}\n      />\n    );\n  },\n  'OrganizationSwitcher',\n);\n\nexport const OrganizationSwitcher: OrganizationSwitcherExportType = Object.assign(_OrganizationSwitcher, {\n  OrganizationProfilePage,\n  OrganizationProfileLink,\n});\n\nexport const OrganizationList = withClerk(({ clerk, ...props }: WithClerkProp<OrganizationListProps>) => {\n  return (\n    <Portal\n      mount={clerk.mountOrganizationList}\n      unmount={clerk.unmountOrganizationList}\n      updateProps={(clerk as any).__unstable__updateProps}\n      props={props}\n    />\n  );\n}, 'OrganizationList');\n\nexport const GoogleOneTap = withClerk(({ clerk, ...props }: WithClerkProp<GoogleOneTapProps>) => {\n  return (\n    <Portal\n      open={clerk.openGoogleOneTap}\n      close={clerk.closeGoogleOneTap}\n      props={props}\n    />\n  );\n}, 'GoogleOneTap');\n","import React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleChildrenInButtonComponent } from '../errors/messages';\n\nexport const assertSingleChild =\n  (children: React.ReactNode) =>\n  (name: 'SignInButton' | 'SignUpButton' | 'SignOutButton' | 'SignInWithMetamaskButton') => {\n    try {\n      return React.Children.only(children);\n    } catch (e) {\n      return errorThrower.throw(multipleChildrenInButtonComponent(name));\n    }\n  };\n\nexport const normalizeWithDefaultValue = (children: React.ReactNode | undefined, defaultText: string) => {\n  if (!children) {\n    children = defaultText;\n  }\n  if (typeof children === 'string') {\n    children = <button>{children}</button>;\n  }\n  return children;\n};\n\nexport const safeExecute =\n  (cb: unknown) =>\n  (...args: any) => {\n    if (cb && typeof cb === 'function') {\n      return cb(...args);\n    }\n  };\n","export function isConstructor<T>(f: any): f is T {\n  return typeof f === 'function';\n}\n","import React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\n\nconst counts = new Map<string, number>();\n\nexport function useMaxAllowedInstancesGuard(name: string, error: string, maxCount = 1): void {\n  React.useEffect(() => {\n    const count = counts.get(name) || 0;\n    if (count == maxCount) {\n      return errorThrower.throw(error);\n    }\n    counts.set(name, count + 1);\n\n    return () => {\n      counts.set(name, (counts.get(name) || 1) - 1);\n    };\n  }, []);\n}\n\nexport function withMaxAllowedInstancesGuard<P>(\n  WrappedComponent: React.ComponentType<P>,\n  name: string,\n  error: string,\n): React.ComponentType<P> {\n  const displayName = WrappedComponent.displayName || WrappedComponent.name || name || 'Component';\n  const Hoc = (props: P) => {\n    useMaxAllowedInstancesGuard(name, error);\n    return <WrappedComponent {...(props as any)} />;\n  };\n  Hoc.displayName = `withMaxAllowedInstancesGuard(${displayName})`;\n  return Hoc;\n}\n","import React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport type UseCustomElementPortalParams = {\n  component: React.ReactNode;\n  id: number;\n};\n\nexport type UseCustomElementPortalReturn = {\n  portal: () => JSX.Element;\n  mount: (node: Element) => void;\n  unmount: () => void;\n  id: number;\n};\n\n// This function takes a component as prop, and returns functions that mount and unmount\n// the given component into a given node\nexport const useCustomElementPortal = (elements: UseCustomElementPortalParams[]) => {\n  const initialState = Array(elements.length).fill(null);\n  const [nodes, setNodes] = useState<(Element | null)[]>(initialState);\n\n  return elements.map((el, index) => ({\n    id: el.id,\n    mount: (node: Element) => setNodes(prevState => prevState.map((n, i) => (i === index ? node : n))),\n    unmount: () => setNodes(prevState => prevState.map((n, i) => (i === index ? null : n))),\n    portal: () => <>{nodes[index] ? createPortal(el.component, nodes[index] as Element) : null}</>,\n  }));\n};\n","import { logErrorInDevMode } from '@clerk/shared';\nimport type { CustomPage } from '@clerk/types';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport {\n  MenuItems,\n  OrganizationProfileLink,\n  OrganizationProfilePage,\n  UserProfileLink,\n  UserProfilePage,\n} from '../components/uiComponents';\nimport { customLinkWrongProps, customPagesIgnoredComponent, customPageWrongProps } from '../errors/messages';\nimport type { UserProfilePageProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport type { UseCustomElementPortalParams, UseCustomElementPortalReturn } from './useCustomElementPortal';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserProfileCustomPages = (children: React.ReactNode | React.ReactNode[]) => {\n  const reorderItemsLabels = ['account', 'security'];\n  return useCustomPages({\n    children,\n    reorderItemsLabels,\n    LinkComponent: UserProfileLink,\n    PageComponent: UserProfilePage,\n    MenuItemsComponent: MenuItems,\n    componentName: 'UserProfile',\n  });\n};\n\nexport const useOrganizationProfileCustomPages = (children: React.ReactNode | React.ReactNode[]) => {\n  const reorderItemsLabels = ['general', 'members'];\n  return useCustomPages({\n    children,\n    reorderItemsLabels,\n    LinkComponent: OrganizationProfileLink,\n    PageComponent: OrganizationProfilePage,\n    componentName: 'OrganizationProfile',\n  });\n};\n\ntype UseCustomPagesParams = {\n  children: React.ReactNode | React.ReactNode[];\n  LinkComponent: any;\n  PageComponent: any;\n  MenuItemsComponent?: any;\n  reorderItemsLabels: string[];\n  componentName: string;\n};\n\ntype CustomPageWithIdType = UserProfilePageProps & { children?: React.ReactNode };\n\nconst useCustomPages = ({\n  children,\n  LinkComponent,\n  PageComponent,\n  MenuItemsComponent,\n  reorderItemsLabels,\n  componentName,\n}: UseCustomPagesParams) => {\n  const validChildren: CustomPageWithIdType[] = [];\n\n  React.Children.forEach(children, child => {\n    if (\n      !isThatComponent(child, PageComponent) &&\n      !isThatComponent(child, LinkComponent) &&\n      !isThatComponent(child, MenuItemsComponent)\n    ) {\n      if (child) {\n        logErrorInDevMode(customPagesIgnoredComponent(componentName));\n      }\n      return;\n    }\n\n    const { props } = child as ReactElement;\n\n    const { children, label, url, labelIcon } = props;\n\n    if (isThatComponent(child, PageComponent)) {\n      if (isReorderItem(props, reorderItemsLabels)) {\n        // This is a reordering item\n        validChildren.push({ label });\n      } else if (isCustomPage(props)) {\n        // this is a custom page\n        validChildren.push({ label, labelIcon, children, url });\n      } else {\n        logErrorInDevMode(customPageWrongProps(componentName));\n        return;\n      }\n    }\n\n    if (isThatComponent(child, LinkComponent)) {\n      if (isExternalLink(props)) {\n        // This is an external link\n        validChildren.push({ label, labelIcon, url });\n      } else {\n        logErrorInDevMode(customLinkWrongProps(componentName));\n        return;\n      }\n    }\n  });\n\n  const customPageContents: UseCustomElementPortalParams[] = [];\n  const customPageLabelIcons: UseCustomElementPortalParams[] = [];\n  const customLinkLabelIcons: UseCustomElementPortalParams[] = [];\n\n  validChildren.forEach((cp, index) => {\n    if (isCustomPage(cp)) {\n      customPageContents.push({ component: cp.children, id: index });\n      customPageLabelIcons.push({ component: cp.labelIcon, id: index });\n      return;\n    }\n    if (isExternalLink(cp)) {\n      customLinkLabelIcons.push({ component: cp.labelIcon, id: index });\n    }\n  });\n\n  const customPageContentsPortals = useCustomElementPortal(customPageContents);\n  const customPageLabelIconsPortals = useCustomElementPortal(customPageLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n\n  const customPages: CustomPage[] = [];\n  const customPagesPortals: React.ComponentType[] = [];\n\n  validChildren.forEach((cp, index) => {\n    if (isReorderItem(cp, reorderItemsLabels)) {\n      customPages.push({ label: cp.label });\n      return;\n    }\n    if (isCustomPage(cp)) {\n      const {\n        portal: contentPortal,\n        mount,\n        unmount,\n      } = customPageContentsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customPageLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customPages.push({ label: cp.label, url: cp.url, mount, unmount, mountIcon, unmountIcon });\n      customPagesPortals.push(contentPortal);\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n    if (isExternalLink(cp)) {\n      const {\n        portal: labelPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customLinkLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customPages.push({ label: cp.label, url: cp.url, mountIcon, unmountIcon });\n      customPagesPortals.push(labelPortal);\n      return;\n    }\n  });\n\n  return { customPages, customPagesPortals };\n};\n\nconst isReorderItem = (childProps: any, validItems: string[]): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !children && !url && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomPage = (childProps: any): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !!children && !!url && !!labelIcon && !!label;\n};\n\nconst isExternalLink = (childProps: any): boolean => {\n  const { children, label, url, labelIcon } = childProps;\n  return !children && !!url && !!labelIcon && !!label;\n};\n","import React from 'react';\n\nexport const isThatComponent = (v: any, component: React.ReactNode): v is React.ReactNode => {\n  return !!v && React.isValidElement(v) && (v as React.ReactElement)?.type === component;\n};\n","import { logErrorInDevMode } from '@clerk/shared';\nimport type { CustomMenuItem } from '@clerk/types';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { MenuAction, MenuItems, MenuLink, UserProfileLink, UserProfilePage } from '../components/uiComponents';\nimport {\n  customMenuItemsIgnoredComponent,\n  userButtonIgnoredComponent,\n  userButtonMenuItemLinkWrongProps,\n  userButtonMenuItemsActionWrongsProps,\n} from '../errors/messages';\nimport type { UserButtonActionProps, UserButtonLinkProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport type { UseCustomElementPortalParams, UseCustomElementPortalReturn } from './useCustomElementPortal';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserButtonCustomMenuItems = (children: React.ReactNode | React.ReactNode[]) => {\n  const reorderItemsLabels = ['manageAccount', 'signOut'];\n  return useCustomMenuItems({\n    children,\n    reorderItemsLabels,\n    MenuItemsComponent: MenuItems,\n    MenuActionComponent: MenuAction,\n    MenuLinkComponent: MenuLink,\n    UserProfileLinkComponent: UserProfileLink,\n    UserProfilePageComponent: UserProfilePage,\n  });\n};\n\ntype UseCustomMenuItemsParams = {\n  children: React.ReactNode | React.ReactNode[];\n  MenuItemsComponent?: any;\n  MenuActionComponent?: any;\n  MenuLinkComponent?: any;\n  UserProfileLinkComponent?: any;\n  UserProfilePageComponent?: any;\n  reorderItemsLabels: string[];\n};\n\ntype CustomMenuItemType = UserButtonActionProps | UserButtonLinkProps;\n\nconst useCustomMenuItems = ({\n  children,\n  MenuItemsComponent,\n  MenuActionComponent,\n  MenuLinkComponent,\n  UserProfileLinkComponent,\n  UserProfilePageComponent,\n  reorderItemsLabels,\n}: UseCustomMenuItemsParams) => {\n  const validChildren: CustomMenuItemType[] = [];\n  const customMenuItems: CustomMenuItem[] = [];\n  const customMenuItemsPortals: React.ComponentType[] = [];\n\n  React.Children.forEach(children, child => {\n    if (\n      !isThatComponent(child, MenuItemsComponent) &&\n      !isThatComponent(child, UserProfileLinkComponent) &&\n      !isThatComponent(child, UserProfilePageComponent)\n    ) {\n      if (child) {\n        logErrorInDevMode(userButtonIgnoredComponent);\n      }\n      return;\n    }\n\n    // Ignore UserProfileLinkComponent and UserProfilePageComponent\n    if (isThatComponent(child, UserProfileLinkComponent) || isThatComponent(child, UserProfilePageComponent)) {\n      return;\n    }\n\n    // Menu items children\n    const { props } = child as ReactElement;\n\n    React.Children.forEach(props.children, child => {\n      if (!isThatComponent(child, MenuActionComponent) && !isThatComponent(child, MenuLinkComponent)) {\n        if (child) {\n          logErrorInDevMode(customMenuItemsIgnoredComponent);\n        }\n\n        return;\n      }\n\n      const { props } = child as ReactElement;\n\n      const { label, labelIcon, href, onClick, open } = props;\n\n      if (isThatComponent(child, MenuActionComponent)) {\n        if (isReorderItem(props, reorderItemsLabels)) {\n          // This is a reordering item\n          validChildren.push({ label });\n        } else if (isCustomMenuItem(props)) {\n          const baseItem = {\n            label,\n            labelIcon,\n          };\n\n          if (onClick !== undefined) {\n            validChildren.push({\n              ...baseItem,\n              onClick,\n            });\n          } else if (open !== undefined) {\n            validChildren.push({\n              ...baseItem,\n              open: open.startsWith('/') ? open : `/${open}`,\n            });\n          } else {\n            // Handle the case where neither onClick nor open is defined\n            logErrorInDevMode('Custom menu item must have either onClick or open property');\n            return;\n          }\n        } else {\n          logErrorInDevMode(userButtonMenuItemsActionWrongsProps);\n          return;\n        }\n      }\n\n      if (isThatComponent(child, MenuLinkComponent)) {\n        if (isExternalLink(props)) {\n          validChildren.push({ label, labelIcon, href });\n        } else {\n          logErrorInDevMode(userButtonMenuItemLinkWrongProps);\n          return;\n        }\n      }\n    });\n  });\n\n  const customMenuItemLabelIcons: UseCustomElementPortalParams[] = [];\n  const customLinkLabelIcons: UseCustomElementPortalParams[] = [];\n  validChildren.forEach((mi, index) => {\n    if (isCustomMenuItem(mi)) {\n      customMenuItemLabelIcons.push({ component: mi.labelIcon, id: index });\n    }\n    if (isExternalLink(mi)) {\n      customLinkLabelIcons.push({ component: mi.labelIcon, id: index });\n    }\n  });\n\n  const customMenuItemLabelIconsPortals = useCustomElementPortal(customMenuItemLabelIcons);\n  const customLinkLabelIconsPortals = useCustomElementPortal(customLinkLabelIcons);\n\n  validChildren.forEach((mi, index) => {\n    if (isReorderItem(mi, reorderItemsLabels)) {\n      customMenuItems.push({\n        label: mi.label,\n      });\n    }\n    if (isCustomMenuItem(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customMenuItemLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      const menuItem: CustomMenuItem = {\n        label: mi.label,\n        mountIcon,\n        unmountIcon,\n      };\n\n      if ('onClick' in mi) {\n        menuItem.onClick = mi.onClick;\n      } else if ('open' in mi) {\n        menuItem.open = mi.open;\n      }\n      customMenuItems.push(menuItem);\n      customMenuItemsPortals.push(iconPortal);\n    }\n    if (isExternalLink(mi)) {\n      const {\n        portal: iconPortal,\n        mount: mountIcon,\n        unmount: unmountIcon,\n      } = customLinkLabelIconsPortals.find(p => p.id === index) as UseCustomElementPortalReturn;\n      customMenuItems.push({\n        label: mi.label,\n        href: mi.href,\n        mountIcon,\n        unmountIcon,\n      });\n      customMenuItemsPortals.push(iconPortal);\n    }\n  });\n\n  return { customMenuItems, customMenuItemsPortals };\n};\n\nconst isReorderItem = (childProps: any, validItems: string[]): boolean => {\n  const { children, label, onClick, labelIcon } = childProps;\n  return !children && !onClick && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomMenuItem = (childProps: any): childProps is UserButtonActionProps => {\n  const { label, labelIcon, onClick, open } = childProps;\n  return !!labelIcon && !!label && (typeof onClick === 'function' || typeof open === 'string');\n};\n\nconst isExternalLink = (childProps: any): childProps is UserButtonLinkProps => {\n  const { label, href, labelIcon } = childProps;\n  return !!href && !!labelIcon && !!label;\n};\n","import type { SignInProps } from '@clerk/types';\nimport React from 'react';\n\nimport type { SignInButtonProps, WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignInButton = withClerk(({ clerk, children, ...props }: WithClerkProp<SignInButtonProps>) => {\n  const { signUpFallbackRedirectUrl, forceRedirectUrl, fallbackRedirectUrl, signUpForceRedirectUrl, mode, ...rest } =\n    props;\n  children = normalizeWithDefaultValue(children, 'Sign in');\n  const child = assertSingleChild(children)('SignInButton');\n\n  const clickHandler = () => {\n    const opts: SignInProps = {\n      forceRedirectUrl,\n      fallbackRedirectUrl,\n      signUpFallbackRedirectUrl,\n      signUpForceRedirectUrl,\n    };\n\n    if (mode === 'modal') {\n      return clerk.openSignIn(opts);\n    }\n    return clerk.redirectToSignIn({\n      ...opts,\n      signInFallbackRedirectUrl: fallbackRedirectUrl,\n      signInForceRedirectUrl: forceRedirectUrl,\n    });\n  };\n\n  const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n    if (child && typeof child === 'object' && 'props' in child) {\n      await safeExecute(child.props.onClick)(e);\n    }\n    return clickHandler();\n  };\n\n  const childProps = { ...rest, onClick: wrappedChildClickHandler };\n  return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n}, 'SignInButton');\n","import type { SignUpProps } from '@clerk/types';\nimport React from 'react';\n\nimport type { SignUpButtonProps, WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignUpButton = withClerk(({ clerk, children, ...props }: WithClerkProp<SignUpButtonProps>) => {\n  const {\n    fallbackRedirectUrl,\n    forceRedirectUrl,\n    signInFallbackRedirectUrl,\n    signInForceRedirectUrl,\n    mode,\n    unsafeMetadata,\n    ...rest\n  } = props;\n\n  children = normalizeWithDefaultValue(children, 'Sign up');\n  const child = assertSingleChild(children)('SignUpButton');\n\n  const clickHandler = () => {\n    const opts: SignUpProps = {\n      fallbackRedirectUrl,\n      forceRedirectUrl,\n      signInFallbackRedirectUrl,\n      signInForceRedirectUrl,\n      unsafeMetadata,\n    };\n\n    if (mode === 'modal') {\n      return clerk.openSignUp(opts);\n    }\n\n    return clerk.redirectToSignUp({\n      ...opts,\n      signUpFallbackRedirectUrl: fallbackRedirectUrl,\n      signUpForceRedirectUrl: forceRedirectUrl,\n    });\n  };\n\n  const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n    if (child && typeof child === 'object' && 'props' in child) {\n      await safeExecute(child.props.onClick)(e);\n    }\n    return clickHandler();\n  };\n\n  const childProps = { ...rest, onClick: wrappedChildClickHandler };\n  return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n}, 'SignUpButton');\n","import type { SignOutOptions } from '@clerk/types';\nimport React from 'react';\n\nimport type { WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport type SignOutButtonProps = {\n  redirectUrl?: string;\n  signOutOptions?: SignOutOptions;\n  children?: React.ReactNode;\n};\n\nexport const SignOutButton = withClerk(\n  ({ clerk, children, ...props }: React.PropsWithChildren<WithClerkProp<SignOutButtonProps>>) => {\n    const { redirectUrl = '/', signOutOptions, ...rest } = props;\n\n    children = normalizeWithDefaultValue(children, 'Sign out');\n    const child = assertSingleChild(children)('SignOutButton');\n\n    const clickHandler = () => clerk.signOut({ redirectUrl });\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      await safeExecute((child as any).props.onClick)(e);\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  'SignOutButton',\n);\n","import React from 'react';\n\nimport type { SignInWithMetamaskButtonProps, WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignInWithMetamaskButton = withClerk(\n  ({ clerk, children, ...props }: WithClerkProp<SignInWithMetamaskButtonProps>) => {\n    const { redirectUrl, ...rest } = props;\n\n    children = normalizeWithDefaultValue(children, 'Sign in with Metamask');\n    const child = assertSingleChild(children)('SignInWithMetamaskButton');\n\n    // TODO: Properly fix this code\n    // eslint-disable-next-line @typescript-eslint/require-await\n    const clickHandler = async () => {\n      async function authenticate() {\n        await clerk.authenticateWithMetamask({ redirectUrl: redirectUrl || undefined });\n      }\n      void authenticate();\n    };\n\n    const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n      await safeExecute((child as any).props.onClick)(e);\n      return clickHandler();\n    };\n\n    const childProps = { ...rest, onClick: wrappedChildClickHandler };\n    return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n  },\n  'SignInWithMetamask',\n);\n","import { isPublishableKey } from '@clerk/shared/keys';\nimport React from 'react';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleClerkProvidersError } from '../errors/messages';\nimport type { ClerkProviderProps } from '../types';\nimport { withMaxAllowedInstancesGuard } from '../utils';\nimport { ClerkContextProvider } from './ClerkContextProvider';\n\nfunction ClerkProviderBase(props: ClerkProviderProps): JSX.Element {\n  const { initialState, children, ...restIsomorphicClerkOptions } = props;\n  const { publishableKey = '', Clerk: userInitialisedClerk } = restIsomorphicClerkOptions;\n\n  if (!userInitialisedClerk) {\n    if (!publishableKey) {\n      errorThrower.throwMissingPublishableKeyError();\n    } else if (publishableKey && !isPublishableKey(publishableKey)) {\n      errorThrower.throwInvalidPublishableKeyError({ key: publishableKey });\n    }\n  }\n\n  return (\n    <ClerkContextProvider\n      initialState={initialState}\n      isomorphicClerkOptions={restIsomorphicClerkOptions}\n    >\n      {children}\n    </ClerkContextProvider>\n  );\n}\n\nconst ClerkProvider = withMaxAllowedInstancesGuard(ClerkProviderBase, 'ClerkProvider', multipleClerkProvidersError);\n\nClerkProvider.displayName = 'ClerkProvider';\n\nexport { ClerkProvider };\n","import { ClientContext, OrganizationProvider, SessionContext, UserContext } from '@clerk/shared/react';\nimport type { ClientResource, InitialState, Resources } from '@clerk/types';\nimport React from 'react';\n\nimport { IsomorphicClerk } from '../isomorphicClerk';\nimport type { IsomorphicClerkOptions } from '../types';\nimport { deriveState } from '../utils/deriveState';\nimport { AuthContext } from './AuthContext';\nimport { IsomorphicClerkContext } from './IsomorphicClerkContext';\n\ntype ClerkContextProvider = {\n  isomorphicClerkOptions: IsomorphicClerkOptions;\n  initialState: InitialState | undefined;\n  children: React.ReactNode;\n};\n\nexport type ClerkContextProviderState = Resources;\n\nexport function ClerkContextProvider(props: ClerkContextProvider): JSX.Element | null {\n  const { isomorphicClerkOptions, initialState, children } = props;\n  const { isomorphicClerk: clerk, loaded: clerkLoaded } = useLoadedIsomorphicClerk(isomorphicClerkOptions);\n\n  const [state, setState] = React.useState<ClerkContextProviderState>({\n    client: clerk.client as ClientResource,\n    session: clerk.session,\n    user: clerk.user,\n    organization: clerk.organization,\n  });\n\n  React.useEffect(() => {\n    return clerk.addListener(e => setState({ ...e }));\n  }, []);\n\n  const derivedState = deriveState(clerkLoaded, state, initialState);\n  const clerkCtx = React.useMemo(() => ({ value: clerk }), [clerkLoaded]);\n  const clientCtx = React.useMemo(() => ({ value: state.client }), [state.client]);\n\n  const { sessionId, session, userId, user, orgId, actor, organization, orgRole, orgSlug, orgPermissions } =\n    derivedState;\n\n  const authCtx = React.useMemo(() => {\n    const value = { sessionId, userId, actor, orgId, orgRole, orgSlug, orgPermissions };\n    return { value };\n  }, [sessionId, userId, actor, orgId, orgRole, orgSlug]);\n  const userCtx = React.useMemo(() => ({ value: user }), [userId, user]);\n  const sessionCtx = React.useMemo(() => ({ value: session }), [sessionId, session]);\n  const organizationCtx = React.useMemo(() => {\n    const value = {\n      organization: organization,\n    };\n    return { value };\n  }, [orgId, organization]);\n\n  return (\n    // @ts-expect-error value passed is of type IsomorphicClerk where the context expects LoadedClerk\n    <IsomorphicClerkContext.Provider value={clerkCtx}>\n      <ClientContext.Provider value={clientCtx}>\n        <SessionContext.Provider value={sessionCtx}>\n          <OrganizationProvider {...organizationCtx.value}>\n            <AuthContext.Provider value={authCtx}>\n              <UserContext.Provider value={userCtx}>{children}</UserContext.Provider>\n            </AuthContext.Provider>\n          </OrganizationProvider>\n        </SessionContext.Provider>\n      </ClientContext.Provider>\n    </IsomorphicClerkContext.Provider>\n  );\n}\n\nconst useLoadedIsomorphicClerk = (options: IsomorphicClerkOptions) => {\n  const [loaded, setLoaded] = React.useState(false);\n  const isomorphicClerk = React.useMemo(() => IsomorphicClerk.getOrCreateInstance(options), []);\n\n  React.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({ appearance: options.appearance });\n  }, [options.appearance]);\n\n  React.useEffect(() => {\n    void isomorphicClerk.__unstable__updateProps({ options });\n  }, [options.localization]);\n\n  React.useEffect(() => {\n    isomorphicClerk.addOnLoaded(() => setLoaded(true));\n  }, []);\n\n  React.useEffect(() => {\n    return () => {\n      IsomorphicClerk.clearInstance();\n    };\n  }, []);\n\n  return { isomorphicClerk, loaded };\n};\n","import { inBrowser } from '@clerk/shared/browser';\nimport { handleValueOrFn } from '@clerk/shared/handleValueOrFn';\nimport { loadClerkJsScript } from '@clerk/shared/loadClerkJsScript';\nimport type { TelemetryCollector } from '@clerk/shared/telemetry';\nimport type {\n  __experimental_UserVerificationModalProps,\n  __experimental_UserVerificationProps,\n  ActiveSessionResource,\n  AuthenticateWithCoinbaseParams,\n  AuthenticateWithCoinbaseWalletParams,\n  AuthenticateWithGoogleOneTapParams,\n  AuthenticateWithMetamaskParams,\n  Clerk,\n  ClerkAuthenticateWithWeb3Params,\n  ClientResource,\n  CreateOrganizationParams,\n  CreateOrganizationProps,\n  DomainOrProxyUrl,\n  GoogleOneTapProps,\n  HandleEmailLinkVerificationParams,\n  HandleOAuthCallbackParams,\n  InstanceType,\n  ListenerCallback,\n  LoadedClerk,\n  OrganizationListProps,\n  OrganizationProfileProps,\n  OrganizationResource,\n  OrganizationSwitcherProps,\n  RedirectOptions,\n  SDKMetadata,\n  SetActiveParams,\n  SignInProps,\n  SignInRedirectOptions,\n  SignInResource,\n  SignOut,\n  SignOutCallback,\n  SignOutOptions,\n  SignUpProps,\n  SignUpRedirectOptions,\n  SignUpResource,\n  UnsubscribeCallback,\n  UserButtonProps,\n  UserProfileProps,\n  UserResource,\n  Without,\n} from '@clerk/types';\n\nimport { errorThrower } from './errors/errorThrower';\nimport { unsupportedNonBrowserDomainOrProxyUrlFunction } from './errors/messages';\nimport type {\n  BrowserClerk,\n  BrowserClerkConstructor,\n  ClerkProp,\n  HeadlessBrowserClerk,\n  HeadlessBrowserClerkConstructor,\n  IsomorphicClerkOptions,\n} from './types';\nimport { isConstructor } from './utils';\n\nconst SDK_METADATA = {\n  name: PACKAGE_NAME,\n  version: PACKAGE_VERSION,\n  environment: process.env.NODE_ENV,\n};\n\nexport interface Global {\n  Clerk?: HeadlessBrowserClerk | BrowserClerk;\n}\n\ndeclare const global: Global;\n\ntype GenericFunction<TArgs = never> = (...args: TArgs[]) => unknown;\n\ntype MethodName<T> = {\n  [P in keyof T]: T[P] extends GenericFunction ? P : never;\n}[keyof T];\n\ntype MethodCallback = () => Promise<unknown> | unknown;\n\ntype IsomorphicLoadedClerk = Without<\n  LoadedClerk,\n  /**\n   * Override ClerkJS methods in order to support premountMethodCalls\n   */\n  | 'buildSignInUrl'\n  | 'buildSignUpUrl'\n  | 'buildUserProfileUrl'\n  | 'buildCreateOrganizationUrl'\n  | 'buildOrganizationProfileUrl'\n  | 'buildAfterSignUpUrl'\n  | 'buildAfterSignInUrl'\n  | 'buildAfterSignOutUrl'\n  | 'buildAfterMultiSessionSingleSignOutUrl'\n  | 'buildUrlWithAuth'\n  | 'handleRedirectCallback'\n  | 'handleGoogleOneTapCallback'\n  | 'handleUnauthenticated'\n  | 'authenticateWithMetamask'\n  | 'authenticateWithCoinbase'\n  | 'authenticateWithCoinbaseWallet'\n  | 'authenticateWithWeb3'\n  | 'authenticateWithGoogleOneTap'\n  | 'createOrganization'\n  | 'getOrganization'\n  | 'mountUserButton'\n  | 'mountOrganizationList'\n  | 'mountOrganizationSwitcher'\n  | 'mountOrganizationProfile'\n  | 'mountCreateOrganization'\n  | 'mountSignUp'\n  | 'mountSignIn'\n  | 'mountUserProfile'\n  | '__experimental_mountUserVerification'\n  | 'client'\n> & {\n  // TODO: Align return type and parms\n  handleRedirectCallback: (params: HandleOAuthCallbackParams) => void;\n  handleGoogleOneTapCallback: (signInOrUp: SignInResource | SignUpResource, params: HandleOAuthCallbackParams) => void;\n  handleUnauthenticated: () => void;\n  // TODO: Align Promise unknown\n  authenticateWithMetamask: (params: AuthenticateWithMetamaskParams) => Promise<void>;\n  authenticateWithCoinbase: (params: AuthenticateWithCoinbaseParams) => Promise<void>;\n  authenticateWithCoinbaseWallet: (params: AuthenticateWithCoinbaseWalletParams) => Promise<void>;\n  authenticateWithWeb3: (params: ClerkAuthenticateWithWeb3Params) => Promise<void>;\n  authenticateWithGoogleOneTap: (\n    params: AuthenticateWithGoogleOneTapParams,\n  ) => Promise<SignInResource | SignUpResource>;\n  // TODO: Align return type (maybe not possible or correct)\n  createOrganization: (params: CreateOrganizationParams) => Promise<OrganizationResource | void>;\n  // TODO: Align return type (maybe not possible or correct)\n  getOrganization: (organizationId: string) => Promise<OrganizationResource | void>;\n\n  // TODO: Align return type\n  buildSignInUrl: (opts?: RedirectOptions) => string | void;\n  // TODO: Align return type\n  buildSignUpUrl: (opts?: RedirectOptions) => string | void;\n  // TODO: Align return type\n  buildUserProfileUrl: () => string | void;\n  // TODO: Align return type\n  buildCreateOrganizationUrl: () => string | void;\n  // TODO: Align return type\n  buildOrganizationProfileUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignInUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignUpUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterSignOutUrl: () => string | void;\n  // TODO: Align return type\n  buildAfterMultiSessionSingleSignOutUrl: () => string | void;\n  // TODO: Align optional props\n  mountUserButton: (node: HTMLDivElement, props: UserButtonProps) => void;\n  mountOrganizationList: (node: HTMLDivElement, props: OrganizationListProps) => void;\n  mountOrganizationSwitcher: (node: HTMLDivElement, props: OrganizationSwitcherProps) => void;\n  mountOrganizationProfile: (node: HTMLDivElement, props: OrganizationProfileProps) => void;\n  mountCreateOrganization: (node: HTMLDivElement, props: CreateOrganizationProps) => void;\n  mountSignUp: (node: HTMLDivElement, props: SignUpProps) => void;\n  mountSignIn: (node: HTMLDivElement, props: SignInProps) => void;\n  mountUserProfile: (node: HTMLDivElement, props: UserProfileProps) => void;\n  __experimental_mountUserVerification: (node: HTMLDivElement, props: __experimental_UserVerificationProps) => void;\n  client: ClientResource | undefined;\n};\n\nexport class IsomorphicClerk implements IsomorphicLoadedClerk {\n  private readonly mode: 'browser' | 'server';\n  private readonly options: IsomorphicClerkOptions;\n  private readonly Clerk: ClerkProp;\n  private clerkjs: BrowserClerk | HeadlessBrowserClerk | null = null;\n  private preopenOneTap?: null | GoogleOneTapProps = null;\n  private preopenUserVerification?: null | __experimental_UserVerificationProps = null;\n  private preopenSignIn?: null | SignInProps = null;\n  private preopenSignUp?: null | SignUpProps = null;\n  private preopenUserProfile?: null | UserProfileProps = null;\n  private preopenOrganizationProfile?: null | OrganizationProfileProps = null;\n  private preopenCreateOrganization?: null | CreateOrganizationProps = null;\n  private premountSignInNodes = new Map<HTMLDivElement, SignInProps>();\n  private premountSignUpNodes = new Map<HTMLDivElement, SignUpProps>();\n  private premountUserProfileNodes = new Map<HTMLDivElement, UserProfileProps>();\n  private premountUserButtonNodes = new Map<HTMLDivElement, UserButtonProps>();\n  private premountOrganizationProfileNodes = new Map<HTMLDivElement, OrganizationProfileProps>();\n  private premountCreateOrganizationNodes = new Map<HTMLDivElement, CreateOrganizationProps>();\n  private premountOrganizationSwitcherNodes = new Map<HTMLDivElement, OrganizationSwitcherProps>();\n  private premountOrganizationListNodes = new Map<HTMLDivElement, OrganizationListProps>();\n  private premountUserVerificationNodes = new Map<HTMLDivElement, __experimental_UserVerificationProps>();\n  private premountMethodCalls = new Map<MethodName<BrowserClerk>, MethodCallback>();\n  // A separate Map of `addListener` method calls to handle multiple listeners.\n  private premountAddListenerCalls = new Map<\n    ListenerCallback,\n    {\n      unsubscribe: UnsubscribeCallback;\n      nativeUnsubscribe?: UnsubscribeCallback;\n    }\n  >();\n  private loadedListeners: Array<() => void> = [];\n\n  #loaded = false;\n  #domain: DomainOrProxyUrl['domain'];\n  #proxyUrl: DomainOrProxyUrl['proxyUrl'];\n  #publishableKey: string;\n\n  get publishableKey(): string {\n    return this.#publishableKey;\n  }\n\n  get loaded(): boolean {\n    return this.#loaded;\n  }\n\n  static #instance: IsomorphicClerk | null | undefined;\n\n  static getOrCreateInstance(options: IsomorphicClerkOptions) {\n    // During SSR: a new instance should be created for every request\n    // During CSR: use the cached instance for the whole lifetime of the app\n    // Also will recreate the instance if the provided Clerk instance changes\n    // This method should be idempotent in both scenarios\n    if (!inBrowser() || !this.#instance || (options.Clerk && this.#instance.Clerk !== options.Clerk)) {\n      this.#instance = new IsomorphicClerk(options);\n    }\n    return this.#instance;\n  }\n\n  static clearInstance() {\n    this.#instance = null;\n  }\n\n  get domain(): string {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use domain as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.#domain, new URL(window.location.href), '');\n    }\n    if (typeof this.#domain === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return this.#domain || '';\n  }\n\n  get proxyUrl(): string {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use proxy as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.#proxyUrl, new URL(window.location.href), '');\n    }\n    if (typeof this.#proxyUrl === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return this.#proxyUrl || '';\n  }\n\n  constructor(options: IsomorphicClerkOptions) {\n    const { Clerk = null, publishableKey } = options || {};\n    this.#publishableKey = publishableKey;\n    this.#proxyUrl = options?.proxyUrl;\n    this.#domain = options?.domain;\n    this.options = options;\n    this.Clerk = Clerk;\n    this.mode = inBrowser() ? 'browser' : 'server';\n\n    if (!this.options.sdkMetadata) {\n      this.options.sdkMetadata = SDK_METADATA;\n    }\n\n    void this.loadClerkJS();\n  }\n\n  get sdkMetadata(): SDKMetadata | undefined {\n    return this.clerkjs?.sdkMetadata || this.options.sdkMetadata || undefined;\n  }\n\n  get instanceType(): InstanceType | undefined {\n    return this.clerkjs?.instanceType;\n  }\n\n  get frontendApi(): string {\n    return this.clerkjs?.frontendApi || '';\n  }\n\n  get isStandardBrowser(): boolean {\n    return this.clerkjs?.isStandardBrowser || this.options.standardBrowser || false;\n  }\n\n  get isSatellite(): boolean {\n    // This getter can run in environments where window is not available.\n    // In those cases we should expect and use domain as a string\n    if (typeof window !== 'undefined' && window.location) {\n      return handleValueOrFn(this.options.isSatellite, new URL(window.location.href), false);\n    }\n    if (typeof this.options.isSatellite === 'function') {\n      return errorThrower.throw(unsupportedNonBrowserDomainOrProxyUrlFunction);\n    }\n    return false;\n  }\n\n  buildSignInUrl = (opts?: RedirectOptions): string | void => {\n    const callback = () => this.clerkjs?.buildSignInUrl(opts) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildSignInUrl', callback);\n    }\n  };\n\n  buildSignUpUrl = (opts?: RedirectOptions): string | void => {\n    const callback = () => this.clerkjs?.buildSignUpUrl(opts) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildSignUpUrl', callback);\n    }\n  };\n\n  buildAfterSignInUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignInUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignInUrl', callback);\n    }\n  };\n\n  buildAfterSignUpUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignUpUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignUpUrl', callback);\n    }\n  };\n\n  buildAfterSignOutUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterSignOutUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterSignOutUrl', callback);\n    }\n  };\n\n  buildAfterMultiSessionSingleSignOutUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildAfterMultiSessionSingleSignOutUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildAfterMultiSessionSingleSignOutUrl', callback);\n    }\n  };\n\n  buildUserProfileUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildUserProfileUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildUserProfileUrl', callback);\n    }\n  };\n\n  buildCreateOrganizationUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildCreateOrganizationUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildCreateOrganizationUrl', callback);\n    }\n  };\n\n  buildOrganizationProfileUrl = (): string | void => {\n    const callback = () => this.clerkjs?.buildOrganizationProfileUrl() || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildOrganizationProfileUrl', callback);\n    }\n  };\n\n  buildUrlWithAuth = (to: string): string | void => {\n    const callback = () => this.clerkjs?.buildUrlWithAuth(to) || '';\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('buildUrlWithAuth', callback);\n    }\n  };\n\n  handleUnauthenticated = (): void => {\n    const callback = () => this.clerkjs?.handleUnauthenticated();\n    if (this.clerkjs && this.#loaded) {\n      void callback();\n    } else {\n      this.premountMethodCalls.set('handleUnauthenticated', callback);\n    }\n  };\n\n  #waitForClerkJS(): Promise<HeadlessBrowserClerk | BrowserClerk> {\n    return new Promise<HeadlessBrowserClerk | BrowserClerk>(resolve => {\n      this.addOnLoaded(() => resolve(this.clerkjs!));\n    });\n  }\n\n  async loadClerkJS(): Promise<HeadlessBrowserClerk | BrowserClerk | undefined> {\n    if (this.mode !== 'browser' || this.#loaded) {\n      return;\n    }\n\n    // Store frontendAPI value on window as a fallback. This value can be used as a\n    // fallback during ClerkJS hot loading in case ClerkJS fails to find the\n    // \"data-clerk-frontend-api\" attribute on its script tag.\n\n    // This can happen when the DOM is altered completely during client rehydration.\n    // For example, in Remix with React 18 the document changes completely via `hydrateRoot(document)`.\n\n    // For more information refer to:\n    // - https://github.com/remix-run/remix/issues/2947\n    // - https://github.com/facebook/react/issues/24430\n    if (typeof window !== 'undefined') {\n      window.__clerk_publishable_key = this.#publishableKey;\n      window.__clerk_proxy_url = this.proxyUrl;\n      window.__clerk_domain = this.domain;\n    }\n\n    try {\n      if (this.Clerk) {\n        // Set a fixed Clerk version\n        let c: ClerkProp;\n\n        if (isConstructor<BrowserClerkConstructor | HeadlessBrowserClerkConstructor>(this.Clerk)) {\n          // Construct a new Clerk object if a constructor is passed\n          c = new this.Clerk(this.#publishableKey, {\n            proxyUrl: this.proxyUrl,\n            domain: this.domain,\n          } as any);\n\n          await c.load(this.options);\n        } else {\n          // Otherwise use the instantiated Clerk object\n          c = this.Clerk;\n\n          if (!c.loaded) {\n            await c.load(this.options);\n          }\n        }\n\n        global.Clerk = c;\n      } else {\n        // Hot-load latest ClerkJS from Clerk CDN\n        if (!global.Clerk) {\n          await loadClerkJsScript({\n            ...this.options,\n            publishableKey: this.#publishableKey,\n            proxyUrl: this.proxyUrl,\n            domain: this.domain,\n            nonce: this.options.nonce,\n          });\n        }\n\n        if (!global.Clerk) {\n          throw new Error('Failed to download latest ClerkJS. Contact support@clerk.com.');\n        }\n\n        await global.Clerk.load(this.options);\n      }\n\n      if (global.Clerk?.loaded) {\n        return this.hydrateClerkJS(global.Clerk);\n      }\n      return;\n    } catch (err) {\n      const error = err as Error;\n      // In Next.js we can throw a full screen error in development mode.\n      // However, in production throwing an error results in an infinite loop.\n      // More info at: https://github.com/vercel/next.js/issues/6973\n      if (process.env.NODE_ENV === 'production') {\n        console.error(error.stack || error.message || error);\n      } else {\n        throw err;\n      }\n      return;\n    }\n  }\n\n  public addOnLoaded = (cb: () => void) => {\n    this.loadedListeners.push(cb);\n    /**\n     * When IsomorphicClerk is loaded execute the callback directly\n     */\n    if (this.loaded) {\n      this.emitLoaded();\n    }\n  };\n\n  public emitLoaded = () => {\n    this.loadedListeners.forEach(cb => cb());\n    this.loadedListeners = [];\n  };\n\n  private hydrateClerkJS = (clerkjs: BrowserClerk | HeadlessBrowserClerk | undefined) => {\n    if (!clerkjs) {\n      throw new Error('Failed to hydrate latest Clerk JS');\n    }\n\n    this.clerkjs = clerkjs;\n\n    this.premountMethodCalls.forEach(cb => cb());\n    this.premountAddListenerCalls.forEach((listenerHandlers, listener) => {\n      listenerHandlers.nativeUnsubscribe = clerkjs.addListener(listener);\n    });\n\n    if (this.preopenSignIn !== null) {\n      clerkjs.openSignIn(this.preopenSignIn);\n    }\n\n    if (this.preopenSignUp !== null) {\n      clerkjs.openSignUp(this.preopenSignUp);\n    }\n\n    if (this.preopenUserProfile !== null) {\n      clerkjs.openUserProfile(this.preopenUserProfile);\n    }\n\n    if (this.preopenUserVerification !== null) {\n      clerkjs.__experimental_openUserVerification(this.preopenUserVerification);\n    }\n\n    if (this.preopenOneTap !== null) {\n      clerkjs.openGoogleOneTap(this.preopenOneTap);\n    }\n\n    if (this.preopenOrganizationProfile !== null) {\n      clerkjs.openOrganizationProfile(this.preopenOrganizationProfile);\n    }\n\n    if (this.preopenCreateOrganization !== null) {\n      clerkjs.openCreateOrganization(this.preopenCreateOrganization);\n    }\n\n    this.premountSignInNodes.forEach((props: SignInProps, node: HTMLDivElement) => {\n      clerkjs.mountSignIn(node, props);\n    });\n\n    this.premountSignUpNodes.forEach((props: SignUpProps, node: HTMLDivElement) => {\n      clerkjs.mountSignUp(node, props);\n    });\n\n    this.premountUserProfileNodes.forEach((props: UserProfileProps, node: HTMLDivElement) => {\n      clerkjs.mountUserProfile(node, props);\n    });\n\n    this.premountUserVerificationNodes.forEach((props: __experimental_UserVerificationProps, node: HTMLDivElement) => {\n      clerkjs.__experimental_mountUserVerification(node, props);\n    });\n\n    this.premountUserButtonNodes.forEach((props: UserButtonProps, node: HTMLDivElement) => {\n      clerkjs.mountUserButton(node, props);\n    });\n\n    this.premountOrganizationListNodes.forEach((props: OrganizationListProps, node: HTMLDivElement) => {\n      clerkjs.mountOrganizationList(node, props);\n    });\n\n    this.#loaded = true;\n    this.emitLoaded();\n    return this.clerkjs;\n  };\n\n  get version(): string | undefined {\n    return this.clerkjs?.version;\n  }\n\n  get client(): ClientResource | undefined {\n    if (this.clerkjs) {\n      return this.clerkjs.client;\n      // TODO: add ssr condition\n    } else {\n      return undefined;\n    }\n  }\n\n  get session(): ActiveSessionResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.session;\n    } else {\n      return undefined;\n    }\n  }\n\n  get user(): UserResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.user;\n    } else {\n      return undefined;\n    }\n  }\n\n  get organization(): OrganizationResource | undefined | null {\n    if (this.clerkjs) {\n      return this.clerkjs.organization;\n    } else {\n      return undefined;\n    }\n  }\n\n  get telemetry(): TelemetryCollector | undefined {\n    if (this.clerkjs) {\n      // @ts-expect-error -- We can't add the type here due to the TelemetryCollector type existing in shared, but the Clerk type existing in types\n      return this.clerkjs.telemetry;\n    } else {\n      return undefined;\n    }\n  }\n\n  get __unstable__environment(): any {\n    if (this.clerkjs) {\n      return (this.clerkjs as any).__unstable__environment;\n      // TODO: add ssr condition\n    } else {\n      return undefined;\n    }\n  }\n\n  __unstable__setEnvironment(...args: any): void {\n    if (this.clerkjs && '__unstable__setEnvironment' in this.clerkjs) {\n      (this.clerkjs as any).__unstable__setEnvironment(args);\n    } else {\n      return undefined;\n    }\n  }\n\n  __unstable__updateProps = async (props: any): Promise<void> => {\n    const clerkjs = await this.#waitForClerkJS();\n    // Handle case where accounts has clerk-react@4 installed, but clerk-js@3 is manually loaded\n    if (clerkjs && '__unstable__updateProps' in clerkjs) {\n      return (clerkjs as any).__unstable__updateProps(props);\n    }\n  };\n\n  /**\n   * `setActive` can be used to set the active session and/or organization.\n   */\n  setActive = ({ session, organization, beforeEmit }: SetActiveParams): Promise<void> => {\n    if (this.clerkjs) {\n      return this.clerkjs.setActive({ session, organization, beforeEmit });\n    } else {\n      return Promise.reject();\n    }\n  };\n\n  openSignIn = (props?: SignInProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openSignIn(props);\n    } else {\n      this.preopenSignIn = props;\n    }\n  };\n\n  closeSignIn = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeSignIn();\n    } else {\n      this.preopenSignIn = null;\n    }\n  };\n\n  __experimental_openUserVerification = (props?: __experimental_UserVerificationModalProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__experimental_openUserVerification(props);\n    } else {\n      this.preopenUserVerification = props;\n    }\n  };\n\n  __experimental_closeUserVerification = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__experimental_closeUserVerification();\n    } else {\n      this.preopenUserVerification = null;\n    }\n  };\n\n  openGoogleOneTap = (props?: GoogleOneTapProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openGoogleOneTap(props);\n    } else {\n      this.preopenOneTap = props;\n    }\n  };\n\n  closeGoogleOneTap = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeGoogleOneTap();\n    } else {\n      this.preopenOneTap = null;\n    }\n  };\n\n  openUserProfile = (props?: UserProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openUserProfile(props);\n    } else {\n      this.preopenUserProfile = props;\n    }\n  };\n\n  closeUserProfile = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeUserProfile();\n    } else {\n      this.preopenUserProfile = null;\n    }\n  };\n\n  openOrganizationProfile = (props?: OrganizationProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openOrganizationProfile(props);\n    } else {\n      this.preopenOrganizationProfile = props;\n    }\n  };\n\n  closeOrganizationProfile = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeOrganizationProfile();\n    } else {\n      this.preopenOrganizationProfile = null;\n    }\n  };\n\n  openCreateOrganization = (props?: CreateOrganizationProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openCreateOrganization(props);\n    } else {\n      this.preopenCreateOrganization = props;\n    }\n  };\n\n  closeCreateOrganization = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeCreateOrganization();\n    } else {\n      this.preopenCreateOrganization = null;\n    }\n  };\n\n  openSignUp = (props?: SignUpProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.openSignUp(props);\n    } else {\n      this.preopenSignUp = props;\n    }\n  };\n\n  closeSignUp = (): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.closeSignUp();\n    } else {\n      this.preopenSignUp = null;\n    }\n  };\n\n  mountSignIn = (node: HTMLDivElement, props: SignInProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountSignIn(node, props);\n    } else {\n      this.premountSignInNodes.set(node, props);\n    }\n  };\n\n  unmountSignIn = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountSignIn(node);\n    } else {\n      this.premountSignInNodes.delete(node);\n    }\n  };\n\n  __experimental_mountUserVerification = (node: HTMLDivElement, props: __experimental_UserVerificationProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__experimental_mountUserVerification(node, props);\n    } else {\n      this.premountUserVerificationNodes.set(node, props);\n    }\n  };\n\n  __experimental_unmountUserVerification = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.__experimental_unmountUserVerification(node);\n    } else {\n      this.premountUserVerificationNodes.delete(node);\n    }\n  };\n\n  mountSignUp = (node: HTMLDivElement, props: SignUpProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountSignUp(node, props);\n    } else {\n      this.premountSignUpNodes.set(node, props);\n    }\n  };\n\n  unmountSignUp = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountSignUp(node);\n    } else {\n      this.premountSignUpNodes.delete(node);\n    }\n  };\n\n  mountUserProfile = (node: HTMLDivElement, props: UserProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountUserProfile(node, props);\n    } else {\n      this.premountUserProfileNodes.set(node, props);\n    }\n  };\n\n  unmountUserProfile = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountUserProfile(node);\n    } else {\n      this.premountUserProfileNodes.delete(node);\n    }\n  };\n\n  mountOrganizationProfile = (node: HTMLDivElement, props: OrganizationProfileProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationProfile(node, props);\n    } else {\n      this.premountOrganizationProfileNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationProfile = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationProfile(node);\n    } else {\n      this.premountOrganizationProfileNodes.delete(node);\n    }\n  };\n\n  mountCreateOrganization = (node: HTMLDivElement, props: CreateOrganizationProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountCreateOrganization(node, props);\n    } else {\n      this.premountCreateOrganizationNodes.set(node, props);\n    }\n  };\n\n  unmountCreateOrganization = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountCreateOrganization(node);\n    } else {\n      this.premountCreateOrganizationNodes.delete(node);\n    }\n  };\n\n  mountOrganizationSwitcher = (node: HTMLDivElement, props: OrganizationSwitcherProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationSwitcher(node, props);\n    } else {\n      this.premountOrganizationSwitcherNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationSwitcher = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationSwitcher(node);\n    } else {\n      this.premountOrganizationSwitcherNodes.delete(node);\n    }\n  };\n\n  mountOrganizationList = (node: HTMLDivElement, props: OrganizationListProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountOrganizationList(node, props);\n    } else {\n      this.premountOrganizationListNodes.set(node, props);\n    }\n  };\n\n  unmountOrganizationList = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountOrganizationList(node);\n    } else {\n      this.premountOrganizationListNodes.delete(node);\n    }\n  };\n\n  mountUserButton = (node: HTMLDivElement, userButtonProps: UserButtonProps): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.mountUserButton(node, userButtonProps);\n    } else {\n      this.premountUserButtonNodes.set(node, userButtonProps);\n    }\n  };\n\n  unmountUserButton = (node: HTMLDivElement): void => {\n    if (this.clerkjs && this.#loaded) {\n      this.clerkjs.unmountUserButton(node);\n    } else {\n      this.premountUserButtonNodes.delete(node);\n    }\n  };\n\n  addListener = (listener: ListenerCallback): UnsubscribeCallback => {\n    if (this.clerkjs) {\n      return this.clerkjs.addListener(listener);\n    } else {\n      const unsubscribe = () => {\n        const listenerHandlers = this.premountAddListenerCalls.get(listener);\n        if (listenerHandlers) {\n          listenerHandlers.nativeUnsubscribe?.();\n          this.premountAddListenerCalls.delete(listener);\n        }\n      };\n      this.premountAddListenerCalls.set(listener, { unsubscribe, nativeUnsubscribe: undefined });\n      return unsubscribe;\n    }\n  };\n\n  navigate = (to: string): void => {\n    const callback = () => this.clerkjs?.navigate(to);\n    if (this.clerkjs && this.#loaded) {\n      void callback();\n    } else {\n      this.premountMethodCalls.set('navigate', callback);\n    }\n  };\n\n  redirectWithAuth = async (...args: Parameters<Clerk['redirectWithAuth']>): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectWithAuth(...args);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectWithAuth', callback);\n      return;\n    }\n  };\n\n  redirectToSignIn = async (opts: SignInRedirectOptions): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToSignIn(opts as any);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToSignIn', callback);\n      return;\n    }\n  };\n\n  redirectToSignUp = async (opts: SignUpRedirectOptions): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToSignUp(opts as any);\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToSignUp', callback);\n      return;\n    }\n  };\n\n  redirectToUserProfile = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToUserProfile();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToUserProfile', callback);\n      return;\n    }\n  };\n\n  redirectToAfterSignUp = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignUp();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignUp', callback);\n    }\n  };\n\n  redirectToAfterSignIn = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignIn();\n    if (this.clerkjs && this.#loaded) {\n      callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignIn', callback);\n    }\n  };\n\n  redirectToAfterSignOut = (): void => {\n    const callback = () => this.clerkjs?.redirectToAfterSignOut();\n    if (this.clerkjs && this.#loaded) {\n      callback();\n    } else {\n      this.premountMethodCalls.set('redirectToAfterSignOut', callback);\n    }\n  };\n\n  redirectToOrganizationProfile = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToOrganizationProfile();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToOrganizationProfile', callback);\n      return;\n    }\n  };\n\n  redirectToCreateOrganization = async (): Promise<unknown> => {\n    const callback = () => this.clerkjs?.redirectToCreateOrganization();\n    if (this.clerkjs && this.#loaded) {\n      return callback();\n    } else {\n      this.premountMethodCalls.set('redirectToCreateOrganization', callback);\n      return;\n    }\n  };\n\n  handleRedirectCallback = (params: HandleOAuthCallbackParams): void => {\n    const callback = () => this.clerkjs?.handleRedirectCallback(params);\n    if (this.clerkjs && this.#loaded) {\n      void callback()?.catch(() => {\n        // This error is caused when the host app is using React18\n        // and strictMode is enabled. This useEffects runs twice because\n        // the clerk-react ui components mounts, unmounts and mounts again\n        // so the clerk-js component loses its state because of the custom\n        // unmount callback we're using.\n        // This needs to be solved by tweaking the logic in uiComponents.tsx\n        // or by making handleRedirectCallback idempotent\n      });\n    } else {\n      this.premountMethodCalls.set('handleRedirectCallback', callback);\n    }\n  };\n\n  handleGoogleOneTapCallback = (\n    signInOrUp: SignInResource | SignUpResource,\n    params: HandleOAuthCallbackParams,\n  ): void => {\n    const callback = () => this.clerkjs?.handleGoogleOneTapCallback(signInOrUp, params);\n    if (this.clerkjs && this.#loaded) {\n      void callback()?.catch(() => {\n        // This error is caused when the host app is using React18\n        // and strictMode is enabled. This useEffects runs twice because\n        // the clerk-react ui components mounts, unmounts and mounts again\n        // so the clerk-js component loses its state because of the custom\n        // unmount callback we're using.\n        // This needs to be solved by tweaking the logic in uiComponents.tsx\n        // or by making handleRedirectCallback idempotent\n      });\n    } else {\n      this.premountMethodCalls.set('handleGoogleOneTapCallback', callback);\n    }\n  };\n\n  handleEmailLinkVerification = async (params: HandleEmailLinkVerificationParams): Promise<void> => {\n    const callback = () => this.clerkjs?.handleEmailLinkVerification(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('handleEmailLinkVerification', callback);\n    }\n  };\n\n  authenticateWithMetamask = async (params: AuthenticateWithMetamaskParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithMetamask(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithMetamask', callback);\n    }\n  };\n\n  authenticateWithCoinbase = async (params: AuthenticateWithCoinbaseParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithCoinbase(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithCoinbase', callback);\n    }\n  };\n\n  authenticateWithCoinbaseWallet = async (params: AuthenticateWithCoinbaseWalletParams): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithCoinbaseWallet(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithCoinbaseWallet', callback);\n    }\n  };\n\n  authenticateWithWeb3 = async (params: ClerkAuthenticateWithWeb3Params): Promise<void> => {\n    const callback = () => this.clerkjs?.authenticateWithWeb3(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('authenticateWithWeb3', callback);\n    }\n  };\n\n  authenticateWithGoogleOneTap = async (\n    params: AuthenticateWithGoogleOneTapParams,\n  ): Promise<SignInResource | SignUpResource> => {\n    const clerkjs = await this.#waitForClerkJS();\n    return clerkjs.authenticateWithGoogleOneTap(params);\n  };\n\n  createOrganization = async (params: CreateOrganizationParams): Promise<OrganizationResource | void> => {\n    const callback = () => this.clerkjs?.createOrganization(params);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<OrganizationResource>;\n    } else {\n      this.premountMethodCalls.set('createOrganization', callback);\n    }\n  };\n\n  getOrganization = async (organizationId: string): Promise<OrganizationResource | void> => {\n    const callback = () => this.clerkjs?.getOrganization(organizationId);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<OrganizationResource>;\n    } else {\n      this.premountMethodCalls.set('getOrganization', callback);\n    }\n  };\n\n  signOut: SignOut = async (\n    signOutCallbackOrOptions?: SignOutCallback | SignOutOptions,\n    options?: SignOutOptions,\n  ): Promise<void> => {\n    const callback = () => this.clerkjs?.signOut(signOutCallbackOrOptions as any, options);\n    if (this.clerkjs && this.#loaded) {\n      return callback() as Promise<void>;\n    } else {\n      this.premountMethodCalls.set('signOut', callback);\n    }\n  };\n}\n","import type {\n  ActiveSessionResource,\n  InitialState,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  OrganizationResource,\n  Resources,\n  UserResource,\n} from '@clerk/types';\n\nexport const deriveState = (clerkLoaded: boolean, state: Resources, initialState: InitialState | undefined) => {\n  if (!clerkLoaded && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\n\nconst deriveFromSsrInitialState = (initialState: InitialState) => {\n  const userId = initialState.userId;\n  const user = initialState.user as UserResource;\n  const sessionId = initialState.sessionId;\n  const session = initialState.session as ActiveSessionResource;\n  const organization = initialState.organization as OrganizationResource;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole as OrganizationCustomRoleKey;\n  const orgPermissions = initialState.orgPermissions as OrganizationCustomPermissionKey[];\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor,\n  };\n};\n\nconst deriveFromClientSideState = (state: Resources) => {\n  const userId: string | null | undefined = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId: string | null | undefined = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const actor = session?.actor;\n  const organization = state.organization;\n  const orgId: string | null | undefined = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization?.slug;\n  const membership = organization\n    ? user?.organizationMemberships?.find(om => om.organization.id === orgId)\n    : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor,\n  };\n};\n"],"mappings":";;;;AAMA,IAAI,OAAOA,MAAA,KAAW,eAAe,CAACA,MAAA,CAAOC,MAAA,EAAQ;EACnDD,MAAA,CAAOC,MAAA,GAAS,OAAOA,MAAA,KAAW,cAAcD,MAAA,GAASC,MAAA;AAC3D;;;ACNA,SAASC,iCAAA,QAAyC;;;ACFlD,SAASC,iBAAA,IAAAC,kBAAA,EAAmBC,OAAA,QAAe;AAC3C,SAASC,aAAA,QAAqB;AAe9B,OAAOC,MAAA,IAASC,aAAA,QAAqB;;;AChBrC,OAAOC,KAAA,MAAW;AAKX,IAAMC,iBAAA,GACVC,QAAA,IACAC,IAAA,IAAyF;EACxF,IAAI;IACF,OAAOH,KAAA,CAAMI,QAAA,CAASC,IAAA,CAAKH,QAAQ;EACrC,SAASI,CAAA,EAAG;IACV,OAAOC,YAAA,CAAaC,KAAA,CAAMC,iCAAA,CAAkCN,IAAI,CAAC;EACnE;AACF;AAEK,IAAMO,yBAAA,GAA4BA,CAACR,QAAA,EAAuCS,WAAA,KAAwB;EACvG,IAAI,CAACT,QAAA,EAAU;IACbA,QAAA,GAAWS,WAAA;EACb;EACA,IAAI,OAAOT,QAAA,KAAa,UAAU;IAChCA,QAAA,GAAW,eAAAF,KAAA,CAAAD,aAAA,CAAC,gBAAQG,QAAS;EAC/B;EACA,OAAOA,QAAA;AACT;AAEO,IAAMU,WAAA,GACVC,EAAA,IACD,YAAkB;EAChB,IAAIA,EAAA,IAAM,OAAOA,EAAA,KAAO,YAAY;IAClC,OAAOA,EAAA,CAAG,GAAAC,SAAO;EACnB;AACF;;;AC/BK,SAASC,cAAiBC,CAAA,EAAgB;EAC/C,OAAO,OAAOA,CAAA,KAAM;AACtB;;;ACFA,OAAOC,MAAA,MAAW;AAIlB,IAAMC,MAAA,GAAS,mBAAIC,GAAA,CAAoB;AAEhC,SAASC,4BAA4BjB,IAAA,EAAckB,KAAA,EAAmC;EAAA,IAApBC,QAAA,GAAAR,SAAA,CAAAS,MAAA,QAAAT,SAAA,QAAAU,SAAA,GAAAV,SAAA,MAAW;EAClFG,MAAA,CAAMQ,SAAA,CAAU,MAAM;IACpB,MAAMC,KAAA,GAAQR,MAAA,CAAOS,GAAA,CAAIxB,IAAI,KAAK;IAClC,IAAIuB,KAAA,IAASJ,QAAA,EAAU;MACrB,OAAOf,YAAA,CAAaC,KAAA,CAAMa,KAAK;IACjC;IACAH,MAAA,CAAOU,GAAA,CAAIzB,IAAA,EAAMuB,KAAA,GAAQ,CAAC;IAE1B,OAAO,MAAM;MACXR,MAAA,CAAOU,GAAA,CAAIzB,IAAA,GAAOe,MAAA,CAAOS,GAAA,CAAIxB,IAAI,KAAK,KAAK,CAAC;IAC9C;EACF,GAAG,EAAE;AACP;AAEO,SAAS0B,6BACdC,gBAAA,EACA3B,IAAA,EACAkB,KAAA,EACwB;EACxB,MAAMU,WAAA,GAAcD,gBAAA,CAAiBC,WAAA,IAAeD,gBAAA,CAAiB3B,IAAA,IAAQA,IAAA,IAAQ;EACrF,MAAM6B,GAAA,GAAOC,KAAA,IAAa;IACxBb,2BAAA,CAA4BjB,IAAA,EAAMkB,KAAK;IACvC,OAAO,eAAAJ,MAAA,CAAAlB,aAAA,CAAC+B,gBAAA;MAAkB,GAAIG;IAAA,CAAe;EAC/C;EACAD,GAAA,CAAID,WAAA,GAAc,gCAAgCA,WAAW;EAC7D,OAAOC,GAAA;AACT;;;AChCA,OAAOE,MAAA,IAASC,QAAA,QAAgB;AAChC,SAASC,YAAA,QAAoB;AAgBtB,IAAMC,sBAAA,GAA0BC,QAAA,IAA6C;EAClF,MAAMC,YAAA,GAAeC,KAAA,CAAMF,QAAA,CAASf,MAAM,EAAEkB,IAAA,CAAK,IAAI;EACrD,MAAM,CAACC,KAAA,EAAOC,QAAQ,IAAIR,QAAA,CAA6BI,YAAY;EAEnE,OAAOD,QAAA,CAASM,GAAA,CAAI,CAACC,EAAA,EAAIC,KAAA,MAAW;IAClCC,EAAA,EAAIF,EAAA,CAAGE,EAAA;IACPC,KAAA,EAAQC,IAAA,IAAkBN,QAAA,CAASO,SAAA,IAAaA,SAAA,CAAUN,GAAA,CAAI,CAACO,CAAA,EAAGC,CAAA,KAAOA,CAAA,KAAMN,KAAA,GAAQG,IAAA,GAAOE,CAAE,CAAC;IACjGE,OAAA,EAASA,CAAA,KAAMV,QAAA,CAASO,SAAA,IAAaA,SAAA,CAAUN,GAAA,CAAI,CAACO,CAAA,EAAGC,CAAA,KAAOA,CAAA,KAAMN,KAAA,GAAQ,OAAOK,CAAE,CAAC;IACtFG,MAAA,EAAQA,CAAA,KAAM,eAAApB,MAAA,CAAAnC,aAAA,CAAAmC,MAAA,CAAAqB,QAAA,QAAGb,KAAA,CAAMI,KAAK,IAAIV,YAAA,CAAaS,EAAA,CAAGW,SAAA,EAAWd,KAAA,CAAMI,KAAK,CAAY,IAAI,IAAK;EAC7F,EAAE;AACJ;;;AC3BA,SAASpD,iBAAA,QAAyB;AAGlC,OAAO+D,MAAA,MAAW;;;ACHlB,OAAOC,MAAA,MAAW;AAEX,IAAMC,eAAA,GAAkBA,CAACC,CAAA,EAAQJ,SAAA,KAAqD;EAC3F,OAAO,CAAC,CAACI,CAAA,IAAKF,MAAA,CAAMG,cAAA,CAAeD,CAAC,MAAMA,CAAA,oBAAAA,CAAA,CAA0BE,IAAA,MAASN,SAAA;AAC/E;;;ADcO,IAAMO,yBAAA,GAA6B7D,QAAA,IAAkD;EAC1F,MAAM8D,kBAAA,GAAqB,CAAC,WAAW,UAAU;EACjD,OAAOC,cAAA,CAAe;IACpB/D,QAAA;IACA8D,kBAAA;IACAE,aAAA,EAAeC,eAAA;IACfC,aAAA,EAAeC,eAAA;IACfC,kBAAA,EAAoBC,SAAA;IACpBC,aAAA,EAAe;EACjB,CAAC;AACH;AAEO,IAAMC,iCAAA,GAAqCvE,QAAA,IAAkD;EAClG,MAAM8D,kBAAA,GAAqB,CAAC,WAAW,SAAS;EAChD,OAAOC,cAAA,CAAe;IACpB/D,QAAA;IACA8D,kBAAA;IACAE,aAAA,EAAeQ,uBAAA;IACfN,aAAA,EAAeO,uBAAA;IACfH,aAAA,EAAe;EACjB,CAAC;AACH;AAaA,IAAMP,cAAA,GAAiBW,IAAA,IAOK;EAAA,IAPJ;IACtB1E,QAAA;IACAgE,aAAA;IACAE,aAAA;IACAE,kBAAA;IACAN,kBAAA;IACAQ;EACF,IAAAI,IAAA;EACE,MAAMC,aAAA,GAAwC,EAAC;EAE/CpB,MAAA,CAAMrD,QAAA,CAAS0E,OAAA,CAAQ5E,QAAA,EAAU6E,KAAA,IAAS;IACxC,IACE,CAACpB,eAAA,CAAgBoB,KAAA,EAAOX,aAAa,KACrC,CAACT,eAAA,CAAgBoB,KAAA,EAAOb,aAAa,KACrC,CAACP,eAAA,CAAgBoB,KAAA,EAAOT,kBAAkB,GAC1C;MACA,IAAIS,KAAA,EAAO;QACTrF,iBAAA,CAAkBsF,2BAAA,CAA4BR,aAAa,CAAC;MAC9D;MACA;IACF;IAEA,MAAM;MAAEvC;IAAM,IAAI8C,KAAA;IAElB,MAAM;MAAE7E,QAAA,EAAA+E,SAAA;MAAUC,KAAA;MAAOC,GAAA;MAAKC;IAAU,IAAInD,KAAA;IAE5C,IAAI0B,eAAA,CAAgBoB,KAAA,EAAOX,aAAa,GAAG;MACzC,IAAIiB,aAAA,CAAcpD,KAAA,EAAO+B,kBAAkB,GAAG;QAE5Ca,aAAA,CAAcS,IAAA,CAAK;UAAEJ;QAAM,CAAC;MAC9B,WAAWK,YAAA,CAAatD,KAAK,GAAG;QAE9B4C,aAAA,CAAcS,IAAA,CAAK;UAAEJ,KAAA;UAAOE,SAAA;UAAWlF,QAAA,EAAA+E,SAAA;UAAUE;QAAI,CAAC;MACxD,OAAO;QACLzF,iBAAA,CAAkB8F,oBAAA,CAAqBhB,aAAa,CAAC;QACrD;MACF;IACF;IAEA,IAAIb,eAAA,CAAgBoB,KAAA,EAAOb,aAAa,GAAG;MACzC,IAAIuB,cAAA,CAAexD,KAAK,GAAG;QAEzB4C,aAAA,CAAcS,IAAA,CAAK;UAAEJ,KAAA;UAAOE,SAAA;UAAWD;QAAI,CAAC;MAC9C,OAAO;QACLzF,iBAAA,CAAkBgG,oBAAA,CAAqBlB,aAAa,CAAC;QACrD;MACF;IACF;EACF,CAAC;EAED,MAAMmB,kBAAA,GAAqD,EAAC;EAC5D,MAAMC,oBAAA,GAAuD,EAAC;EAC9D,MAAMC,oBAAA,GAAuD,EAAC;EAE9DhB,aAAA,CAAcC,OAAA,CAAQ,CAACgB,EAAA,EAAIhD,KAAA,KAAU;IACnC,IAAIyC,YAAA,CAAaO,EAAE,GAAG;MACpBH,kBAAA,CAAmBL,IAAA,CAAK;QAAE9B,SAAA,EAAWsC,EAAA,CAAG5F,QAAA;QAAU6C,EAAA,EAAID;MAAM,CAAC;MAC7D8C,oBAAA,CAAqBN,IAAA,CAAK;QAAE9B,SAAA,EAAWsC,EAAA,CAAGV,SAAA;QAAWrC,EAAA,EAAID;MAAM,CAAC;MAChE;IACF;IACA,IAAI2C,cAAA,CAAeK,EAAE,GAAG;MACtBD,oBAAA,CAAqBP,IAAA,CAAK;QAAE9B,SAAA,EAAWsC,EAAA,CAAGV,SAAA;QAAWrC,EAAA,EAAID;MAAM,CAAC;IAClE;EACF,CAAC;EAED,MAAMiD,yBAAA,GAA4B1D,sBAAA,CAAuBsD,kBAAkB;EAC3E,MAAMK,2BAAA,GAA8B3D,sBAAA,CAAuBuD,oBAAoB;EAC/E,MAAMK,2BAAA,GAA8B5D,sBAAA,CAAuBwD,oBAAoB;EAE/E,MAAMK,WAAA,GAA4B,EAAC;EACnC,MAAMC,kBAAA,GAA4C,EAAC;EAEnDtB,aAAA,CAAcC,OAAA,CAAQ,CAACgB,EAAA,EAAIhD,KAAA,KAAU;IACnC,IAAIuC,aAAA,CAAcS,EAAA,EAAI9B,kBAAkB,GAAG;MACzCkC,WAAA,CAAYZ,IAAA,CAAK;QAAEJ,KAAA,EAAOY,EAAA,CAAGZ;MAAM,CAAC;MACpC;IACF;IACA,IAAIK,YAAA,CAAaO,EAAE,GAAG;MACpB,MAAM;QACJxC,MAAA,EAAQ8C,aAAA;QACRpD,KAAA;QACAK;MACF,IAAI0C,yBAAA,CAA0BM,IAAA,CAAKC,CAAA,IAAKA,CAAA,CAAEvD,EAAA,KAAOD,KAAK;MACtD,MAAM;QACJQ,MAAA,EAAQiD,WAAA;QACRvD,KAAA,EAAOwD,SAAA;QACPnD,OAAA,EAASoD;MACX,IAAIT,2BAAA,CAA4BK,IAAA,CAAKC,CAAA,IAAKA,CAAA,CAAEvD,EAAA,KAAOD,KAAK;MACxDoD,WAAA,CAAYZ,IAAA,CAAK;QAAEJ,KAAA,EAAOY,EAAA,CAAGZ,KAAA;QAAOC,GAAA,EAAKW,EAAA,CAAGX,GAAA;QAAKnC,KAAA;QAAOK,OAAA;QAASmD,SAAA;QAAWC;MAAY,CAAC;MACzFN,kBAAA,CAAmBb,IAAA,CAAKc,aAAa;MACrCD,kBAAA,CAAmBb,IAAA,CAAKiB,WAAW;MACnC;IACF;IACA,IAAId,cAAA,CAAeK,EAAE,GAAG;MACtB,MAAM;QACJxC,MAAA,EAAQiD,WAAA;QACRvD,KAAA,EAAOwD,SAAA;QACPnD,OAAA,EAASoD;MACX,IAAIR,2BAAA,CAA4BI,IAAA,CAAKC,CAAA,IAAKA,CAAA,CAAEvD,EAAA,KAAOD,KAAK;MACxDoD,WAAA,CAAYZ,IAAA,CAAK;QAAEJ,KAAA,EAAOY,EAAA,CAAGZ,KAAA;QAAOC,GAAA,EAAKW,EAAA,CAAGX,GAAA;QAAKqB,SAAA;QAAWC;MAAY,CAAC;MACzEN,kBAAA,CAAmBb,IAAA,CAAKiB,WAAW;MACnC;IACF;EACF,CAAC;EAED,OAAO;IAAEL,WAAA;IAAaC;EAAmB;AAC3C;AAEA,IAAMd,aAAA,GAAgBA,CAACqB,UAAA,EAAiBC,UAAA,KAAkC;EACxE,MAAM;IAAEzG,QAAA;IAAUgF,KAAA;IAAOC,GAAA;IAAKC;EAAU,IAAIsB,UAAA;EAC5C,OAAO,CAACxG,QAAA,IAAY,CAACiF,GAAA,IAAO,CAACC,SAAA,IAAauB,UAAA,CAAWC,IAAA,CAAKhD,CAAA,IAAKA,CAAA,KAAMsB,KAAK;AAC5E;AAEA,IAAMK,YAAA,GAAgBmB,UAAA,IAA6B;EACjD,MAAM;IAAExG,QAAA;IAAUgF,KAAA;IAAOC,GAAA;IAAKC;EAAU,IAAIsB,UAAA;EAC5C,OAAO,CAAC,CAACxG,QAAA,IAAY,CAAC,CAACiF,GAAA,IAAO,CAAC,CAACC,SAAA,IAAa,CAAC,CAACF,KAAA;AACjD;AAEA,IAAMO,cAAA,GAAkBiB,UAAA,IAA6B;EACnD,MAAM;IAAExG,QAAA;IAAUgF,KAAA;IAAOC,GAAA;IAAKC;EAAU,IAAIsB,UAAA;EAC5C,OAAO,CAACxG,QAAA,IAAY,CAAC,CAACiF,GAAA,IAAO,CAAC,CAACC,SAAA,IAAa,CAAC,CAACF,KAAA;AAChD;;;AE7KA,SAASxF,iBAAA,IAAAmH,kBAAA,QAAyB;AAGlC,OAAOC,MAAA,MAAW;AAcX,IAAMC,4BAAA,GAAgC7G,QAAA,IAAkD;EAC7F,MAAM8D,kBAAA,GAAqB,CAAC,iBAAiB,SAAS;EACtD,OAAOgD,kBAAA,CAAmB;IACxB9G,QAAA;IACA8D,kBAAA;IACAM,kBAAA,EAAoBC,SAAA;IACpB0C,mBAAA,EAAqBC,UAAA;IACrBC,iBAAA,EAAmBC,QAAA;IACnBC,wBAAA,EAA0BlD,eAAA;IAC1BmD,wBAAA,EAA0BjD;EAC5B,CAAC;AACH;AAcA,IAAM2C,kBAAA,GAAqBO,KAAA,IAQK;EAAA,IARJ;IAC1BrH,QAAA;IACAoE,kBAAA;IACA2C,mBAAA;IACAE,iBAAA;IACAE,wBAAA;IACAC,wBAAA;IACAtD;EACF,IAAAuD,KAAA;EACE,MAAM1C,aAAA,GAAsC,EAAC;EAC7C,MAAM2C,eAAA,GAAoC,EAAC;EAC3C,MAAMC,sBAAA,GAAgD,EAAC;EAEvDX,MAAA,CAAM1G,QAAA,CAAS0E,OAAA,CAAQ5E,QAAA,EAAU6E,KAAA,IAAS;IACxC,IACE,CAACpB,eAAA,CAAgBoB,KAAA,EAAOT,kBAAkB,KAC1C,CAACX,eAAA,CAAgBoB,KAAA,EAAOsC,wBAAwB,KAChD,CAAC1D,eAAA,CAAgBoB,KAAA,EAAOuC,wBAAwB,GAChD;MACA,IAAIvC,KAAA,EAAO;QACT8B,kBAAA,CAAkBa,0BAA0B;MAC9C;MACA;IACF;IAGA,IAAI/D,eAAA,CAAgBoB,KAAA,EAAOsC,wBAAwB,KAAK1D,eAAA,CAAgBoB,KAAA,EAAOuC,wBAAwB,GAAG;MACxG;IACF;IAGA,MAAM;MAAErF;IAAM,IAAI8C,KAAA;IAElB+B,MAAA,CAAM1G,QAAA,CAAS0E,OAAA,CAAQ7C,KAAA,CAAM/B,QAAA,EAAUyH,MAAA,IAAS;MAC9C,IAAI,CAAChE,eAAA,CAAgBgE,MAAA,EAAOV,mBAAmB,KAAK,CAACtD,eAAA,CAAgBgE,MAAA,EAAOR,iBAAiB,GAAG;QAC9F,IAAIQ,MAAA,EAAO;UACTd,kBAAA,CAAkBe,+BAA+B;QACnD;QAEA;MACF;MAEA,MAAM;QAAE3F,KAAA,EAAA4F;MAAM,IAAIF,MAAA;MAElB,MAAM;QAAEzC,KAAA;QAAOE,SAAA;QAAW0C,IAAA;QAAMC,OAAA;QAASC;MAAK,IAAIH,MAAA;MAElD,IAAIlE,eAAA,CAAgBgE,MAAA,EAAOV,mBAAmB,GAAG;QAC/C,IAAIgB,cAAA,CAAcJ,MAAA,EAAO7D,kBAAkB,GAAG;UAE5Ca,aAAA,CAAcS,IAAA,CAAK;YAAEJ;UAAM,CAAC;QAC9B,WAAWgD,gBAAA,CAAiBL,MAAK,GAAG;UAClC,MAAMM,QAAA,GAAW;YACfjD,KAAA;YACAE;UACF;UAEA,IAAI2C,OAAA,KAAY,QAAW;YACzBlD,aAAA,CAAcS,IAAA,CAAK;cACjB,GAAG6C,QAAA;cACHJ;YACF,CAAC;UACH,WAAWC,IAAA,KAAS,QAAW;YAC7BnD,aAAA,CAAcS,IAAA,CAAK;cACjB,GAAG6C,QAAA;cACHH,IAAA,EAAMA,IAAA,CAAKI,UAAA,CAAW,GAAG,IAAIJ,IAAA,GAAO,IAAIA,IAAI;YAC9C,CAAC;UACH,OAAO;YAELnB,kBAAA,CAAkB,4DAA4D;YAC9E;UACF;QACF,OAAO;UACLA,kBAAA,CAAkBwB,oCAAoC;UACtD;QACF;MACF;MAEA,IAAI1E,eAAA,CAAgBgE,MAAA,EAAOR,iBAAiB,GAAG;QAC7C,IAAImB,eAAA,CAAeT,MAAK,GAAG;UACzBhD,aAAA,CAAcS,IAAA,CAAK;YAAEJ,KAAA;YAAOE,SAAA;YAAW0C;UAAK,CAAC;QAC/C,OAAO;UACLjB,kBAAA,CAAkB0B,gCAAgC;UAClD;QACF;MACF;IACF,CAAC;EACH,CAAC;EAED,MAAMC,wBAAA,GAA2D,EAAC;EAClE,MAAM3C,oBAAA,GAAuD,EAAC;EAC9DhB,aAAA,CAAcC,OAAA,CAAQ,CAAC2D,EAAA,EAAI3F,KAAA,KAAU;IACnC,IAAIoF,gBAAA,CAAiBO,EAAE,GAAG;MACxBD,wBAAA,CAAyBlD,IAAA,CAAK;QAAE9B,SAAA,EAAWiF,EAAA,CAAGrD,SAAA;QAAWrC,EAAA,EAAID;MAAM,CAAC;IACtE;IACA,IAAIwF,eAAA,CAAeG,EAAE,GAAG;MACtB5C,oBAAA,CAAqBP,IAAA,CAAK;QAAE9B,SAAA,EAAWiF,EAAA,CAAGrD,SAAA;QAAWrC,EAAA,EAAID;MAAM,CAAC;IAClE;EACF,CAAC;EAED,MAAM4F,+BAAA,GAAkCrG,sBAAA,CAAuBmG,wBAAwB;EACvF,MAAMvC,2BAAA,GAA8B5D,sBAAA,CAAuBwD,oBAAoB;EAE/EhB,aAAA,CAAcC,OAAA,CAAQ,CAAC2D,EAAA,EAAI3F,KAAA,KAAU;IACnC,IAAImF,cAAA,CAAcQ,EAAA,EAAIzE,kBAAkB,GAAG;MACzCwD,eAAA,CAAgBlC,IAAA,CAAK;QACnBJ,KAAA,EAAOuD,EAAA,CAAGvD;MACZ,CAAC;IACH;IACA,IAAIgD,gBAAA,CAAiBO,EAAE,GAAG;MACxB,MAAM;QACJnF,MAAA,EAAQqF,UAAA;QACR3F,KAAA,EAAOwD,SAAA;QACPnD,OAAA,EAASoD;MACX,IAAIiC,+BAAA,CAAgCrC,IAAA,CAAKC,CAAA,IAAKA,CAAA,CAAEvD,EAAA,KAAOD,KAAK;MAC5D,MAAM8F,QAAA,GAA2B;QAC/B1D,KAAA,EAAOuD,EAAA,CAAGvD,KAAA;QACVsB,SAAA;QACAC;MACF;MAEA,IAAI,aAAagC,EAAA,EAAI;QACnBG,QAAA,CAASb,OAAA,GAAUU,EAAA,CAAGV,OAAA;MACxB,WAAW,UAAUU,EAAA,EAAI;QACvBG,QAAA,CAASZ,IAAA,GAAOS,EAAA,CAAGT,IAAA;MACrB;MACAR,eAAA,CAAgBlC,IAAA,CAAKsD,QAAQ;MAC7BnB,sBAAA,CAAuBnC,IAAA,CAAKqD,UAAU;IACxC;IACA,IAAIL,eAAA,CAAeG,EAAE,GAAG;MACtB,MAAM;QACJnF,MAAA,EAAQqF,UAAA;QACR3F,KAAA,EAAOwD,SAAA;QACPnD,OAAA,EAASoD;MACX,IAAIR,2BAAA,CAA4BI,IAAA,CAAKC,CAAA,IAAKA,CAAA,CAAEvD,EAAA,KAAOD,KAAK;MACxD0E,eAAA,CAAgBlC,IAAA,CAAK;QACnBJ,KAAA,EAAOuD,EAAA,CAAGvD,KAAA;QACV4C,IAAA,EAAMW,EAAA,CAAGX,IAAA;QACTtB,SAAA;QACAC;MACF,CAAC;MACDgB,sBAAA,CAAuBnC,IAAA,CAAKqD,UAAU;IACxC;EACF,CAAC;EAED,OAAO;IAAEnB,eAAA;IAAiBC;EAAuB;AACnD;AAEA,IAAMQ,cAAA,GAAgB5C,CAACqB,UAAA,EAAiBC,UAAA,KAAkC;EACxE,MAAM;IAAEzG,QAAA;IAAUgF,KAAA;IAAO6C,OAAA;IAAS3C;EAAU,IAAIsB,UAAA;EAChD,OAAO,CAACxG,QAAA,IAAY,CAAC6H,OAAA,IAAW,CAAC3C,SAAA,IAAauB,UAAA,CAAWC,IAAA,CAAKhD,CAAA,IAAKA,CAAA,KAAMsB,KAAK;AAChF;AAEA,IAAMgD,gBAAA,GAAoBxB,UAAA,IAAyD;EACjF,MAAM;IAAExB,KAAA;IAAOE,SAAA;IAAW2C,OAAA;IAASC;EAAK,IAAItB,UAAA;EAC5C,OAAO,CAAC,CAACtB,SAAA,IAAa,CAAC,CAACF,KAAA,KAAU,OAAO6C,OAAA,KAAY,cAAc,OAAOC,IAAA,KAAS;AACrF;AAEA,IAAMM,eAAA,GAAkB5B,UAAA,IAAuD;EAC7E,MAAM;IAAExB,KAAA;IAAO4C,IAAA;IAAM1C;EAAU,IAAIsB,UAAA;EACnC,OAAO,CAAC,CAACoB,IAAA,IAAQ,CAAC,CAAC1C,SAAA,IAAa,CAAC,CAACF,KAAA;AACpC;;;APrGA,IAAM2D,YAAA,GAAgB5G,KAAA,IAAoC;EACxD,OAAO,WAAWA,KAAA;AACpB;AAEA,IAAM6G,WAAA,GAAe7G,KAAA,IAAmC;EACtD,OAAO,UAAUA,KAAA;AACnB;AAEA,IAAM8G,MAAA,GAAN,cAAqBjJ,MAAA,CAAMkJ,aAAA,CAAsC;EAAjEC,YAAA;IAAA,SAAAnI,SAAA;IACE,KAAQoI,SAAA,GAAYpJ,MAAA,CAAMqJ,SAAA,CAA0B;EAAA;EAEpDC,mBAAmBC,UAAA,EAA8C;IAhHnE,IAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA;IAiHI,IAAI,CAACZ,YAAA,CAAaQ,UAAU,KAAK,CAACR,YAAA,CAAa,KAAK5G,KAAK,GAAG;MAC1D;IACF;IAKA,MAAMyH,SAAA,GAAY9J,OAAA,CAAQyJ,UAAA,CAAWpH,KAAA,EAAO,eAAe,mBAAmB,UAAU;IACxF,MAAM0H,QAAA,GAAW/J,OAAA,CAAQ,KAAKqC,KAAA,CAAMA,KAAA,EAAO,eAAe,mBAAmB,UAAU;IAEvF,MAAM2H,kBAAA,KAAqBN,EAAA,GAAAI,SAAA,CAAUxD,WAAA,KAAV,gBAAAoD,EAAA,CAAuB/H,MAAA,QAAWgI,EAAA,GAAAI,QAAA,CAASzD,WAAA,KAAT,gBAAAqD,EAAA,CAAsBhI,MAAA;IACnF,MAAMsI,sBAAA,KAAyBL,EAAA,GAAAE,SAAA,CAAUlC,eAAA,KAAV,gBAAAgC,EAAA,CAA2BjI,MAAA,QAAWkI,EAAA,GAAAE,QAAA,CAASnC,eAAA,KAAT,gBAAAiC,EAAA,CAA0BlI,MAAA;IAC/F,IAAI,CAAC1B,aAAA,CAAc6J,SAAA,EAAWC,QAAQ,KAAKC,kBAAA,IAAsBC,sBAAA,EAAwB;MACvF,KAAK5H,KAAA,CAAM6H,WAAA,CAAY;QAAE7G,IAAA,EAAM,KAAKiG,SAAA,CAAUa,OAAA;QAAS9H,KAAA,EAAO,KAAKA,KAAA,CAAMA;MAAM,CAAC;IAClF;EACF;EAEA+H,kBAAA,EAAoB;IAClB,IAAI,KAAKd,SAAA,CAAUa,OAAA,EAAS;MAC1B,IAAIlB,YAAA,CAAa,KAAK5G,KAAK,GAAG;QAC5B,KAAKA,KAAA,CAAMe,KAAA,CAAM,KAAKkG,SAAA,CAAUa,OAAA,EAAS,KAAK9H,KAAA,CAAMA,KAAK;MAC3D;MAEA,IAAI6G,WAAA,CAAY,KAAK7G,KAAK,GAAG;QAC3B,KAAKA,KAAA,CAAM+F,IAAA,CAAK,KAAK/F,KAAA,CAAMA,KAAK;MAClC;IACF;EACF;EAEAgI,qBAAA,EAAuB;IACrB,IAAI,KAAKf,SAAA,CAAUa,OAAA,EAAS;MAC1B,IAAIlB,YAAA,CAAa,KAAK5G,KAAK,GAAG;QAC5B,KAAKA,KAAA,CAAMoB,OAAA,CAAQ,KAAK6F,SAAA,CAAUa,OAAO;MAC3C;MACA,IAAIjB,WAAA,CAAY,KAAK7G,KAAK,GAAG;QAC3B,KAAKA,KAAA,CAAMiI,KAAA,CAAM;MACnB;IACF;EACF;EAEAC,OAAA,EAAS;IAzJX,IAAAb,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA;IA0JI,OACE,eAAA3J,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QACE,eAAAzD,MAAA,CAAAC,aAAA,CAAC;MAAIqK,GAAA,EAAK,KAAKlB;IAAA,CAAW,GACzBL,YAAA,CAAa,KAAK5G,KAAK,OACtBsH,EAAA,IAAAD,EAAA,QAAKrH,KAAA,KAAL,gBAAAqH,EAAA,CAAYnD,kBAAA,KAAZ,gBAAAoD,EAAA,CAAgC3G,GAAA,CAAI,CAACU,MAAA,EAAQR,KAAA,KAAU/C,aAAA,CAAcuD,MAAA,EAAQ;MAAE+G,GAAA,EAAKvH;IAAM,CAAC,KAC5F+F,YAAA,CAAa,KAAK5G,KAAK,OACtBwH,EAAA,IAAAD,EAAA,QAAKvH,KAAA,KAAL,gBAAAuH,EAAA,CAAY/B,sBAAA,KAAZ,gBAAAgC,EAAA,CAAoC7G,GAAA,CAAI,CAACU,MAAA,EAAQR,KAAA,KAAU/C,aAAA,CAAcuD,MAAA,EAAQ;MAAE+G,GAAA,EAAKvH;IAAM,CAAC,GACnG;EAEJ;AACF;AAEO,IAAMwH,MAAA,GAASC,SAAA,CAAUC,KAAA,IAAqD;EAAA,IAApD;IAAEC,KAAA;IAAO,GAAGxI;EAAM,IAAAuI,KAAA;EACjD,OACE,eAAA1K,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMC,WAAA;IACbrH,OAAA,EAASoH,KAAA,CAAME,aAAA;IACfb,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I;EAAA,CACF;AAEJ,GAAG,QAAQ;AAEJ,IAAM4I,MAAA,GAASN,SAAA,CAAUO,KAAA,IAAqD;EAAA,IAApD;IAAEL,KAAA;IAAO,GAAGxI;EAAM,IAAA6I,KAAA;EACjD,OACE,eAAAhL,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMM,WAAA;IACb1H,OAAA,EAASoH,KAAA,CAAMO,aAAA;IACflB,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I;EAAA,CACF;AAEJ,GAAG,QAAQ;AAEJ,SAASoC,gBAAA4G,KAAA,EAAuE;EAAA,IAAvD;IAAE/K;EAAS,IAAA+K,KAAA;EACzCtL,kBAAA,CAAkBuL,4BAA4B;EAC9C,OAAO,eAAApL,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEO,SAASiE,gBAAAgH,KAAA,EAAuE;EAAA,IAAvD;IAAEjL;EAAS,IAAAiL,KAAA;EACzCxL,kBAAA,CAAkByL,4BAA4B;EAC9C,OAAO,eAAAtL,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEA,IAAMmL,YAAA,GAAed,SAAA,CACnBe,KAAA,IAAqG;EAAA,IAApG;IAAEb,KAAA;IAAO,GAAGxI;EAAM,IAAAqJ,KAAA;EACjB,MAAM;IAAEpF,WAAA;IAAaC;EAAmB,IAAIpC,yBAAA,CAA0B9B,KAAA,CAAM/B,QAAQ;EACpF,OACE,eAAAJ,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMc,gBAAA;IACblI,OAAA,EAASoH,KAAA,CAAMe,kBAAA;IACf1B,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I,KAAA,EAAO;MAAE,GAAGA,KAAA;MAAOiE;IAAY;IAC/BC;EAAA,CACF;AAEJ,GACA,aACF;AAEO,IAAMsF,WAAA,GAAqCC,MAAA,CAAOC,MAAA,CAAON,YAAA,EAAc;EAC5EO,IAAA,EAAMvH,eAAA;EACNwH,IAAA,EAAM1H;AACR,CAAC;AAED,IAAM2H,WAAA,GAAcvB,SAAA,CAClBwB,KAAA,IAA8F;EAAA,IAA7F;IAAEtB,KAAA;IAAO,GAAGxI;EAAM,IAAA8J,KAAA;EACjB,MAAM;IAAE7F,WAAA;IAAaC;EAAmB,IAAIpC,yBAAA,CAA0B9B,KAAA,CAAM/B,QAAQ;EACpF,MAAM8L,gBAAA,GAAmBN,MAAA,CAAOC,MAAA,CAAO1J,KAAA,CAAM+J,gBAAA,IAAoB,CAAC,GAAG;IAAE9F;EAAY,CAAC;EACpF,MAAM;IAAEsB,eAAA;IAAiBC;EAAuB,IAAIV,4BAAA,CAA6B9E,KAAA,CAAM/B,QAAQ;EAE/F,OACE,eAAAJ,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMwB,eAAA;IACb5I,OAAA,EAASoH,KAAA,CAAMyB,iBAAA;IACfpC,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I,KAAA,EAAO;MAAE,GAAGA,KAAA;MAAO+J,gBAAA;MAAkBxE;IAAgB;IACrDrB,kBAAA;IACAsB;EAAA,CACF;AAEJ,GACA,YACF;AAEO,SAASlD,UAAA4H,KAAA,EAA2C;EAAA,IAAjC;IAAEjM;EAAS,IAAAiM,KAAA;EACnCxM,kBAAA,CAAkByM,gCAAgC;EAClD,OAAO,eAAAtM,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEO,SAASgH,WAAAmF,MAAA,EAAmE;EAAA,IAAxD;IAAEnM;EAAS,IAAAmM,MAAA;EACpC1M,kBAAA,CAAkB2M,iCAAiC;EACnD,OAAO,eAAAxM,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEO,SAASkH,SAAAmF,MAAA,EAA+D;EAAA,IAAtD;IAAErM;EAAS,IAAAqM,MAAA;EAClC5M,kBAAA,CAAkB6M,+BAA+B;EACjD,OAAO,eAAA1M,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEO,IAAMuM,UAAA,GAAmCf,MAAA,CAAOC,MAAA,CAAOG,WAAA,EAAa;EACzEzH,eAAA;EACAF,eAAA;EACAI,SAAA;EACAmI,MAAA,EAAQxF,UAAA;EACR2E,IAAA,EAAMzE;AACR,CAAC;AAEM,IAAMuF,+BAAA,GAAkCpC,SAAA,CAC7CqC,MAAA,IAAiG;EAAA,IAAhG;IAAEnC,KAAA;IAAO,GAAGxI;EAAM,IAAA2K,MAAA;EACjB,OACE,eAAA9M,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMoC,oCAAA;IACbxJ,OAAA,EAASoH,KAAA,CAAMqC,sCAAA;IACfhD,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I;EAAA,CACF;AAEJ,GACA,iCACF;AAEO,SAAS0C,wBAAAoI,MAAA,EAAuF;EAAA,IAA/D;IAAE7M;EAAS,IAAA6M,MAAA;EACjDpN,kBAAA,CAAkBqN,oCAAoC;EACtD,OAAO,eAAAlN,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEO,SAASwE,wBAAAuI,MAAA,EAAuF;EAAA,IAA/D;IAAE/M;EAAS,IAAA+M,MAAA;EACjDtN,kBAAA,CAAkBuN,oCAAoC;EACtD,OAAO,eAAApN,MAAA,CAAAC,aAAA,CAAAD,MAAA,CAAAyD,QAAA,QAAGrD,QAAS;AACrB;AAEA,IAAMiN,oBAAA,GAAuB5C,SAAA,CAC3B6C,MAAA,IAA6G;EAAA,IAA5G;IAAE3C,KAAA;IAAO,GAAGxI;EAAM,IAAAmL,MAAA;EACjB,MAAM;IAAElH,WAAA;IAAaC;EAAmB,IAAI1B,iCAAA,CAAkCxC,KAAA,CAAM/B,QAAQ;EAC5F,OACE,eAAAJ,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAM4C,wBAAA;IACbhK,OAAA,EAASoH,KAAA,CAAM6C,0BAAA;IACfxD,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I,KAAA,EAAO;MAAE,GAAGA,KAAA;MAAOiE;IAAY;IAC/BC;EAAA,CACF;AAEJ,GACA,qBACF;AAEO,IAAMoH,mBAAA,GAAqD7B,MAAA,CAAOC,MAAA,CAAOwB,oBAAA,EAAsB;EACpGvB,IAAA,EAAMjH,uBAAA;EACNkH,IAAA,EAAMnH;AACR,CAAC;AAEM,IAAM8I,kBAAA,GAAqBjD,SAAA,CAAUkD,MAAA,IAAiE;EAAA,IAAhE;IAAEhD,KAAA;IAAO,GAAGxI;EAAM,IAAAwL,MAAA;EAC7D,OACE,eAAA3N,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMiD,uBAAA;IACbrK,OAAA,EAASoH,KAAA,CAAMkD,yBAAA;IACf7D,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I;EAAA,CACF;AAEJ,GAAG,oBAAoB;AAEvB,IAAM2L,qBAAA,GAAwBrD,SAAA,CAC5BsD,MAAA,IAAwG;EAAA,IAAvG;IAAEpD,KAAA;IAAO,GAAGxI;EAAM,IAAA4L,MAAA;EACjB,MAAM;IAAE3H,WAAA;IAAaC;EAAmB,IAAI1B,iCAAA,CAAkCxC,KAAA,CAAM/B,QAAQ;EAC5F,MAAM4N,wBAAA,GAA2BpC,MAAA,CAAOC,MAAA,CAAO1J,KAAA,CAAM6L,wBAAA,IAA4B,CAAC,GAAG;IAAE5H;EAAY,CAAC;EAEpG,OACE,eAAApG,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAMsD,yBAAA;IACb1K,OAAA,EAASoH,KAAA,CAAMuD,2BAAA;IACflE,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I,KAAA,EAAO;MAAE,GAAGA,KAAA;MAAO6L;IAAyB;IAC5C3H;EAAA,CACF;AAEJ,GACA,sBACF;AAEO,IAAM8H,oBAAA,GAAuDvC,MAAA,CAAOC,MAAA,CAAOiC,qBAAA,EAAuB;EACvGjJ,uBAAA;EACAD;AACF,CAAC;AAEM,IAAMwJ,gBAAA,GAAmB3D,SAAA,CAAU4D,MAAA,IAA+D;EAAA,IAA9D;IAAE1D,KAAA;IAAO,GAAGxI;EAAM,IAAAkM,MAAA;EAC3D,OACE,eAAArO,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACC/F,KAAA,EAAOyH,KAAA,CAAM2D,qBAAA;IACb/K,OAAA,EAASoH,KAAA,CAAM4D,uBAAA;IACfvE,WAAA,EAAcW,KAAA,CAAcG,uBAAA;IAC5B3I;EAAA,CACF;AAEJ,GAAG,kBAAkB;AAEd,IAAMqM,YAAA,GAAe/D,SAAA,CAAUgE,MAAA,IAA2D;EAAA,IAA1D;IAAE9D,KAAA;IAAO,GAAGxI;EAAM,IAAAsM,MAAA;EACvD,OACE,eAAAzO,MAAA,CAAAC,aAAA,CAACgJ,MAAA;IACCf,IAAA,EAAMyC,KAAA,CAAM+D,gBAAA;IACZtE,KAAA,EAAOO,KAAA,CAAMgE,iBAAA;IACbxM;EAAA,CACF;AAEJ,GAAG,cAAc;;;AQvWjB,OAAOyM,MAAA,MAAW;AAMX,IAAMC,YAAA,GAAepE,SAAA,CAAUqE,MAAA,IAAqE;EAAA,IAApE;IAAEnE,KAAA;IAAOvK,QAAA;IAAU,GAAG+B;EAAM,IAAA2M,MAAA;EACjE,MAAM;IAAEC,yBAAA;IAA2BC,gBAAA;IAAkBC,mBAAA;IAAqBC,sBAAA;IAAwBC,IAAA;IAAM,GAAGC;EAAK,IAC9GjN,KAAA;EACF/B,QAAA,GAAWQ,yBAAA,CAA0BR,QAAA,EAAU,SAAS;EACxD,MAAM6E,KAAA,GAAQ9E,iBAAA,CAAkBC,QAAQ,EAAE,cAAc;EAExD,MAAMiP,YAAA,GAAeA,CAAA,KAAM;IACzB,MAAMC,IAAA,GAAoB;MACxBN,gBAAA;MACAC,mBAAA;MACAF,yBAAA;MACAG;IACF;IAEA,IAAIC,IAAA,KAAS,SAAS;MACpB,OAAOxE,KAAA,CAAM4E,UAAA,CAAWD,IAAI;IAC9B;IACA,OAAO3E,KAAA,CAAM6E,gBAAA,CAAiB;MAC5B,GAAGF,IAAA;MACHG,yBAAA,EAA2BR,mBAAA;MAC3BS,sBAAA,EAAwBV;IAC1B,CAAC;EACH;EAEA,MAAMW,wBAAA,GAAoD,MAAMnP,CAAA,IAAK;IACnE,IAAIyE,KAAA,IAAS,OAAOA,KAAA,KAAU,YAAY,WAAWA,KAAA,EAAO;MAC1D,MAAMnE,WAAA,CAAYmE,KAAA,CAAM9C,KAAA,CAAM8F,OAAO,EAAEzH,CAAC;IAC1C;IACA,OAAO6O,YAAA,CAAa;EACtB;EAEA,MAAMzI,UAAA,GAAa;IAAE,GAAGwI,IAAA;IAAMnH,OAAA,EAAS0H;EAAyB;EAChE,OAAOf,MAAA,CAAMgB,YAAA,CAAa3K,KAAA,EAAsC2B,UAAU;AAC5E,GAAG,cAAc;;;ACvCjB,OAAOiJ,MAAA,MAAW;AAMX,IAAMC,YAAA,GAAerF,SAAA,CAAUsF,MAAA,IAAqE;EAAA,IAApE;IAAEpF,KAAA;IAAOvK,QAAA;IAAU,GAAG+B;EAAM,IAAA4N,MAAA;EACjE,MAAM;IACJd,mBAAA;IACAD,gBAAA;IACAS,yBAAA;IACAC,sBAAA;IACAP,IAAA;IACAa,cAAA;IACA,GAAGZ;EACL,IAAIjN,KAAA;EAEJ/B,QAAA,GAAWQ,yBAAA,CAA0BR,QAAA,EAAU,SAAS;EACxD,MAAM6E,KAAA,GAAQ9E,iBAAA,CAAkBC,QAAQ,EAAE,cAAc;EAExD,MAAMiP,YAAA,GAAeA,CAAA,KAAM;IACzB,MAAMC,IAAA,GAAoB;MACxBL,mBAAA;MACAD,gBAAA;MACAS,yBAAA;MACAC,sBAAA;MACAM;IACF;IAEA,IAAIb,IAAA,KAAS,SAAS;MACpB,OAAOxE,KAAA,CAAMsF,UAAA,CAAWX,IAAI;IAC9B;IAEA,OAAO3E,KAAA,CAAMuF,gBAAA,CAAiB;MAC5B,GAAGZ,IAAA;MACHP,yBAAA,EAA2BE,mBAAA;MAC3BC,sBAAA,EAAwBF;IAC1B,CAAC;EACH;EAEA,MAAMW,wBAAA,GAAoD,MAAMnP,CAAA,IAAK;IACnE,IAAIyE,KAAA,IAAS,OAAOA,KAAA,KAAU,YAAY,WAAWA,KAAA,EAAO;MAC1D,MAAMnE,WAAA,CAAYmE,KAAA,CAAM9C,KAAA,CAAM8F,OAAO,EAAEzH,CAAC;IAC1C;IACA,OAAO6O,YAAA,CAAa;EACtB;EAEA,MAAMzI,UAAA,GAAa;IAAE,GAAGwI,IAAA;IAAMnH,OAAA,EAAS0H;EAAyB;EAChE,OAAOE,MAAA,CAAMD,YAAA,CAAa3K,KAAA,EAAsC2B,UAAU;AAC5E,GAAG,cAAc;;;ACjDjB,OAAOuJ,OAAA,MAAW;AAYX,IAAMC,aAAA,GAAgB3F,SAAA,CAC3B4F,MAAA,IAA+F;EAAA,IAA9F;IAAE1F,KAAA;IAAOvK,QAAA;IAAU,GAAG+B;EAAM,IAAAkO,MAAA;EAC3B,MAAM;IAAEC,WAAA,GAAc;IAAKC,cAAA;IAAgB,GAAGnB;EAAK,IAAIjN,KAAA;EAEvD/B,QAAA,GAAWQ,yBAAA,CAA0BR,QAAA,EAAU,UAAU;EACzD,MAAM6E,KAAA,GAAQ9E,iBAAA,CAAkBC,QAAQ,EAAE,eAAe;EAEzD,MAAMiP,YAAA,GAAeA,CAAA,KAAM1E,KAAA,CAAM6F,OAAA,CAAQ;IAAEF;EAAY,CAAC;EACxD,MAAMX,wBAAA,GAAoD,MAAMnP,CAAA,IAAK;IACnE,MAAMM,WAAA,CAAamE,KAAA,CAAc9C,KAAA,CAAM8F,OAAO,EAAEzH,CAAC;IACjD,OAAO6O,YAAA,CAAa;EACtB;EAEA,MAAMzI,UAAA,GAAa;IAAE,GAAGwI,IAAA;IAAMnH,OAAA,EAAS0H;EAAyB;EAChE,OAAOQ,OAAA,CAAMP,YAAA,CAAa3K,KAAA,EAAsC2B,UAAU;AAC5E,GACA,eACF;;;AC9BA,OAAO6J,OAAA,MAAW;AAMX,IAAMC,wBAAA,GAA2BjG,SAAA,CACtCkG,MAAA,IAAiF;EAAA,IAAhF;IAAEhG,KAAA;IAAOvK,QAAA;IAAU,GAAG+B;EAAM,IAAAwO,MAAA;EAC3B,MAAM;IAAEL,WAAA;IAAa,GAAGlB;EAAK,IAAIjN,KAAA;EAEjC/B,QAAA,GAAWQ,yBAAA,CAA0BR,QAAA,EAAU,uBAAuB;EACtE,MAAM6E,KAAA,GAAQ9E,iBAAA,CAAkBC,QAAQ,EAAE,0BAA0B;EAIpE,MAAMiP,YAAA,GAAe,MAAAA,CAAA,KAAY;IAC/B,eAAeuB,aAAA,EAAe;MAC5B,MAAMjG,KAAA,CAAMkG,wBAAA,CAAyB;QAAEP,WAAA,EAAaA,WAAA,IAAe;MAAU,CAAC;IAChF;IACA,KAAKM,YAAA,CAAa;EACpB;EAEA,MAAMjB,wBAAA,GAAoD,MAAMnP,CAAA,IAAK;IACnE,MAAMM,WAAA,CAAamE,KAAA,CAAc9C,KAAA,CAAM8F,OAAO,EAAEzH,CAAC;IACjD,OAAO6O,YAAA,CAAa;EACtB;EAEA,MAAMzI,UAAA,GAAa;IAAE,GAAGwI,IAAA;IAAMnH,OAAA,EAAS0H;EAAyB;EAChE,OAAOc,OAAA,CAAMb,YAAA,CAAa3K,KAAA,EAAsC2B,UAAU;AAC5E,GACA,oBACF;;;AC/BA,SAASkK,gBAAA,QAAwB;AACjC,OAAOC,OAAA,MAAW;;;ACDlB,SAASC,aAAA,EAAeC,oBAAA,EAAsBC,cAAA,EAAgBC,WAAA,QAAmB;AAEjF,OAAOC,OAAA,MAAW;;;ACFlB,SAASC,SAAA,QAAiB;AAC1B,SAASC,eAAA,QAAuB;AAChC,SAASC,iBAAA,QAAyB;AAyDlC,IAAMC,YAAA,GAAe;EACnBnR,IAAA,EAAM;EACNoR,OAAA,EAAS;EACTC,WAAA,EAAaC,OAAA,CAAQC,GAAA,CAAIC;AAC3B;AA/DA,IAAAC,OAAA,EAAAC,OAAA,EAAAC,SAAA,EAAAC,eAAA,EAAAC,SAAA,EAAAC,0BAAA,EAAAC,iBAAA;AAmKO,IAAMC,gBAAA,GAAN,MAAMA,gBAAA,CAAiD;EAsF5DlJ,YAAYmJ,OAAA,EAAiC;IAAA,IAAAC,KAAA;IAtFxCC,YAAA,OAAAL,0BAAA;IAIL,KAAQM,OAAA,GAAsD;IAC9D,KAAQC,aAAA,GAA2C;IACnD,KAAQC,uBAAA,GAAwE;IAChF,KAAQC,aAAA,GAAqC;IAC7C,KAAQC,aAAA,GAAqC;IAC7C,KAAQC,kBAAA,GAA+C;IACvD,KAAQC,0BAAA,GAA+D;IACvE,KAAQC,yBAAA,GAA6D;IACrE,KAAQC,mBAAA,GAAsB,mBAAI5R,GAAA,CAAiC;IACnE,KAAQ6R,mBAAA,GAAsB,mBAAI7R,GAAA,CAAiC;IACnE,KAAQ8R,wBAAA,GAA2B,mBAAI9R,GAAA,CAAsC;IAC7E,KAAQ+R,uBAAA,GAA0B,mBAAI/R,GAAA,CAAqC;IAC3E,KAAQgS,gCAAA,GAAmC,mBAAIhS,GAAA,CAA8C;IAC7F,KAAQiS,+BAAA,GAAkC,mBAAIjS,GAAA,CAA6C;IAC3F,KAAQkS,iCAAA,GAAoC,mBAAIlS,GAAA,CAA+C;IAC/F,KAAQmS,6BAAA,GAAgC,mBAAInS,GAAA,CAA2C;IACvF,KAAQoS,6BAAA,GAAgC,mBAAIpS,GAAA,CAA0D;IACtG,KAAQqS,mBAAA,GAAsB,mBAAIrS,GAAA,CAA8C;IAEhF;IAAA,KAAQsS,wBAAA,GAA2B,mBAAItS,GAAA,CAMrC;IACF,KAAQuS,eAAA,GAAqC,EAAC;IAE9CpB,YAAA,OAAAV,OAAA,EAAU;IACVU,YAAA,OAAAT,OAAA;IACAS,YAAA,OAAAR,SAAA;IACAQ,YAAA,OAAAP,eAAA;IA+FA,KAAA4B,cAAA,GAAkBvE,IAAA,IAA0C;MAC1D,MAAMwE,QAAA,GAAWA,CAAA,KAAG;QAtSxB,IAAAtK,EAAA;QAsS2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcqK,cAAA,CAAevE,IAAA,MAAS;MAAA;MAC7D,IAAI,KAAKmD,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,kBAAkBgS,QAAQ;MACzD;IACF;IAEA,KAAAE,cAAA,GAAkB1E,IAAA,IAA0C;MAC1D,MAAMwE,QAAA,GAAWA,CAAA,KAAG;QA/SxB,IAAAtK,EAAA;QA+S2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcwK,cAAA,CAAe1E,IAAA,MAAS;MAAA;MAC7D,IAAI,KAAKmD,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,kBAAkBgS,QAAQ;MACzD;IACF;IAEA,KAAAG,mBAAA,GAAsB,MAAqB;MACzC,MAAMH,QAAA,GAAWA,CAAA,KAAG;QAxTxB,IAAAtK,EAAA;QAwT2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcyK,mBAAA,OAAyB;MAAA;MAC9D,IAAI,KAAKxB,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,uBAAuBgS,QAAQ;MAC9D;IACF;IAEA,KAAAI,mBAAA,GAAsB,MAAqB;MACzC,MAAMJ,QAAA,GAAWA,CAAA,KAAG;QAjUxB,IAAAtK,EAAA;QAiU2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc0K,mBAAA,OAAyB;MAAA;MAC9D,IAAI,KAAKzB,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,uBAAuBgS,QAAQ;MAC9D;IACF;IAEA,KAAAK,oBAAA,GAAuB,MAAqB;MAC1C,MAAML,QAAA,GAAWA,CAAA,KAAG;QA1UxB,IAAAtK,EAAA;QA0U2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc2K,oBAAA,OAA0B;MAAA;MAC/D,IAAI,KAAK1B,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,wBAAwBgS,QAAQ;MAC/D;IACF;IAEA,KAAAM,sCAAA,GAAyC,MAAqB;MAC5D,MAAMN,QAAA,GAAWA,CAAA,KAAG;QAnVxB,IAAAtK,EAAA;QAmV2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc4K,sCAAA,OAA4C;MAAA;MACjF,IAAI,KAAK3B,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,0CAA0CgS,QAAQ;MACjF;IACF;IAEA,KAAAO,mBAAA,GAAsB,MAAqB;MACzC,MAAMP,QAAA,GAAWA,CAAA,KAAG;QA5VxB,IAAAtK,EAAA;QA4V2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc6K,mBAAA,OAAyB;MAAA;MAC9D,IAAI,KAAK5B,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,uBAAuBgS,QAAQ;MAC9D;IACF;IAEA,KAAAQ,0BAAA,GAA6B,MAAqB;MAChD,MAAMR,QAAA,GAAWA,CAAA,KAAG;QArWxB,IAAAtK,EAAA;QAqW2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc8K,0BAAA,OAAgC;MAAA;MACrE,IAAI,KAAK7B,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,8BAA8BgS,QAAQ;MACrE;IACF;IAEA,KAAAS,2BAAA,GAA8B,MAAqB;MACjD,MAAMT,QAAA,GAAWA,CAAA,KAAG;QA9WxB,IAAAtK,EAAA;QA8W2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc+K,2BAAA,OAAiC;MAAA;MACtE,IAAI,KAAK9B,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,+BAA+BgS,QAAQ;MACtE;IACF;IAEA,KAAAU,gBAAA,GAAoBC,EAAA,IAA8B;MAChD,MAAMX,QAAA,GAAWA,CAAA,KAAG;QAvXxB,IAAAtK,EAAA;QAuX2B,SAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcgL,gBAAA,CAAiBC,EAAA,MAAO;MAAA;MAC7D,IAAI,KAAKhC,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,oBAAoBgS,QAAQ;MAC3D;IACF;IAEA,KAAAY,qBAAA,GAAwB,MAAY;MAClC,MAAMZ,QAAA,GAAWA,CAAA,KAAG;QAhYxB,IAAAtK,EAAA;QAgY2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAckL,qBAAA;MAAA;MACrC,IAAI,KAAKjC,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKgC,QAAA,CAAS;MAChB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,yBAAyBgS,QAAQ;MAChE;IACF;IAyFA,KAAOa,WAAA,GAAe5T,EAAA,IAAmB;MACvC,KAAK6S,eAAA,CAAgBpO,IAAA,CAAKzE,EAAE;MAI5B,IAAI,KAAK6T,MAAA,EAAQ;QACf,KAAKC,UAAA,CAAW;MAClB;IACF;IAEA,KAAOA,UAAA,GAAa,MAAM;MACxB,KAAKjB,eAAA,CAAgB5O,OAAA,CAAQjE,EAAA,IAAMA,EAAA,CAAG,CAAC;MACvC,KAAK6S,eAAA,GAAkB,EAAC;IAC1B;IAEA,KAAQkB,cAAA,GAAkBrC,OAAA,IAA6D;MACrF,IAAI,CAACA,OAAA,EAAS;QACZ,MAAM,IAAIsC,KAAA,CAAM,mCAAmC;MACrD;MAEA,KAAKtC,OAAA,GAAUA,OAAA;MAEf,KAAKiB,mBAAA,CAAoB1O,OAAA,CAAQjE,EAAA,IAAMA,EAAA,CAAG,CAAC;MAC3C,KAAK4S,wBAAA,CAAyB3O,OAAA,CAAQ,CAACgQ,gBAAA,EAAkBC,QAAA,KAAa;QACpED,gBAAA,CAAiBE,iBAAA,GAAoBzC,OAAA,CAAQ0C,WAAA,CAAYF,QAAQ;MACnE,CAAC;MAED,IAAI,KAAKrC,aAAA,KAAkB,MAAM;QAC/BH,OAAA,CAAQlD,UAAA,CAAW,KAAKqD,aAAa;MACvC;MAEA,IAAI,KAAKC,aAAA,KAAkB,MAAM;QAC/BJ,OAAA,CAAQxC,UAAA,CAAW,KAAK4C,aAAa;MACvC;MAEA,IAAI,KAAKC,kBAAA,KAAuB,MAAM;QACpCL,OAAA,CAAQ2C,eAAA,CAAgB,KAAKtC,kBAAkB;MACjD;MAEA,IAAI,KAAKH,uBAAA,KAA4B,MAAM;QACzCF,OAAA,CAAQ4C,mCAAA,CAAoC,KAAK1C,uBAAuB;MAC1E;MAEA,IAAI,KAAKD,aAAA,KAAkB,MAAM;QAC/BD,OAAA,CAAQ/D,gBAAA,CAAiB,KAAKgE,aAAa;MAC7C;MAEA,IAAI,KAAKK,0BAAA,KAA+B,MAAM;QAC5CN,OAAA,CAAQ6C,uBAAA,CAAwB,KAAKvC,0BAA0B;MACjE;MAEA,IAAI,KAAKC,yBAAA,KAA8B,MAAM;QAC3CP,OAAA,CAAQ8C,sBAAA,CAAuB,KAAKvC,yBAAyB;MAC/D;MAEA,KAAKC,mBAAA,CAAoBjO,OAAA,CAAQ,CAAC7C,KAAA,EAAoBgB,IAAA,KAAyB;QAC7EsP,OAAA,CAAQ7H,WAAA,CAAYzH,IAAA,EAAMhB,KAAK;MACjC,CAAC;MAED,KAAK+Q,mBAAA,CAAoBlO,OAAA,CAAQ,CAAC7C,KAAA,EAAoBgB,IAAA,KAAyB;QAC7EsP,OAAA,CAAQxH,WAAA,CAAY9H,IAAA,EAAMhB,KAAK;MACjC,CAAC;MAED,KAAKgR,wBAAA,CAAyBnO,OAAA,CAAQ,CAAC7C,KAAA,EAAyBgB,IAAA,KAAyB;QACvFsP,OAAA,CAAQhH,gBAAA,CAAiBtI,IAAA,EAAMhB,KAAK;MACtC,CAAC;MAED,KAAKsR,6BAAA,CAA8BzO,OAAA,CAAQ,CAAC7C,KAAA,EAA6CgB,IAAA,KAAyB;QAChHsP,OAAA,CAAQ1F,oCAAA,CAAqC5J,IAAA,EAAMhB,KAAK;MAC1D,CAAC;MAED,KAAKiR,uBAAA,CAAwBpO,OAAA,CAAQ,CAAC7C,KAAA,EAAwBgB,IAAA,KAAyB;QACrFsP,OAAA,CAAQtG,eAAA,CAAgBhJ,IAAA,EAAMhB,KAAK;MACrC,CAAC;MAED,KAAKqR,6BAAA,CAA8BxO,OAAA,CAAQ,CAAC7C,KAAA,EAA8BgB,IAAA,KAAyB;QACjGsP,OAAA,CAAQnE,qBAAA,CAAsBnL,IAAA,EAAMhB,KAAK;MAC3C,CAAC;MAEDqT,YAAA,OAAK1D,OAAA,EAAU;MACf,KAAK+C,UAAA,CAAW;MAChB,OAAO,KAAKpC,OAAA;IACd;IAiEA,KAAA3H,uBAAA,GAA0B,MAAO3I,KAAA,IAA8B;MAC7D,MAAMsQ,OAAA,GAAU,MAAMgD,eAAA,OAAKtD,0BAAA,EAAAC,iBAAA,EAALsD,IAAA;MAEtB,IAAIjD,OAAA,IAAW,6BAA6BA,OAAA,EAAS;QACnD,OAAQA,OAAA,CAAgB3H,uBAAA,CAAwB3I,KAAK;MACvD;IACF;IAKA;AAAA;AAAA;IAAA,KAAAwT,SAAA,GAAYC,MAAA,IAA2E;MAAA,IAA1E;QAAEC,OAAA;QAASC,YAAA;QAAcC;MAAW,IAAAH,MAAA;MAC/C,IAAI,KAAKnD,OAAA,EAAS;QAChB,OAAO,KAAKA,OAAA,CAAQkD,SAAA,CAAU;UAAEE,OAAA;UAASC,YAAA;UAAcC;QAAW,CAAC;MACrE,OAAO;QACL,OAAOC,OAAA,CAAQC,MAAA,CAAO;MACxB;IACF;IAEA,KAAA1G,UAAA,GAAcpN,KAAA,IAA8B;MAC1C,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQlD,UAAA,CAAWpN,KAAK;MAC/B,OAAO;QACL,KAAKyQ,aAAA,GAAgBzQ,KAAA;MACvB;IACF;IAEA,KAAA+T,WAAA,GAAc,MAAY;MACxB,IAAI,KAAKzD,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQyD,WAAA,CAAY;MAC3B,OAAO;QACL,KAAKtD,aAAA,GAAgB;MACvB;IACF;IAEA,KAAAyC,mCAAA,GAAuClT,KAAA,IAA4D;MACjG,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ4C,mCAAA,CAAoClT,KAAK;MACxD,OAAO;QACL,KAAKwQ,uBAAA,GAA0BxQ,KAAA;MACjC;IACF;IAEA,KAAAgU,oCAAA,GAAuC,MAAY;MACjD,IAAI,KAAK1D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ0D,oCAAA,CAAqC;MACpD,OAAO;QACL,KAAKxD,uBAAA,GAA0B;MACjC;IACF;IAEA,KAAAjE,gBAAA,GAAoBvM,KAAA,IAAoC;MACtD,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ/D,gBAAA,CAAiBvM,KAAK;MACrC,OAAO;QACL,KAAKuQ,aAAA,GAAgBvQ,KAAA;MACvB;IACF;IAEA,KAAAwM,iBAAA,GAAoB,MAAY;MAC9B,IAAI,KAAK8D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ9D,iBAAA,CAAkB;MACjC,OAAO;QACL,KAAK+D,aAAA,GAAgB;MACvB;IACF;IAEA,KAAA0C,eAAA,GAAmBjT,KAAA,IAAmC;MACpD,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ2C,eAAA,CAAgBjT,KAAK;MACpC,OAAO;QACL,KAAK2Q,kBAAA,GAAqB3Q,KAAA;MAC5B;IACF;IAEA,KAAAiU,gBAAA,GAAmB,MAAY;MAC7B,IAAI,KAAK3D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ2D,gBAAA,CAAiB;MAChC,OAAO;QACL,KAAKtD,kBAAA,GAAqB;MAC5B;IACF;IAEA,KAAAwC,uBAAA,GAA2BnT,KAAA,IAA2C;MACpE,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ6C,uBAAA,CAAwBnT,KAAK;MAC5C,OAAO;QACL,KAAK4Q,0BAAA,GAA6B5Q,KAAA;MACpC;IACF;IAEA,KAAAkU,wBAAA,GAA2B,MAAY;MACrC,IAAI,KAAK5D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ4D,wBAAA,CAAyB;MACxC,OAAO;QACL,KAAKtD,0BAAA,GAA6B;MACpC;IACF;IAEA,KAAAwC,sBAAA,GAA0BpT,KAAA,IAA0C;MAClE,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ8C,sBAAA,CAAuBpT,KAAK;MAC3C,OAAO;QACL,KAAK6Q,yBAAA,GAA4B7Q,KAAA;MACnC;IACF;IAEA,KAAAmU,uBAAA,GAA0B,MAAY;MACpC,IAAI,KAAK7D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ6D,uBAAA,CAAwB;MACvC,OAAO;QACL,KAAKtD,yBAAA,GAA4B;MACnC;IACF;IAEA,KAAA/C,UAAA,GAAc9N,KAAA,IAA8B;MAC1C,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQxC,UAAA,CAAW9N,KAAK;MAC/B,OAAO;QACL,KAAK0Q,aAAA,GAAgB1Q,KAAA;MACvB;IACF;IAEA,KAAAoU,WAAA,GAAc,MAAY;MACxB,IAAI,KAAK9D,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ8D,WAAA,CAAY;MAC3B,OAAO;QACL,KAAK1D,aAAA,GAAgB;MACvB;IACF;IAEA,KAAAjI,WAAA,GAAc,CAACzH,IAAA,EAAsBhB,KAAA,KAA6B;MAChE,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ7H,WAAA,CAAYzH,IAAA,EAAMhB,KAAK;MACtC,OAAO;QACL,KAAK8Q,mBAAA,CAAoBnR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MAC1C;IACF;IAEA,KAAA0I,aAAA,GAAiB1H,IAAA,IAA+B;MAC9C,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ5H,aAAA,CAAc1H,IAAI;MACjC,OAAO;QACL,KAAK8P,mBAAA,CAAoBuD,MAAA,CAAOrT,IAAI;MACtC;IACF;IAEA,KAAA4J,oCAAA,GAAuC,CAAC5J,IAAA,EAAsBhB,KAAA,KAAsD;MAClH,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ1F,oCAAA,CAAqC5J,IAAA,EAAMhB,KAAK;MAC/D,OAAO;QACL,KAAKsR,6BAAA,CAA8B3R,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MACpD;IACF;IAEA,KAAA6K,sCAAA,GAA0C7J,IAAA,IAA+B;MACvE,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQzF,sCAAA,CAAuC7J,IAAI;MAC1D,OAAO;QACL,KAAKsQ,6BAAA,CAA8B+C,MAAA,CAAOrT,IAAI;MAChD;IACF;IAEA,KAAA8H,WAAA,GAAc,CAAC9H,IAAA,EAAsBhB,KAAA,KAA6B;MAChE,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQxH,WAAA,CAAY9H,IAAA,EAAMhB,KAAK;MACtC,OAAO;QACL,KAAK+Q,mBAAA,CAAoBpR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MAC1C;IACF;IAEA,KAAA+I,aAAA,GAAiB/H,IAAA,IAA+B;MAC9C,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQvH,aAAA,CAAc/H,IAAI;MACjC,OAAO;QACL,KAAK+P,mBAAA,CAAoBsD,MAAA,CAAOrT,IAAI;MACtC;IACF;IAEA,KAAAsI,gBAAA,GAAmB,CAACtI,IAAA,EAAsBhB,KAAA,KAAkC;MAC1E,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQhH,gBAAA,CAAiBtI,IAAA,EAAMhB,KAAK;MAC3C,OAAO;QACL,KAAKgR,wBAAA,CAAyBrR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MAC/C;IACF;IAEA,KAAAuJ,kBAAA,GAAsBvI,IAAA,IAA+B;MACnD,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ/G,kBAAA,CAAmBvI,IAAI;MACtC,OAAO;QACL,KAAKgQ,wBAAA,CAAyBqD,MAAA,CAAOrT,IAAI;MAC3C;IACF;IAEA,KAAAoK,wBAAA,GAA2B,CAACpK,IAAA,EAAsBhB,KAAA,KAA0C;MAC1F,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQlF,wBAAA,CAAyBpK,IAAA,EAAMhB,KAAK;MACnD,OAAO;QACL,KAAKkR,gCAAA,CAAiCvR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MACvD;IACF;IAEA,KAAAqL,0BAAA,GAA8BrK,IAAA,IAA+B;MAC3D,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQjF,0BAAA,CAA2BrK,IAAI;MAC9C,OAAO;QACL,KAAKkQ,gCAAA,CAAiCmD,MAAA,CAAOrT,IAAI;MACnD;IACF;IAEA,KAAAyK,uBAAA,GAA0B,CAACzK,IAAA,EAAsBhB,KAAA,KAAyC;MACxF,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ7E,uBAAA,CAAwBzK,IAAA,EAAMhB,KAAK;MAClD,OAAO;QACL,KAAKmR,+BAAA,CAAgCxR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MACtD;IACF;IAEA,KAAA0L,yBAAA,GAA6B1K,IAAA,IAA+B;MAC1D,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQ5E,yBAAA,CAA0B1K,IAAI;MAC7C,OAAO;QACL,KAAKmQ,+BAAA,CAAgCkD,MAAA,CAAOrT,IAAI;MAClD;IACF;IAEA,KAAA8K,yBAAA,GAA4B,CAAC9K,IAAA,EAAsBhB,KAAA,KAA2C;MAC5F,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQxE,yBAAA,CAA0B9K,IAAA,EAAMhB,KAAK;MACpD,OAAO;QACL,KAAKoR,iCAAA,CAAkCzR,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MACxD;IACF;IAEA,KAAA+L,2BAAA,GAA+B/K,IAAA,IAA+B;MAC5D,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQvE,2BAAA,CAA4B/K,IAAI;MAC/C,OAAO;QACL,KAAKoQ,iCAAA,CAAkCiD,MAAA,CAAOrT,IAAI;MACpD;IACF;IAEA,KAAAmL,qBAAA,GAAwB,CAACnL,IAAA,EAAsBhB,KAAA,KAAuC;MACpF,IAAI,KAAKsQ,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQnE,qBAAA,CAAsBnL,IAAA,EAAMhB,KAAK;MAChD,OAAO;QACL,KAAKqR,6BAAA,CAA8B1R,GAAA,CAAIqB,IAAA,EAAMhB,KAAK;MACpD;IACF;IAEA,KAAAoM,uBAAA,GAA2BpL,IAAA,IAA+B;MACxD,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQlE,uBAAA,CAAwBpL,IAAI;MAC3C,OAAO;QACL,KAAKqQ,6BAAA,CAA8BgD,MAAA,CAAOrT,IAAI;MAChD;IACF;IAEA,KAAAgJ,eAAA,GAAkB,CAAChJ,IAAA,EAAsBsT,eAAA,KAA2C;MAClF,IAAI,KAAKhE,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQtG,eAAA,CAAgBhJ,IAAA,EAAMsT,eAAe;MACpD,OAAO;QACL,KAAKrD,uBAAA,CAAwBtR,GAAA,CAAIqB,IAAA,EAAMsT,eAAe;MACxD;IACF;IAEA,KAAArK,iBAAA,GAAqBjJ,IAAA,IAA+B;MAClD,IAAI,KAAKsP,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKW,OAAA,CAAQrG,iBAAA,CAAkBjJ,IAAI;MACrC,OAAO;QACL,KAAKiQ,uBAAA,CAAwBoD,MAAA,CAAOrT,IAAI;MAC1C;IACF;IAEA,KAAAgS,WAAA,GAAeF,QAAA,IAAoD;MACjE,IAAI,KAAKxC,OAAA,EAAS;QAChB,OAAO,KAAKA,OAAA,CAAQ0C,WAAA,CAAYF,QAAQ;MAC1C,OAAO;QACL,MAAMyB,WAAA,GAAcA,CAAA,KAAM;UAz4BhC,IAAAlN,EAAA;UA04BQ,MAAMwL,gBAAA,GAAmB,KAAKrB,wBAAA,CAAyB9R,GAAA,CAAIoT,QAAQ;UACnE,IAAID,gBAAA,EAAkB;YACpB,CAAAxL,EAAA,GAAAwL,gBAAA,CAAiBE,iBAAA,KAAjB,gBAAA1L,EAAA,CAAAkM,IAAA,CAAAV,gBAAA;YACA,KAAKrB,wBAAA,CAAyB6C,MAAA,CAAOvB,QAAQ;UAC/C;QACF;QACA,KAAKtB,wBAAA,CAAyB7R,GAAA,CAAImT,QAAA,EAAU;UAAEyB,WAAA;UAAaxB,iBAAA,EAAmB;QAAU,CAAC;QACzF,OAAOwB,WAAA;MACT;IACF;IAEA,KAAAC,QAAA,GAAYlC,EAAA,IAAqB;MAC/B,MAAMX,QAAA,GAAWA,CAAA,KAAG;QAt5BxB,IAAAtK,EAAA;QAs5B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcmN,QAAA,CAASlC,EAAA;MAAA;MAC9C,IAAI,KAAKhC,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,KAAKgC,QAAA,CAAS;MAChB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,YAAYgS,QAAQ;MACnD;IACF;IAEA,KAAA8C,gBAAA,GAAmB,kBAA4E;MAAA,SAAAC,IAAA,GAAA7V,SAAA,CAAAS,MAAA,EAAlEqV,IAAA,OAAApU,KAAA,CAAAmU,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;QAAAD,IAAA,CAAAC,IAAA,IAAA/V,SAAA,CAAA+V,IAAA;MAAA;MAC3B,MAAMjD,QAAA,GAAWA,CAAA,KAAG;QA/5BxB,IAAAtK,EAAA;QA+5B2B,QAAAA,EAAA,GAAA+I,KAAA,CAAKE,OAAA,KAAL,gBAAAjJ,EAAA,CAAcoN,gBAAA,CAAiB,GAAGE,IAAA;MAAA;MACzD,IAAIvE,KAAA,CAAKE,OAAA,IAAWsB,YAAA,CAAAxB,KAAA,EAAKT,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACLvB,KAAA,CAAKmB,mBAAA,CAAoB5R,GAAA,CAAI,oBAAoBgS,QAAQ;QACzD;MACF;IACF;IAEA,KAAAtE,gBAAA,GAAmB,MAAOF,IAAA,IAAkD;MAC1E,MAAMwE,QAAA,GAAWA,CAAA,KAAG;QAz6BxB,IAAAtK,EAAA;QAy6B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcgG,gBAAA,CAAiBF,IAAA;MAAA;MACtD,IAAI,KAAKmD,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,oBAAoBgS,QAAQ;QACzD;MACF;IACF;IAEA,KAAA5D,gBAAA,GAAmB,MAAOZ,IAAA,IAAkD;MAC1E,MAAMwE,QAAA,GAAWA,CAAA,KAAG;QAn7BxB,IAAAtK,EAAA;QAm7B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc0G,gBAAA,CAAiBZ,IAAA;MAAA;MACtD,IAAI,KAAKmD,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,oBAAoBgS,QAAQ;QACzD;MACF;IACF;IAEA,KAAAkD,qBAAA,GAAwB,YAA8B;MACpD,MAAMlD,QAAA,GAAWA,CAAA,KAAG;QA77BxB,IAAAtK,EAAA;QA67B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcwN,qBAAA;MAAA;MACrC,IAAI,KAAKvE,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,yBAAyBgS,QAAQ;QAC9D;MACF;IACF;IAEA,KAAAmD,qBAAA,GAAwB,MAAY;MAClC,MAAMnD,QAAA,GAAWA,CAAA,KAAG;QAv8BxB,IAAAtK,EAAA;QAu8B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcyN,qBAAA;MAAA;MACrC,IAAI,KAAKxE,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,yBAAyBgS,QAAQ;MAChE;IACF;IAEA,KAAAoD,qBAAA,GAAwB,MAAY;MAClC,MAAMpD,QAAA,GAAWA,CAAA,KAAG;QAh9BxB,IAAAtK,EAAA;QAg9B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc0N,qBAAA;MAAA;MACrC,IAAI,KAAKzE,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChCgC,QAAA,CAAS;MACX,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,yBAAyBgS,QAAQ;MAChE;IACF;IAEA,KAAAqD,sBAAA,GAAyB,MAAY;MACnC,MAAMrD,QAAA,GAAWA,CAAA,KAAG;QAz9BxB,IAAAtK,EAAA;QAy9B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc2N,sBAAA;MAAA;MACrC,IAAI,KAAK1E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChCgC,QAAA,CAAS;MACX,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,0BAA0BgS,QAAQ;MACjE;IACF;IAEA,KAAAsD,6BAAA,GAAgC,YAA8B;MAC5D,MAAMtD,QAAA,GAAWA,CAAA,KAAG;QAl+BxB,IAAAtK,EAAA;QAk+B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc4N,6BAAA;MAAA;MACrC,IAAI,KAAK3E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,iCAAiCgS,QAAQ;QACtE;MACF;IACF;IAEA,KAAAuD,4BAAA,GAA+B,YAA8B;MAC3D,MAAMvD,QAAA,GAAWA,CAAA,KAAG;QA5+BxB,IAAAtK,EAAA;QA4+B2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc6N,4BAAA;MAAA;MACrC,IAAI,KAAK5E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,gCAAgCgS,QAAQ;QACrE;MACF;IACF;IAEA,KAAAwD,sBAAA,GAA0BC,MAAA,IAA4C;MAr/BxE,IAAA/N,EAAA;MAs/BI,MAAMsK,QAAA,GAAWA,CAAA,KAAG;QAt/BxB,IAAA0D,GAAA;QAs/B2B,QAAAA,GAAA,QAAK/E,OAAA,KAAL,gBAAA+E,GAAA,CAAcF,sBAAA,CAAuBC,MAAA;MAAA;MAC5D,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAKtI,EAAA,GAAAsK,QAAA,CAAS,MAAT,gBAAAtK,EAAA,CAAYiO,KAAA,CAAM,MAAM,CAQ7B;MACF,OAAO;QACL,KAAK/D,mBAAA,CAAoB5R,GAAA,CAAI,0BAA0BgS,QAAQ;MACjE;IACF;IAEA,KAAA4D,0BAAA,GAA6B,CAC3BC,UAAA,EACAJ,MAAA,KACS;MAzgCb,IAAA/N,EAAA;MA0gCI,MAAMsK,QAAA,GAAWA,CAAA,KAAG;QA1gCxB,IAAA0D,GAAA;QA0gC2B,QAAAA,GAAA,QAAK/E,OAAA,KAAL,gBAAA+E,GAAA,CAAcE,0BAAA,CAA2BC,UAAA,EAAYJ,MAAA;MAAA;MAC5E,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAKtI,EAAA,GAAAsK,QAAA,CAAS,MAAT,gBAAAtK,EAAA,CAAYiO,KAAA,CAAM,MAAM,CAQ7B;MACF,OAAO;QACL,KAAK/D,mBAAA,CAAoB5R,GAAA,CAAI,8BAA8BgS,QAAQ;MACrE;IACF;IAEA,KAAA8D,2BAAA,GAA8B,MAAOL,MAAA,IAA6D;MAChG,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QA3hCxB,IAAAtK,EAAA;QA2hC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcoO,2BAAA,CAA4BL,MAAA;MAAA;MACjE,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,+BAA+BgS,QAAQ;MACtE;IACF;IAEA,KAAAjD,wBAAA,GAA2B,MAAO0G,MAAA,IAA0D;MAC1F,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QApiCxB,IAAAtK,EAAA;QAoiC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcqH,wBAAA,CAAyB0G,MAAA;MAAA;MAC9D,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,4BAA4BgS,QAAQ;MACnE;IACF;IAEA,KAAA+D,wBAAA,GAA2B,MAAON,MAAA,IAA0D;MAC1F,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QA7iCxB,IAAAtK,EAAA;QA6iC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcqO,wBAAA,CAAyBN,MAAA;MAAA;MAC9D,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,4BAA4BgS,QAAQ;MACnE;IACF;IAEA,KAAAgE,8BAAA,GAAiC,MAAOP,MAAA,IAAgE;MACtG,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QAtjCxB,IAAAtK,EAAA;QAsjC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcsO,8BAAA,CAA+BP,MAAA;MAAA;MACpE,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,kCAAkCgS,QAAQ;MACzE;IACF;IAEA,KAAAiE,oBAAA,GAAuB,MAAOR,MAAA,IAA2D;MACvF,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QA/jCxB,IAAAtK,EAAA;QA+jC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcuO,oBAAA,CAAqBR,MAAA;MAAA;MAC1D,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,wBAAwBgS,QAAQ;MAC/D;IACF;IAEA,KAAAkE,4BAAA,GAA+B,MAC7BT,MAAA,IAC6C;MAC7C,MAAM9E,OAAA,GAAU,MAAMgD,eAAA,OAAKtD,0BAAA,EAAAC,iBAAA,EAALsD,IAAA;MACtB,OAAOjD,OAAA,CAAQuF,4BAAA,CAA6BT,MAAM;IACpD;IAEA,KAAAU,kBAAA,GAAqB,MAAOV,MAAA,IAA2E;MACrG,MAAMzD,QAAA,GAAWA,CAAA,KAAG;QA/kCxB,IAAAtK,EAAA;QA+kC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcyO,kBAAA,CAAmBV,MAAA;MAAA;MACxD,IAAI,KAAK9E,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,sBAAsBgS,QAAQ;MAC7D;IACF;IAEA,KAAAoE,eAAA,GAAkB,MAAOC,cAAA,IAAiE;MACxF,MAAMrE,QAAA,GAAWA,CAAA,KAAG;QAxlCxB,IAAAtK,EAAA;QAwlC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc0O,eAAA,CAAgBC,cAAA;MAAA;MACrD,IAAI,KAAK1F,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,mBAAmBgS,QAAQ;MAC1D;IACF;IAEA,KAAAtD,OAAA,GAAmB,OACjB4H,wBAAA,EACA9F,OAAA,KACkB;MAClB,MAAMwB,QAAA,GAAWA,CAAA,KAAG;QApmCxB,IAAAtK,EAAA;QAomC2B,QAAAA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcgH,OAAA,CAAQ4H,wBAAA,EAAiC9F,OAAA;MAAA;MAC9E,IAAI,KAAKG,OAAA,IAAWsB,YAAA,OAAKjC,OAAA,GAAS;QAChC,OAAOgC,QAAA,CAAS;MAClB,OAAO;QACL,KAAKJ,mBAAA,CAAoB5R,GAAA,CAAI,WAAWgS,QAAQ;MAClD;IACF;IAh3BE,MAAM;MAAEuE,KAAA,GAAQ;MAAMC;IAAe,IAAIhG,OAAA,IAAW,CAAC;IACrDkD,YAAA,OAAKvD,eAAA,EAAkBqG,cAAA;IACvB9C,YAAA,OAAKxD,SAAA,EAAYM,OAAA,oBAAAA,OAAA,CAASiG,QAAA;IAC1B/C,YAAA,OAAKzD,OAAA,EAAUO,OAAA,oBAAAA,OAAA,CAASkG,MAAA;IACxB,KAAKlG,OAAA,GAAUA,OAAA;IACf,KAAK+F,KAAA,GAAQA,KAAA;IACb,KAAKlJ,IAAA,GAAOkC,SAAA,CAAU,IAAI,YAAY;IAEtC,IAAI,CAAC,KAAKiB,OAAA,CAAQmG,WAAA,EAAa;MAC7B,KAAKnG,OAAA,CAAQmG,WAAA,GAAcjH,YAAA;IAC7B;IAEA,KAAK,KAAKkH,WAAA,CAAY;EACxB;EA/DA,IAAIJ,eAAA,EAAyB;IAC3B,OAAOvE,YAAA,OAAK9B,eAAA;EACd;EAEA,IAAI2C,OAAA,EAAkB;IACpB,OAAOb,YAAA,OAAKjC,OAAA;EACd;EAIA,OAAO6G,oBAAoBrG,OAAA,EAAiC;IAK1D,IAAI,CAACjB,SAAA,CAAU,KAAK,CAAC0C,YAAA,OAAK7B,SAAA,KAAcI,OAAA,CAAQ+F,KAAA,IAAStE,YAAA,OAAK7B,SAAA,EAAUmG,KAAA,KAAU/F,OAAA,CAAQ+F,KAAA,EAAQ;MAChG7C,YAAA,OAAKtD,SAAA,EAAY,IAAIG,gBAAA,CAAgBC,OAAO;IAC9C;IACA,OAAOyB,YAAA,OAAK7B,SAAA;EACd;EAEA,OAAO0G,cAAA,EAAgB;IACrBpD,YAAA,OAAKtD,SAAA,EAAY;EACnB;EAEA,IAAIsG,OAAA,EAAiB;IAGnB,IAAI,OAAO/Y,MAAA,KAAW,eAAeA,MAAA,CAAOoZ,QAAA,EAAU;MACpD,OAAOvH,eAAA,CAAgByC,YAAA,OAAKhC,OAAA,GAAS,IAAI+G,GAAA,CAAIrZ,MAAA,CAAOoZ,QAAA,CAAS7Q,IAAI,GAAG,EAAE;IACxE;IACA,IAAI,OAAO+L,YAAA,OAAKhC,OAAA,MAAY,YAAY;MACtC,OAAOtR,YAAA,CAAaC,KAAA,CAAMqY,6CAA6C;IACzE;IACA,OAAOhF,YAAA,OAAKhC,OAAA,KAAW;EACzB;EAEA,IAAIwG,SAAA,EAAmB;IAGrB,IAAI,OAAO9Y,MAAA,KAAW,eAAeA,MAAA,CAAOoZ,QAAA,EAAU;MACpD,OAAOvH,eAAA,CAAgByC,YAAA,OAAK/B,SAAA,GAAW,IAAI8G,GAAA,CAAIrZ,MAAA,CAAOoZ,QAAA,CAAS7Q,IAAI,GAAG,EAAE;IAC1E;IACA,IAAI,OAAO+L,YAAA,OAAK/B,SAAA,MAAc,YAAY;MACxC,OAAOvR,YAAA,CAAaC,KAAA,CAAMqY,6CAA6C;IACzE;IACA,OAAOhF,YAAA,OAAK/B,SAAA,KAAa;EAC3B;EAkBA,IAAIyG,YAAA,EAAuC;IAzQ7C,IAAAjP,EAAA;IA0QI,SAAOA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAciP,WAAA,KAAe,KAAKnG,OAAA,CAAQmG,WAAA,IAAe;EAClE;EAEA,IAAIO,aAAA,EAAyC;IA7Q/C,IAAAxP,EAAA;IA8QI,QAAOA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcwP,YAAA;EACvB;EAEA,IAAIC,YAAA,EAAsB;IAjR5B,IAAAzP,EAAA;IAkRI,SAAOA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAcyP,WAAA,KAAe;EACtC;EAEA,IAAIC,kBAAA,EAA6B;IArRnC,IAAA1P,EAAA;IAsRI,SAAOA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAc0P,iBAAA,KAAqB,KAAK5G,OAAA,CAAQ6G,eAAA,IAAmB;EAC5E;EAEA,IAAIC,YAAA,EAAuB;IAGzB,IAAI,OAAO3Z,MAAA,KAAW,eAAeA,MAAA,CAAOoZ,QAAA,EAAU;MACpD,OAAOvH,eAAA,CAAgB,KAAKgB,OAAA,CAAQ8G,WAAA,EAAa,IAAIN,GAAA,CAAIrZ,MAAA,CAAOoZ,QAAA,CAAS7Q,IAAI,GAAG,KAAK;IACvF;IACA,IAAI,OAAO,KAAKsK,OAAA,CAAQ8G,WAAA,KAAgB,YAAY;MAClD,OAAO3Y,YAAA,CAAaC,KAAA,CAAMqY,6CAA6C;IACzE;IACA,OAAO;EACT;EA2GA,MAAML,YAAA,EAAwE;IA9YhF,IAAAlP,EAAA;IA+YI,IAAI,KAAK2F,IAAA,KAAS,aAAa4E,YAAA,OAAKjC,OAAA,GAAS;MAC3C;IACF;IAYA,IAAI,OAAOrS,MAAA,KAAW,aAAa;MACjCA,MAAA,CAAO4Z,uBAAA,GAA0BtF,YAAA,OAAK9B,eAAA;MACtCxS,MAAA,CAAO6Z,iBAAA,GAAoB,KAAKf,QAAA;MAChC9Y,MAAA,CAAO8Z,cAAA,GAAiB,KAAKf,MAAA;IAC/B;IAEA,IAAI;MACF,IAAI,KAAKH,KAAA,EAAO;QAEd,IAAImB,CAAA;QAEJ,IAAIvY,aAAA,CAAyE,KAAKoX,KAAK,GAAG;UAExFmB,CAAA,GAAI,IAAI,KAAKnB,KAAA,CAAMtE,YAAA,OAAK9B,eAAA,GAAiB;YACvCsG,QAAA,EAAU,KAAKA,QAAA;YACfC,MAAA,EAAQ,KAAKA;UACf,CAAQ;UAER,MAAMgB,CAAA,CAAEC,IAAA,CAAK,KAAKnH,OAAO;QAC3B,OAAO;UAELkH,CAAA,GAAI,KAAKnB,KAAA;UAET,IAAI,CAACmB,CAAA,CAAE5E,MAAA,EAAQ;YACb,MAAM4E,CAAA,CAAEC,IAAA,CAAK,KAAKnH,OAAO;UAC3B;QACF;QAEA5S,MAAA,CAAO2Y,KAAA,GAAQmB,CAAA;MACjB,OAAO;QAEL,IAAI,CAAC9Z,MAAA,CAAO2Y,KAAA,EAAO;UACjB,MAAM9G,iBAAA,CAAkB;YACtB,GAAG,KAAKe,OAAA;YACRgG,cAAA,EAAgBvE,YAAA,OAAK9B,eAAA;YACrBsG,QAAA,EAAU,KAAKA,QAAA;YACfC,MAAA,EAAQ,KAAKA,MAAA;YACbkB,KAAA,EAAO,KAAKpH,OAAA,CAAQoH;UACtB,CAAC;QACH;QAEA,IAAI,CAACha,MAAA,CAAO2Y,KAAA,EAAO;UACjB,MAAM,IAAItD,KAAA,CAAM,+DAA+D;QACjF;QAEA,MAAMrV,MAAA,CAAO2Y,KAAA,CAAMoB,IAAA,CAAK,KAAKnH,OAAO;MACtC;MAEA,KAAI9I,EAAA,GAAA9J,MAAA,CAAO2Y,KAAA,KAAP,gBAAA7O,EAAA,CAAcoL,MAAA,EAAQ;QACxB,OAAO,KAAKE,cAAA,CAAepV,MAAA,CAAO2Y,KAAK;MACzC;MACA;IACF,SAASsB,GAAA,EAAK;MACZ,MAAMpY,KAAA,GAAQoY,GAAA;MAId,IAAIhI,OAAA,CAAQC,GAAA,CAAIC,QAAA,KAAa,cAAc;QACzC+H,OAAA,CAAQrY,KAAA,CAAMA,KAAA,CAAMsY,KAAA,IAAStY,KAAA,CAAMuY,OAAA,IAAWvY,KAAK;MACrD,OAAO;QACL,MAAMoY,GAAA;MACR;MACA;IACF;EACF;EAsFA,IAAIlI,QAAA,EAA8B;IAnjBpC,IAAAjI,EAAA;IAojBI,QAAOA,EAAA,QAAKiJ,OAAA,KAAL,gBAAAjJ,EAAA,CAAciI,OAAA;EACvB;EAEA,IAAIsI,OAAA,EAAqC;IACvC,IAAI,KAAKtH,OAAA,EAAS;MAChB,OAAO,KAAKA,OAAA,CAAQsH,MAAA;IAEtB,OAAO;MACL,OAAO;IACT;EACF;EAEA,IAAIlE,QAAA,EAAoD;IACtD,IAAI,KAAKpD,OAAA,EAAS;MAChB,OAAO,KAAKA,OAAA,CAAQoD,OAAA;IACtB,OAAO;MACL,OAAO;IACT;EACF;EAEA,IAAImE,KAAA,EAAwC;IAC1C,IAAI,KAAKvH,OAAA,EAAS;MAChB,OAAO,KAAKA,OAAA,CAAQuH,IAAA;IACtB,OAAO;MACL,OAAO;IACT;EACF;EAEA,IAAIlE,aAAA,EAAwD;IAC1D,IAAI,KAAKrD,OAAA,EAAS;MAChB,OAAO,KAAKA,OAAA,CAAQqD,YAAA;IACtB,OAAO;MACL,OAAO;IACT;EACF;EAEA,IAAImE,UAAA,EAA4C;IAC9C,IAAI,KAAKxH,OAAA,EAAS;MAEhB,OAAO,KAAKA,OAAA,CAAQwH,SAAA;IACtB,OAAO;MACL,OAAO;IACT;EACF;EAEA,IAAIC,wBAAA,EAA+B;IACjC,IAAI,KAAKzH,OAAA,EAAS;MAChB,OAAQ,KAAKA,OAAA,CAAgByH,uBAAA;IAE/B,OAAO;MACL,OAAO;IACT;EACF;EAEAC,2BAAA,EAA+C;IAC7C,IAAI,KAAK1H,OAAA,IAAW,gCAAgC,KAAKA,OAAA,EAAS;MAAA,SAAA2H,KAAA,GAAApZ,SAAA,CAAAS,MAAA,EADtCqV,IAAA,OAAApU,KAAA,CAAA0X,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAAvD,IAAA,CAAAuD,KAAA,IAAArZ,SAAA,CAAAqZ,KAAA;MAAA;MAEzB,KAAK5H,OAAA,CAAgB0H,0BAAA,CAA2BrD,IAAI;IACvD,OAAO;MACL,OAAO;IACT;EACF;AA2fF;AAx6BEhF,OAAA,OAAAwI,OAAA;AACAvI,OAAA,OAAAuI,OAAA;AACAtI,SAAA,OAAAsI,OAAA;AACArI,eAAA,OAAAqI,OAAA;AAUOpI,SAAA,OAAAoI,OAAA;AA7CFnI,0BAAA,OAAAoI,OAAA;AAqOLnI,iBAAA,GAAe,SAAAA,CAAA,EAAiD;EAC9D,OAAO,IAAI4D,OAAA,CAA6CwE,OAAA,IAAW;IACjE,KAAK7F,WAAA,CAAY,MAAM6F,OAAA,CAAQ,KAAK/H,OAAQ,CAAC;EAC/C,CAAC;AACH;AA5LAD,YAAA,CA7CWH,gBAAA,EA6CJH,SAAA;AA7CF,IAAMuI,eAAA,GAANpI,gBAAA;;;ACzJA,IAAMqI,WAAA,GAAcA,CAACC,WAAA,EAAsBC,KAAA,EAAkBnY,YAAA,KAA2C;EAC7G,IAAI,CAACkY,WAAA,IAAelY,YAAA,EAAc;IAChC,OAAOoY,yBAAA,CAA0BpY,YAAY;EAC/C;EACA,OAAOqY,yBAAA,CAA0BF,KAAK;AACxC;AAEA,IAAMC,yBAAA,GAA6BpY,YAAA,IAA+B;EAChE,MAAMsY,MAAA,GAAStY,YAAA,CAAasY,MAAA;EAC5B,MAAMf,IAAA,GAAOvX,YAAA,CAAauX,IAAA;EAC1B,MAAMgB,SAAA,GAAYvY,YAAA,CAAauY,SAAA;EAC/B,MAAMnF,OAAA,GAAUpT,YAAA,CAAaoT,OAAA;EAC7B,MAAMC,YAAA,GAAerT,YAAA,CAAaqT,YAAA;EAClC,MAAMmF,KAAA,GAAQxY,YAAA,CAAawY,KAAA;EAC3B,MAAMC,OAAA,GAAUzY,YAAA,CAAayY,OAAA;EAC7B,MAAMC,cAAA,GAAiB1Y,YAAA,CAAa0Y,cAAA;EACpC,MAAMC,OAAA,GAAU3Y,YAAA,CAAa2Y,OAAA;EAC7B,MAAMC,KAAA,GAAQ5Y,YAAA,CAAa4Y,KAAA;EAE3B,OAAO;IACLN,MAAA;IACAf,IAAA;IACAgB,SAAA;IACAnF,OAAA;IACAC,YAAA;IACAmF,KAAA;IACAC,OAAA;IACAC,cAAA;IACAC,OAAA;IACAC;EACF;AACF;AAEA,IAAMP,yBAAA,GAA6BF,KAAA,IAAqB;EA3CxD,IAAApR,EAAA;EA4CE,MAAMuR,MAAA,GAAoCH,KAAA,CAAMZ,IAAA,GAAOY,KAAA,CAAMZ,IAAA,CAAK/W,EAAA,GAAK2X,KAAA,CAAMZ,IAAA;EAC7E,MAAMA,IAAA,GAAOY,KAAA,CAAMZ,IAAA;EACnB,MAAMgB,SAAA,GAAuCJ,KAAA,CAAM/E,OAAA,GAAU+E,KAAA,CAAM/E,OAAA,CAAQ5S,EAAA,GAAK2X,KAAA,CAAM/E,OAAA;EACtF,MAAMA,OAAA,GAAU+E,KAAA,CAAM/E,OAAA;EACtB,MAAMwF,KAAA,GAAQxF,OAAA,oBAAAA,OAAA,CAASwF,KAAA;EACvB,MAAMvF,YAAA,GAAe8E,KAAA,CAAM9E,YAAA;EAC3B,MAAMmF,KAAA,GAAmCL,KAAA,CAAM9E,YAAA,GAAe8E,KAAA,CAAM9E,YAAA,CAAa7S,EAAA,GAAK2X,KAAA,CAAM9E,YAAA;EAC5F,MAAMsF,OAAA,GAAUtF,YAAA,oBAAAA,YAAA,CAAcwF,IAAA;EAC9B,MAAMC,UAAA,GAAazF,YAAA,IACftM,EAAA,GAAAwQ,IAAA,oBAAAA,IAAA,CAAMwB,uBAAA,KAAN,gBAAAhS,EAAA,CAA+BjD,IAAA,CAAKkV,EAAA,IAAMA,EAAA,CAAG3F,YAAA,CAAa7S,EAAA,KAAOgY,KAAA,IACjEnF,YAAA;EACJ,MAAMqF,cAAA,GAAiBI,UAAA,GAAaA,UAAA,CAAWG,WAAA,GAAcH,UAAA;EAC7D,MAAML,OAAA,GAAUK,UAAA,GAAaA,UAAA,CAAWI,IAAA,GAAOJ,UAAA;EAE/C,OAAO;IACLR,MAAA;IACAf,IAAA;IACAgB,SAAA;IACAnF,OAAA;IACAC,YAAA;IACAmF,KAAA;IACAC,OAAA;IACAE,OAAA;IACAD,cAAA;IACAE;EACF;AACF;;;AFpDO,SAASO,qBAAqBzZ,KAAA,EAAiD;EACpF,MAAM;IAAE0Z,sBAAA;IAAwBpZ,YAAA;IAAcrC;EAAS,IAAI+B,KAAA;EAC3D,MAAM;IAAE2Z,eAAA,EAAiBnR,KAAA;IAAOiK,MAAA,EAAQ+F;EAAY,IAAIoB,wBAAA,CAAyBF,sBAAsB;EAEvG,MAAM,CAACjB,KAAA,EAAOoB,QAAQ,IAAI5K,OAAA,CAAM/O,QAAA,CAAoC;IAClE0X,MAAA,EAAQpP,KAAA,CAAMoP,MAAA;IACdlE,OAAA,EAASlL,KAAA,CAAMkL,OAAA;IACfmE,IAAA,EAAMrP,KAAA,CAAMqP,IAAA;IACZlE,YAAA,EAAcnL,KAAA,CAAMmL;EACtB,CAAC;EAED1E,OAAA,CAAMzP,SAAA,CAAU,MAAM;IACpB,OAAOgJ,KAAA,CAAMwK,WAAA,CAAY3U,CAAA,IAAKwb,QAAA,CAAS;MAAE,GAAGxb;IAAE,CAAC,CAAC;EAClD,GAAG,EAAE;EAEL,MAAMyb,YAAA,GAAevB,WAAA,CAAYC,WAAA,EAAaC,KAAA,EAAOnY,YAAY;EACjE,MAAMyZ,QAAA,GAAW9K,OAAA,CAAM+K,OAAA,CAAQ,OAAO;IAAEC,KAAA,EAAOzR;EAAM,IAAI,CAACgQ,WAAW,CAAC;EACtE,MAAM0B,SAAA,GAAYjL,OAAA,CAAM+K,OAAA,CAAQ,OAAO;IAAEC,KAAA,EAAOxB,KAAA,CAAMb;EAAO,IAAI,CAACa,KAAA,CAAMb,MAAM,CAAC;EAE/E,MAAM;IAAEiB,SAAA;IAAWnF,OAAA;IAASkF,MAAA;IAAQf,IAAA;IAAMiB,KAAA;IAAOI,KAAA;IAAOvF,YAAA;IAAcoF,OAAA;IAASE,OAAA;IAASD;EAAe,IACrGc,YAAA;EAEF,MAAMK,OAAA,GAAUlL,OAAA,CAAM+K,OAAA,CAAQ,MAAM;IAClC,MAAMC,KAAA,GAAQ;MAAEpB,SAAA;MAAWD,MAAA;MAAQM,KAAA;MAAOJ,KAAA;MAAOC,OAAA;MAASE,OAAA;MAASD;IAAe;IAClF,OAAO;MAAEiB;IAAM;EACjB,GAAG,CAACpB,SAAA,EAAWD,MAAA,EAAQM,KAAA,EAAOJ,KAAA,EAAOC,OAAA,EAASE,OAAO,CAAC;EACtD,MAAMmB,OAAA,GAAUnL,OAAA,CAAM+K,OAAA,CAAQ,OAAO;IAAEC,KAAA,EAAOpC;EAAK,IAAI,CAACe,MAAA,EAAQf,IAAI,CAAC;EACrE,MAAMwC,UAAA,GAAapL,OAAA,CAAM+K,OAAA,CAAQ,OAAO;IAAEC,KAAA,EAAOvG;EAAQ,IAAI,CAACmF,SAAA,EAAWnF,OAAO,CAAC;EACjF,MAAM4G,eAAA,GAAkBrL,OAAA,CAAM+K,OAAA,CAAQ,MAAM;IAC1C,MAAMC,KAAA,GAAQ;MACZtG;IACF;IACA,OAAO;MAAEsG;IAAM;EACjB,GAAG,CAACnB,KAAA,EAAOnF,YAAY,CAAC;EAExB;IAAA;IAEE;IAAA1E,OAAA,CAAAnR,aAAA,CAACyc,sBAAA,CAAuBC,QAAA,EAAvB;MAAgCP,KAAA,EAAOF;IAAA,GACtC,eAAA9K,OAAA,CAAAnR,aAAA,CAAC+Q,aAAA,CAAc2L,QAAA,EAAd;MAAuBP,KAAA,EAAOC;IAAA,GAC7B,eAAAjL,OAAA,CAAAnR,aAAA,CAACiR,cAAA,CAAeyL,QAAA,EAAf;MAAwBP,KAAA,EAAOI;IAAA,GAC9B,eAAApL,OAAA,CAAAnR,aAAA,CAACgR,oBAAA;MAAsB,GAAGwL,eAAA,CAAgBL;IAAA,GACxC,eAAAhL,OAAA,CAAAnR,aAAA,CAAC2c,WAAA,CAAYD,QAAA,EAAZ;MAAqBP,KAAA,EAAOE;IAAA,GAC3B,eAAAlL,OAAA,CAAAnR,aAAA,CAACkR,WAAA,CAAYwL,QAAA,EAAZ;MAAqBP,KAAA,EAAOG;IAAA,GAAUnc,QAAS,CAClD,CACF,CACF,CACF,CACF;EAAA;AAEJ;AAEA,IAAM2b,wBAAA,GAA4BzJ,OAAA,IAAoC;EACpE,MAAM,CAACsC,MAAA,EAAQiI,SAAS,IAAIzL,OAAA,CAAM/O,QAAA,CAAS,KAAK;EAChD,MAAMyZ,eAAA,GAAkB1K,OAAA,CAAM+K,OAAA,CAAQ,MAAM1B,eAAA,CAAgB9B,mBAAA,CAAoBrG,OAAO,GAAG,EAAE;EAE5FlB,OAAA,CAAMzP,SAAA,CAAU,MAAM;IACpB,KAAKma,eAAA,CAAgBhR,uBAAA,CAAwB;MAAEgS,UAAA,EAAYxK,OAAA,CAAQwK;IAAW,CAAC;EACjF,GAAG,CAACxK,OAAA,CAAQwK,UAAU,CAAC;EAEvB1L,OAAA,CAAMzP,SAAA,CAAU,MAAM;IACpB,KAAKma,eAAA,CAAgBhR,uBAAA,CAAwB;MAAEwH;IAAQ,CAAC;EAC1D,GAAG,CAACA,OAAA,CAAQyK,YAAY,CAAC;EAEzB3L,OAAA,CAAMzP,SAAA,CAAU,MAAM;IACpBma,eAAA,CAAgBnH,WAAA,CAAY,MAAMkI,SAAA,CAAU,IAAI,CAAC;EACnD,GAAG,EAAE;EAELzL,OAAA,CAAMzP,SAAA,CAAU,MAAM;IACpB,OAAO,MAAM;MACX8Y,eAAA,CAAgB7B,aAAA,CAAc;IAChC;EACF,GAAG,EAAE;EAEL,OAAO;IAAEkD,eAAA;IAAiBlH;EAAO;AACnC;;;ADnFA,SAASoI,kBAAkB7a,KAAA,EAAwC;EACjE,MAAM;IAAEM,YAAA;IAAcrC,QAAA;IAAU,GAAG6c;EAA2B,IAAI9a,KAAA;EAClE,MAAM;IAAEmW,cAAA,GAAiB;IAAID,KAAA,EAAO6E;EAAqB,IAAID,0BAAA;EAE7D,IAAI,CAACC,oBAAA,EAAsB;IACzB,IAAI,CAAC5E,cAAA,EAAgB;MACnB7X,YAAA,CAAa0c,+BAAA,CAAgC;IAC/C,WAAW7E,cAAA,IAAkB,CAACxH,gBAAA,CAAiBwH,cAAc,GAAG;MAC9D7X,YAAA,CAAa2c,+BAAA,CAAgC;QAAE7S,GAAA,EAAK+N;MAAe,CAAC;IACtE;EACF;EAEA,OACE,eAAAvH,OAAA,CAAA9Q,aAAA,CAAC2b,oBAAA;IACCnZ,YAAA;IACAoZ,sBAAA,EAAwBoB;EAAA,GAEvB7c,QACH;AAEJ;AAEA,IAAMid,aAAA,GAAgBtb,4BAAA,CAA6Bib,iBAAA,EAAmB,iBAAiBM,2BAA2B;AAElHD,aAAA,CAAcpb,WAAA,GAAc;;;AbpB5Bsb,sBAAA,CAAuB;EAAEC,WAAA,EAAa;AAAa,CAAC;AACpD7d,iCAAA,CAAkC,oBAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}